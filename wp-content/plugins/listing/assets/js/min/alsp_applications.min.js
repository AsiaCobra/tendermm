var alsp_maps=[],alsp_maps_attrs=[],alsp_infoWindows=[],alsp_drawCircles=[],alsp_searchAddresses=[],alsp_polygons=[],alsp_fullScreens=[],alsp_global_markers_array=[],alsp_global_locations_array=[],alsp_markerClusters=[],alsp_stop_touchmove_listener=function(t){t.preventDefault()},alsp_glocation=function(t,e,i,s,o,n,a,r,l,c,d,u,p,h){this.id=t,this.point=e,this.map_icon_file=i,this.map_icon_color=s,this.listing_title=o,this.listing_logo=n,this.listing_url=a,this.content_fields=r,this.anchor=l,this.nofollow=c,this.show_summary_button=d,this.show_readmore_button=u,this.alsp_placeMarker=function(t){return this.marker=alsp_placeMarker(this,t),this.marker},this.is_ajax_markers=h},_alsp_map_markers_attrs_array,alsp_dragended,ZOOM_FOR_SINGLE_MARKER=17,alsp_map_backend=null,alsp_allow_map_zoom_backend=!0,alsp_geocoder_backend=null,alsp_infoWindow_backend=null,alsp_markersArray_backend=[],alsp_glocation_backend=function(t,e,i,s,o,n,a){this.index=t,this.point=e,this.location=i,this.address_line_1=s,this.address_line_2=o,this.zip_or_postal_index=n,this.map_icon_file=a,this.alsp_placeMarker=function(){return alsp_placeMarker_backend(this)},this.compileAddress=function(){var t=this.address_line_1;return this.address_line_2&&(t+=", "+this.address_line_2),this.location&&(t&&(t+=" "),t+=this.location),alsp_maps_objects.default_geocoding_location&&(t&&(t+=" "),t+=alsp_maps_objects.default_geocoding_location),this.zip_or_postal_index&&(t&&(t+=" "),t+=this.zip_or_postal_index),t},this.compileHtmlAddress=function(){var t=this.address_line_1;return this.address_line_2&&(t+=", "+this.address_line_2),this.location&&((this.address_line_1||this.address_line_2)&&(t+="<br />"),t+=this.location),this.zip_or_postal_index&&(t+=" "+this.zip_or_postal_index),t},this.setPoint=function(t){this.point=t}};function alsp_GDouglasPeucker(t,e){var i,s,o,n,a,r,l,c,d,u,p,h,m,g,f,_,v,b,w=Math.PI/180*.5,x=new Array,y=new Array,k=new Array;if(t.length<3)return t;for(i=t.length,d=360*e/(2*Math.PI*6378137),d*=d,o=0,y[0]=0,k[0]=i-1,s=1;s>0;)if(n=y[s-1],a=k[s-1],s--,a-n>1){for(u=t[a].lng()-t[n].lng(),p=t[a].lat()-t[n].lat(),Math.abs(u)>180&&(u=360-Math.abs(u)),h=(u*=Math.cos(w*(t[a].lat()+t[n].lat())))*u+p*p,E=n+1,r=n,c=-1;E<a;E++)m=t[E].lng()-t[n].lng(),g=t[E].lat()-t[n].lat(),Math.abs(m)>180&&(m=360-Math.abs(m)),f=(m*=Math.cos(w*(t[E].lat()+t[n].lat())))*m+g*g,_=t[E].lng()-t[a].lng(),v=t[E].lat()-t[a].lat(),Math.abs(_)>180&&(_=360-Math.abs(_)),(l=f>=h+(b=(_*=Math.cos(w*(t[E].lat()+t[a].lat())))*_+v*v)?b:b>=h+f?f:(m*p-g*u)*(m*p-g*u)/h)>c&&(r=E,c=l);c<d?(x[o]=n,o++):(y[++s-1]=r,k[s-1]=a,y[++s-1]=n,k[s-1]=r)}else x[o]=n,o++;x[o]=i-1,o++;for(var C=new Array,E=0;E<o;E++)C.push(t[x[E]]);return C}function alsp_make_slug(t){t=t.toLowerCase();for(var e=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],i=0;i<e.length;i++)t=t.replace(e[i].letters,e[i].base);return t=(t=t.replace(/\W/gi,"_")).replace(/(\_)\1+/gi,"_")}function alsp_in_array(t,e){for(var i=0;i<e.length;i++)if(e[i]==t)return i;return!1}function alsp_find_get_parameter(t){for(var e=null,i=[],s=location.search.substr(1).split("&"),o=0;o<s.length;o++)(i=s[o].split("="))[0]===t&&(e=decodeURIComponent(i[1]));return e}!function($){"use strict";$(function(){alsp_process_main_search_fields(),alsp_nice_scroll(),alsp_custom_input_controls(),alsp_my_location_buttons(),alsp_tokenizer(),alsp_add_body_classes(),alsp_equalColumnsHeight(),alsp_listings_carousel(),alsp_radius_slider(),alsp_hint(),alsp_favourites(),alsp_check_is_week_day_closed(),alsp_listing_tabs(),alsp_dashboard_tabs(),alsp_lightbox(),alsp_sticky_scroll(),alsp_tooltips(),alsp_ratings(),alsp_hours_content_field(),alsp_full_height_maps(),alsp_grid_field_drop_menu(),$(".pacz-loop-main-wrapper").hasClass("pacz-loop-main-wrapper2")&&(alsp_masonry_layout(),isotop_load_fix2())}),window.alsp_nice_scroll=function(){var t={cursorcolor:"#bdbdbd",cursorborderradius:"2px",cursorwidth:"7px",autohidemode:!1};$(".alsp-map-listings-panel").niceScroll(t),$(".alsp-dropdowns-menu").niceScroll(t)},window.alsp_my_location_buttons=function(){alsp_maps_objects.enable_my_location_button&&($(".alsp-get-location").attr("title",alsp_maps_objects.my_location_button),$("body").on("click",".alsp-get-location",function(){if(!$(this).hasClass("alsp-search-input-reset")){var t=$(this).parent().find("input");alsp_geocodeField(t,alsp_maps_objects.my_location_button_error)}}))},window.alsp_tokenizer=function(){$(".alsp-tokenizer").tokenize({})},window.alsp_add_body_classes=function(){"ontouchstart"in document.documentElement?$("body").addClass("alsp-touch"):$("body").addClass("alsp-no-touch")},window.alsp_listing_tabs=function(){$(document).on("click",".alsp-listing-tabs a",function(t){t.preventDefault(),alsp_show_tab($(this))});var t=window.location.hash.substring(1);"respond"==t||t.indexOf("comment-",0)>=0?alsp_show_tab($('.alsp-listing-tabs a[data-tab="#comments-tab"]')):t&&$('.alsp-listing-tabs a[data-tab="#'+t+'"]').length&&alsp_show_tab($('.alsp-listing-tabs a[data-tab="#'+t+'"]'))},window.alsp_show_tab=function(t){if($(".alsp-listing-tabs li").removeClass("active"),t.parent().addClass("active"),$(".tab-content .tab-pane").removeClass("in active"),$(".tab-content "+t.data("tab")).addClass("in active"),"#addresses-tab"==t.data("tab"))for(var e in alsp_maps)"object"==typeof alsp_maps[e]&&alsp_setZoomCenter(alsp_maps[e])},window.alsp_radius_slider=function(){$(".alsp-radius-slider").each(function(){var t=$(this).data("id");if("miles"==alsp_js_objects.alsp_miles_kilometers_in_search)var e="Mi";else e="Km";$("#radius_slider_"+t).slider({isRTL:alsp_js_objects.is_rtl,min:parseInt(slider_params.min),max:parseInt(slider_params.max),range:"min",value:$("#radius_"+t).val(),slide:function(i,s){alsp_js_objects.alsp_show_radius_tooltip?$(".ui-slider-handle:first").html('<div class="tooltip top slider-tip"><div class="tooltip-arrow"></div><div class="tooltip-inner">'+s.value+" "+e+"</div></div>"):$("#radius_label_"+t).html(s.value)},stop:function(e,i){$("#radius_"+t).val(i.value),$("#radius_"+t).val()>0&&$(this).parents("form").find("input[name='address']").length&&$(this).parents("form").find("input[name='address']").val()&&$("#radius_"+t).trigger("change")}})})},window.alsp_hint=function(){$("a.alsp-hint-icon").each(function(){$(this).popover({trigger:"hover",container:$(this).parents(".alsp-content")})})},window.alsp_favourites=function(){$(".add_to_favourites").length&&$(".add_to_favourites").click(function(){var t=$(this).attr("listingid");if(null!=$.cookie("favourites"))var e=$.cookie("favourites").split("*");else e=new Array;if(!1===alsp_in_array(t,e))e.push(t),$(this).find("span.unchecked").removeClass(alsp_js_objects.not_in_favourites_icon).addClass(alsp_js_objects.in_favourites_icon),$(this).find("span.alsp-bookmark-button").text(alsp_js_objects.not_in_favourites_msg);else{for(var i=0;i<e.length;i++)e[i]==t&&delete e[i];$(this).find("span.checked").removeClass(alsp_js_objects.in_favourites_icon).addClass(alsp_js_objects.not_in_favourites_icon),$(this).find("span.alsp-bookmark-button").text(alsp_js_objects.in_favourites_msg)}return $.cookie("favourites",e.join("*"),{expires:365,path:"/"}),!1})},window.alsp_check_is_week_day_closed=function(){$(".closed_cb").each(function(){_alsp_check_is_week_day_closed($(this))}),$(".closed_cb").click(function(){_alsp_check_is_week_day_closed($(this))})},window._alsp_check_is_week_day_closed=function(t){t.is(":checked")?t.parent().find(".alsp-week-day-input").attr("disabled","disabled"):t.parent().find(".alsp-week-day-input").removeAttr("disabled")},/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||$(window).on("popstate",function(){}),window.alsp_dashboard_tabs=function(){$(".alsp-dashboard-tabs.nav-tabs li").click(function(t){window.location=$(this).find("a").attr("href")})},window.alsp_lightbox=function(){if("undefined"!=typeof lightbox){var t=$("#alsp-lighbox-images a").data("alsp-lightbox");$("#alsp-lighbox-images a").removeAttr("data-alsp-lightbox").attr("data-lightbox",t),$("body").on("click","a[data-alsp-lightbox]",function(t){t.preventDefault();var e=$('#alsp-lighbox-images a[href="'+$(this).attr("href")+'"]');lightbox.option({wrapAround:!0}),lightbox.start(e)})}},window.alsp_sticky_scroll=function(){$(".alsp-sticky-scroll").each(function(){var t=$(this),e=t.data("id"),i=t.data("toppadding")?t.data("toppadding"):0;(0==i&&$("body").hasClass("admin-bar")&&(i=32),$(".site-header.header-fixed.fixed:visible").length)&&(i+=$(".site-header.header-fixed.fixed").outerHeight());if(!$("#alsp-scroller-anchor-"+e).length){var s=$("<div>",{id:"alsp-scroller-anchor-"+e});t.before(s);var o=$("<div>",{id:"alsp-sticky-scroll-background-"+e,style:{position:"relative"}});t.after(o)}window["alsp_sticky_scroll_toppadding_"+e]=i,$("#alsp-sticky-scroll-background-"+e).position().left=t.position().left,$("#alsp-sticky-scroll-background-"+e).position().top=t.position().top,$("#alsp-sticky-scroll-background-"+e).width(t.width()),$("#alsp-sticky-scroll-background-"+e).height(t.height());var n=function(t){var e=t.data.id,i=t.data.toppadding,s=$(document).scrollTop(),o=$("#alsp-scroller-anchor-"+e).offset().top-i,n=t.data.obj;t=$("#alsp-sticky-scroll-background-"+e);if(n.width(n.parent().width()).css({"z-index":100}),$(".alsp-scroller-bottom").length)var a=$(".alsp-scroller-bottom").offset().top-(n.height()+i);else a=$(document).height();a>n.height()?s>=o&&s<a?(n.css({position:"fixed",top:i}),t.css({position:"relative"})):(s<=o&&(n.stop().css({position:"relative",top:""}),t.css({position:"absolute"})),s>=a&&(n.css({position:"absolute"}),n.stop().offset({top:a+i}),t.css({position:"relative"}))):(n.css({position:"relative",top:""}),t.css({position:"absolute"}))};if($(document).width()>=768){var a={id:e,obj:$(this),toppadding:i};$(window).scroll(a,n),n({data:a})}$("#alsp-sticky-scroll-background-"+e).css({position:"absolute"})})},window.alsp_full_height_maps=function(){$(".alsp-maps-canvas-wrapper").each(function(){var t=$(this);if("100%"==(t.data("height")?t.data("height"):null)){var e=t.data("toppadding")?t.data("toppadding"):0;if(0==e&&$("body").hasClass("admin-bar")&&(e=32),$(".site-header.header-fixed.fixed:visible").length){var i=$(".site-header.header-fixed.fixed").outerHeight();e+=i}t.height(function(t,i){return window.innerHeight-e}),$(window).resize(function(){t.height(function(t,i){return window.innerHeight-e})})}})},window.alsp_tooltips=function(){$('[data-toggle="tooltip"]').tooltip({trigger:"hover",html:!0})},window.alsp_ratings=function(){$("body").on("click",".alsp-rating-active .alsp-rating-icon",function(){var t=$(this).parent(".alsp-rating-stars"),e=$(this).parents(".alsp-rating");e.fadeTo(2e3,.3),$.ajax({url:alsp_js_objects.ajaxurl,type:"POST",dataType:"json",data:{action:"alsp_save_rating",rating:$(this).data("rating"),post_id:t.data("listing"),_wpnonce:t.data("nonce")},rating_wrapper:e,success:function(t){0!=t&&t.html&&this.rating_wrapper.replaceWith(t.html).fadeIn("fast")}})})},window.alsp_hours_content_field=function(){function t(t){t.is(":checked")?t.parents(".alsp-week-day-wrap").find("select").attr("disabled","disabled"):t.parents(".alsp-week-day-wrap").find("select").removeAttr("disabled")}$(".alsp-closed-day-option").each(function(){t($(this))}),$("body").on("change",".alsp-closed-day-option",function(){t($(this))}),$("body").on("click",".alsp-clear-hours",function(){return $(this).parents(".alsp-field-input-block").find("select").each(function(){$(this).val($(this).find("option:first").val()).removeAttr("disabled")}),$(this).parents(".alsp-field-input-block").find('input[type="checkbox"]').each(function(){$(this).attr("checked",!1)}),!1})},window.alsp_custom_input_controls=function(){$(".alsp-checkbox label, .alsp-radio label").each(function(){$(this).find(".alsp-control-indicator").length||$(this).append($("<div>").addClass("alsp-control-indicator"))})},$(document).ajaxComplete(function(t,e,i){i.url===alsp_js_objects.ajaxurl&&alsp_custom_input_controls()}),window.alsp_get_rid_of_select2_choosen=function(){$("select.form-control").each(function(t,e){($(e).hasClass("select2-hidden-accessible")||$("#s2id_"+$(e).attr("id")).length)&&$(e).select2("destroy"),$("#"+$(e).attr("id")+"_chosen").length&&$(e).chosen("destroy")})},window.alsp_process_main_search_fields=function(){"undefined"!=typeof categories_combobox&&($(".alsp-selectmenu-alsp-category").categories_combobox(),$(".alsp-selectmenu-alsp-location").locations_combobox(),$(".alsp-address-autocomplete").address_autocomplete(),$(".alsp-keywords-autocomplete").keywords_autocomplete())},window.alsp_advancedSearch=function(t,e,i){1==$("#use_advanced_"+t).val()&&($("#alsp-advanced-search-label_"+t).find(".alsp-advanced-search-text").text(i),$("#alsp-advanced-search-label_"+t).find(".alsp-advanced-search-toggle").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up")),$("#alsp-advanced-search-label_"+t).off("click"),$("#alsp-advanced-search-label_"+t).click(function(s){$("#alsp_advanced_search_fields_"+t).is(":hidden")?($(this).find(".alsp-advanced-search-text").text(i),$("#use_advanced_"+t).val(1),$("#alsp_advanced_search_fields_"+t).show(),$(this).find(".alsp-advanced-search-toggle").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up")):($(this).find(".alsp-advanced-search-text").text(e),$("#use_advanced_"+t).val(0),$("#alsp_advanced_search_fields_"+t).hide(),$(this).find(".alsp-advanced-search-toggle").removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down"))})},window.alsp_equalColumnsHeight=function(){$(document).width()>=768&&setTimeout(function(){$(".alsp-listings-grid:not(.masonry) .no-carousel .alsp-listing, .userpanel-item-wrap").css("height","");var t,e=0,i=0,s=new Array;$(".alsp-listings-grid:not(.masonry) .no-carousel .alsp-listing, .userpanel-item-wrap").each(function(){var o=(t=$(this)).position().top;if(i!=o){for(var n=0;n<s.length;n++)s[n].height(e);s.length=0,i=o,e=t.height(),s.push(t)}else s.push(t),e=e<t.height()?t.height():e;for(n=0;n<s.length;n++)s[n].height(e)})},500)},window.alsp_equalColumnsHeightCat=function(){var t=new Array;$(".cat-style-3 .alsp-categories-column, .cat-style-6 .alsp-categories-column, .cat-style-7 .alsp-categories-column").each(function(){$(this).css("min-height","0"),$(this).css("max-height","none"),$(this).css("height","auto"),t.push($(this).height())});var e=Math.max.apply(Math,t);$(".cat-style-3 .alsp-categories-column, .cat-style-6 .alsp-categories-column, .cat-style-7 .alsp-categories-column").each(function(){$(this).css("height",e+"px")})},window.alsp_sendGeoPolyAJAX=function(t,e){var i;if(i=alsp_get_map_markers_attrs_array(t)){alsp_ajax_loader_target_show($("#alsp-maps-canvas-"+t));var s,o={};for(var n in i.map_attrs)o[n]=i.map_attrs[n];o.action="alsp_search_by_poly",o.hash=t,o.geo_poly=e,o.num=-1,(s=alsp_get_controller_args_array(t))?(o.hide_order=s.hide_order,o.hide_count=s.hide_count,o.hide_content=s.hide_content,o.hide_paginator=s.hide_paginator,o.show_views_switcher=s.show_views_switcher,o.listings_view_type=s.listings_view_type,o.listings_view_grid_columns=s.listings_view_grid_columns,o.listing_thumb_width=s.listing_thumb_width,o.wrap_logo_list_view=s.wrap_logo_list_view,o.logo_animation_effect=s.logo_animation_effect,o.grid_view_logo_ratio=s.grid_view_logo_ratio,o.scrolling_paginator=s.scrolling_paginator,o.perpage=s.perpage,o.onepage=s.onepage,o.order=s.order,o.order_by=s.order_by,o.base_url=s.base_url,alsp_ajax_loader_target_show($("#alsp-controller-"+t))):o.without_listings=1,$("#alsp-map-listings-panel-"+t).length&&(o.map_listings=1,alsp_ajax_loader_target_show($("#alsp-map-search-panel-wrapper-"+t))),$.post(alsp_js_objects.ajaxurl,o,function(t){alsp_process_listings_ajax_responce(t,!0,!1,!1)},"json")}},window.alsp_isSidebarOpen=function(t){return $("#alsp-maps-canvas-"+t).length&&$("#alsp-maps-canvas-"+t).hasClass("alsp-sidebar-open")};var alsp_animation_finished=!0;window.alsp_listings_carousel=function(){$(document).width()>=768&&$(".alsp-listings-carousel-wrapper").each(function(){var t=$(this).data("controller-hash"),e=0;$(this).find("article.alsp-listing").each(function(){e=e<$(this).height()?$(this).height():e}),$(this).height(e);var i=$("#alsp-controller-"+t+" .alsp-listings-block-content"),s=i.find("article.alsp-listing").width()+20;$("body").on("click","#alsp-controller-"+t+" .alsp-listings-carousel-button-left",function(){alsp_prev_slide(i,s)}),$("body").on("click","#alsp-controller-"+t+" .alsp-listings-carousel-button-right",function(){alsp_next_slide(i,s)}),$("body").on("swiperight","#alsp-controller-"+t+" .alsp-listings-carousel",function(){alsp_prev_slide(i,s)}),$("body").on("swipeleft","#alsp-controller-"+t+" .alsp-listings-carousel",function(){alsp_next_slide(i,s)}),$("body").on("mousewheel","#alsp-controller-"+t+" .alsp-listings-carousel",function(t,e,o,n){e>0&&alsp_prev_slide(i,s),n<0&&alsp_next_slide(i,s),t.stopPropagation(),t.preventDefault()})})},window.alsp_prev_slide=function(t,e){if(alsp_animation_finished){var i=t.find("article.alsp-listing:last");t.css({"margin-left":-e}).prepend(i.clone()),alsp_animation_finished=!1,t.animate({"margin-left":0},300,function(){i.remove(),alsp_animation_finished=!0})}},window.alsp_next_slide=function(t,e){if(alsp_animation_finished){var i=t.find("article.alsp-listing:first");t.append(i.clone()),alsp_animation_finished=!1,t.animate({"margin-left":-e},300,function(){i.remove(),t.css({"margin-left":0}),alsp_animation_finished=!0})}},window.alsp_ajax_loader_target_show=function(t,e,i){if(void 0!==e&&e){if(void 0===i||!i)i=0;$("html,body").animate({scrollTop:e.offset().top-i},"slow")}var s=t.attr("id");if(!$("[data-loader-id='"+s+"']").length){var o=$('<div data-loader-id="'+s+'" class="alsp-ajax-target-loading"><div class="alsp-loader"></div></div>');t.prepend(o),o.css({width:t.outerWidth()+10,height:t.outerHeight()+10}),t.outerHeight()>600&&o.find(".alsp-loader").addClass("alsp-loader-max-top")}},window.alsp_ajax_loader_target_hide=function(t){$("[data-loader-id='"+t+"']").remove()},window.alsp_ajax_loader_show=function(t){var e=$('<div id="alsp-ajax-loader-overlay"><div class="alsp-loader"></div></div>');$("body").append(e)},window.alsp_ajax_loader_hide=function(){$("#alsp-ajax-loader-overlay").remove()},window.alsp_get_controller_args_array=function(t){if("undefined"!=typeof alsp_controller_args_array&&Object.keys(alsp_controller_args_array))for(var e in alsp_controller_args_array)if(e==t)return alsp_controller_args_array[e]},window.alsp_get_map_markers_attrs_array=function(t){if("undefined"!=typeof alsp_map_markers_attrs_array&&Object.keys(alsp_map_markers_attrs_array))for(var e=0;e<alsp_map_markers_attrs_array.length;e++)if(t==alsp_map_markers_attrs_array[e].map_id)return alsp_map_markers_attrs_array[e]},window.alsp_get_original_map_markers_attrs_array=function(t){if(void 0!==_alsp_map_markers_attrs_array&&Object.keys(_alsp_map_markers_attrs_array))for(var e=0;e<_alsp_map_markers_attrs_array.length;e++)if(t==_alsp_map_markers_attrs_array[e].map_id)return _alsp_map_markers_attrs_array[e]},window.alsp_process_listings_ajax_responce=function(response_from_the_action_function,do_replace,remove_shapes,do_replace_markers){var responce_hash=response_from_the_action_function.hash;if(response_from_the_action_function){var listings_block=$("#alsp-controller-"+responce_hash);if(do_replace)listings_block.replaceWith(response_from_the_action_function.html);else if($(".alsp-listings-block-content div").hasClass("listing-list-view-inner-wrap"))listings_block.find(".listing-list-view-inner-wrap").append(response_from_the_action_function.html);else if($(".pacz-loop-main-wrapper").hasClass("pacz-loop-main-wrapper2")){var $items=$(response_from_the_action_function.html),$grid=$(listings_block.find(".alsp-listings-block-content"));setTimeout(function(){$grid.append($items).isotope("appended",$items)},500)}else{var $items=$(response_from_the_action_function.html),$grid=$(listings_block.find(".alsp-listings-block-content"));$grid.append($items)}if(alsp_ajax_loader_target_hide("alsp-controller-"+responce_hash),response_from_the_action_function.map_markers&&void 0!==alsp_maps[responce_hash]){do_replace&&alsp_clearMarkers(responce_hash),remove_shapes&&alsp_removeShapes(responce_hash),alsp_closeInfoWindow(responce_hash);var markers_array=response_from_the_action_function.map_markers,enable_radius_circle=0,enable_clusters=0,show_summary_button=1,show_readmore_button=1,attrs_array;if(attrs_array=alsp_get_map_markers_attrs_array(responce_hash)){var enable_radius_circle=attrs_array.enable_radius_circle,enable_clusters=attrs_array.enable_clusters,show_summary_button=attrs_array.show_summary_button,show_readmore_button=attrs_array.show_readmore_button,map_attrs=attrs_array.map_attrs;do_replace_markers&&(attrs_array.markers_array=eval(response_from_the_action_function.map_markers))}for(var j=0;j<markers_array.length;j++){var map_coords_1=markers_array[j][1],map_coords_2=markers_array[j][2];if($.isNumeric(map_coords_1)&&$.isNumeric(map_coords_2)){var point=alsp_buildPoint(map_coords_1,map_coords_2),location_obj=new alsp_glocation(markers_array[j][0],point,markers_array[j][3],markers_array[j][4],markers_array[j][6],markers_array[j][7],markers_array[j][8],markers_array[j][9],markers_array[j][10],markers_array[j][11],show_summary_button,show_readmore_button,responce_hash,!1),marker=location_obj.alsp_placeMarker(responce_hash);alsp_global_locations_array[responce_hash].push(location_obj)}}if(alsp_global_markers_array[responce_hash].length){for(var bounds=alsp_buildBounds(),j=0;j<alsp_global_markers_array[responce_hash].length;j++){var marker=alsp_global_markers_array[responce_hash][j],marker_position=alsp_getMarkerPosition(marker);alsp_extendBounds(bounds,marker_position)}alsp_mapFitBounds(responce_hash,bounds),1==alsp_global_markers_array[responce_hash].length&&alsp_setMapZoom(responce_hash,ZOOM_FOR_SINGLE_MARKER)}if(alsp_ajax_loader_target_hide("alsp-maps-canvas-"+responce_hash),do_replace&&alsp_setClusters(enable_clusters,responce_hash,alsp_global_markers_array[responce_hash]),remove_shapes&&enable_radius_circle&&void 0!==response_from_the_action_function.radius_params){var radius_params=response_from_the_action_function.radius_params,map_radius=parseFloat(radius_params.radius_value);alsp_draw_radius(radius_params,map_radius,responce_hash)}}if(void 0!==response_from_the_action_function.map_listings&&void 0!==alsp_maps[responce_hash]){var map_listings_block=$("#alsp-map-listings-panel-"+responce_hash);map_listings_block.length&&(do_replace?map_listings_block.html(response_from_the_action_function.map_listings):map_listings_block.append(response_from_the_action_function.map_listings)),alsp_ajax_loader_target_hide("alsp-map-search-panel-wrapper-"+responce_hash)}}alsp_ajax_loader_target_hide("alsp-controller-"+responce_hash),alsp_ajax_loader_target_hide("alsp-maps-canvas-"+responce_hash),alsp_equalColumnsHeight(),alsp_js_objects.is_maps_used&&alsp_show_on_map_links(),alsp_sticky_scroll()},window.alsp_load_ajax_initial_elements=function(){if("undefined"!=typeof alsp_controller_args_array&&Object.keys(alsp_controller_args_array))for(var controller_hash in alsp_controller_args_array){var post_params=alsp_controller_args_array[controller_hash];if(alsp_js_objects.ajax_initial_load||void 0!==post_params.ajax_initial_load&&1==post_params.ajax_initial_load){var ajax_params={action:"alsp_controller_request",hash:controller_hash};for(var attrname in ajax_params)post_params[attrname]=ajax_params[attrname];if(void 0!==post_params.with_map&&post_params.with_map||$("#alsp-maps-canvas-"+controller_hash).length){var map_attrs_array;if((map_attrs_array=alsp_get_map_markers_attrs_array(controller_hash))&&void 0!==map_attrs_array.map_attrs.ajax_loading&&1==map_attrs_array.map_attrs.ajax_loading)continue;post_params.with_map=1,alsp_ajax_loader_target_show($("#alsp-maps-canvas-"+controller_hash))}alsp_ajax_loader_target_show($("#alsp-controller-"+controller_hash)),$.post(alsp_js_objects.ajaxurl,post_params,function(response_from_the_action_function){alsp_process_listings_ajax_responce(response_from_the_action_function,!0,!0,!0);var responce_hash=response_from_the_action_function.hash;if(response_from_the_action_function.map_markers&&void 0!==alsp_maps[responce_hash]&&void 0!==_alsp_map_markers_attrs_array&&_alsp_map_markers_attrs_array.length)for(var i=0;i<_alsp_map_markers_attrs_array.length;i++)responce_hash==_alsp_map_markers_attrs_array[i].map_id&&(_alsp_map_markers_attrs_array[i].markers_array=eval(response_from_the_action_function.map_markers))},"json")}}},window.alsp_ajax_iloader=$("<div>",{class:"alsp-ajax-iloader"}).html('<div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div>'),window.alsp_add_iloader_on_element=function(t){t.attr("disabled","disabled").wrapInner('<div class="alsp-hidden"></div>').append(alsp_ajax_iloader)},window.alsp_delete_iloader_from_element=function(t){t.find(".alsp-hidden").contents().unwrap(),t.removeAttr("disabled").find(".alsp-ajax-iloader").remove()};var alsp_show_more_button_processing=!1;$(window).scroll(function(){$(".alsp-show-more-button.alsp-scrolling-paginator").each(function(){$(window).scrollTop()+$(window).height()>$(this).position().top&&(alsp_show_more_button_processing||alsp_callShowMoreListings($(this)))})}),$("body").on("click",".alsp-show-more-button",function(t){t.preventDefault(),alsp_callShowMoreListings($(this)),setTimeout(function(){$(".pacz-theme-loop").isotope("reLayout")},500)});var alsp_callShowMoreListings=function(t){var e,i=t.data("controller-hash");if(e=alsp_get_controller_args_array(i)){alsp_add_iloader_on_element(t);var s=$.extend({},e);if(void 0!==s.paged)var o=parseInt(s.paged)+1;else o=2;e.paged=o;var n="";$("#alsp-controller-"+i+" .alsp-listings-block-content article").each(function(t){n=$(this).attr("id").replace("post-","")+","+n});var a,r={action:"alsp_controller_request",do_append:1,paged:o,existing_listings:n,hash:i};for(var l in r)s[l]=r[l];if($("#alsp-maps-canvas-"+i).length)(a=alsp_get_map_markers_attrs_array(i))&&(void 0!==a.map_attrs.ajax_loading&&0!=a.map_attrs.ajax_loading||void 0!==a.map_attrs.drawing_state&&0!=a.map_attrs.drawing_state||void 0!==a.map_attrs.map_markers_is_limit&&1!=a.map_attrs.map_markers_is_limit?(s.with_map=0,s.map_listings=0):(alsp_ajax_loader_target_show($("#alsp-maps-canvas-"+i)),s.with_map=1,s.map_markers_is_limit=1,$("#alsp-map-listings-panel-"+i).length&&(s.map_listings=1,alsp_ajax_loader_target_show($("#alsp-map-search-panel-wrapper-"+i)))));alsp_show_more_button_processing=!0,$.post(alsp_js_objects.ajaxurl,s,alsp_completeAJAXShowMore(t),"json"),$(".pacz-theme-loop").isotope("reLayout")}},alsp_completeAJAXShowMore=function(t){return function(e){alsp_process_listings_ajax_responce(e,!1,!1,!1),alsp_show_more_button_processing=!1,alsp_delete_iloader_from_element(t),e.hide_show_more_listings_button&&t.hide()}};if(alsp_js_objects.ajax_load){$("form.alsp-search-form-submit").each(function(){var t=$(this);t.find(".alsp-submit-button-hidden").length&&t.find("input, select").not(":input[type=text], :input[type=submit], :input[type=reset]").on("change",{form:t},function(t){var e=t.data.form;alsp_callAJAXSearch(e,t)})}),$("body").on("submit",".alsp-search-form-submit",function(t){alsp_callAJAXSearch($(this),t)});var alsp_callAJAXSearch=function(t,e){var i=t.serializeArray(),s={};for(var o in i)-1!=i[o].name.indexOf("[]")?(void 0===s[i[o].name]&&(s[i[o].name]=[]),s[i[o].name].push(i[o].value)):s[i[o].name]=i[o].value;var n=!1;if(void 0!==s.hash&&s.hash&&(n=s.hash),!n&&"undefined"!=typeof alsp_controller_args_array&&Object.keys(alsp_controller_args_array))for(var a in alsp_controller_args_array)if(1==$("#alsp-controller-"+a).data("custom-home")){n=a,s.custom_home=1,s.controller="directory_controller";break}if(n||$(".alsp-maps-canvas").each(function(){if(1==t.data("custom-home"))return n=t.data("shortcode-hash"),s.custom_home=1,s.controller="directory_controller",!1}),n){e.preventDefault();var r=null;t.find('button[type="submit"]')&&(r=t.find('button[type="submit"]')).is(":visible")&&alsp_add_iloader_on_element(r),s.hash=n;var l,c,d={action:"alsp_controller_request"};if((l=alsp_get_controller_args_array(n))&&(d.hide_order=l.hide_order,d.hide_count=l.hide_count,d.hide_content=l.hide_content,d.hide_paginator=l.hide_paginator,d.show_views_switcher=l.show_views_switcher,d.listings_view_type=l.listings_view_type,d.listings_view_grid_columns=l.listings_view_grid_columns,d.listing_thumb_width=l.listing_thumb_width,d.wrap_logo_list_view=l.wrap_logo_list_view,d.logo_animation_effect=l.logo_animation_effect,d.grid_view_logo_ratio=l.grid_view_logo_ratio,d.scrolling_paginator=l.scrolling_paginator,d.perpage=l.perpage,d.onepage=l.onepage,alsp_find_get_parameter("order_by")&&(d.order=l.order,d.order_by=l.order_by,s.order=l.order,s.order_by=l.order_by),d.base_url=l.base_url,void 0!==l.directories&&(d.directories=l.directories)),void 0===d.perpage)(c=alsp_get_map_markers_attrs_array(n))&&void 0!==c.map_attrs.num&&(d.perpage=c.map_attrs.num);if(c=alsp_get_map_markers_attrs_array(n)){for(var u in s)c.map_attrs[u]=s[u];if(void 0!==alsp_get_original_map_markers_attrs_array(n).map_attrs.ajax_loading&&1==alsp_get_original_map_markers_attrs_array(n).map_attrs.ajax_loading&&(c.map_attrs.ajax_loading=1,alsp_setAjaxMarkersListener(n)),void 0!==c.map_attrs.drawing_state&&delete c.map_attrs.drawing_state,void 0!==c.map_attrs.ajax_loading&&1==c.map_attrs.ajax_loading){delete c.map_attrs.locations,delete c.map_attrs.swLat,delete c.map_attrs.swLng,delete c.map_attrs.neLat,delete c.map_attrs.neLng,delete c.map_attrs.action;c.enable_clusters,c.enable_radius_circle,c.show_summary_button,c.show_readmore_button;return c.map_attrs.include_categories_children=1,alsp_setAjaxMarkers(alsp_maps[n],n,r),!1}}if($("#alsp-map-listings-panel-"+n).length&&(s.map_listings=1,alsp_ajax_loader_target_show($("#alsp-map-search-panel-wrapper-"+n))),$("#alsp-controller-"+n).length){if(t.hasClass("alsp-map-search-form"))var p=!1;else if("listings"==t.data("scroll-to"))p=$("#alsp-controller-"+n);else if("map"==t.data("scroll-to"))p=$("#alsp-maps-canvas-"+n);if(void 0!==window["alsp_sticky_scroll_toppadding_"+n])var h=window["alsp_sticky_scroll_toppadding_"+n];else h=0;alsp_ajax_loader_target_show($("#alsp-controller-"+n),p,h)}else s.without_listings=1;for(var u in d)s[u]=d[u];$("#alsp-maps-canvas-"+n).length&&(alsp_ajax_loader_target_show($("#alsp-maps-canvas-"+n)),s.with_map=1,!c||void 0!==c.map_attrs.map_markers_is_limit&&1!=c.map_attrs.map_markers_is_limit||(s.map_markers_is_limit=1)),window.alsp_geocoderResponseOnSearch=function(t,e,i){s.start_latitude=0,s.start_longitude=0,t&&(s.start_latitude=e,s.start_longitude=i),alsp_startAJAXSearch(s,r)},void 0!==s.address&&s.address&&void 0!==s.radius&&s.radius?alsp_geocodeAddress(s.address,alsp_geocoderResponseOnSearch):alsp_startAJAXSearch(s,r)}else t.find("button.alsp-submit-button-hidden").trigger("click")},alsp_search_requests_counter=0,alsp_startAJAXSearch=function(t,e){window.history.pushState("","","?"+$.param(t));var i=document.location.pathname;for(var s in t){var o=i.indexOf("?")>-1?"&":"?";i=i+o+s+"="+t[s]}"function"==typeof ga&&ga("send","pageview",i),alsp_search_requests_counter++,$.post(alsp_js_objects.ajaxurl,t,alsp_completeAJAXSearch(e),"json")},alsp_completeAJAXSearch=function(t){return function(e){0==--alsp_search_requests_counter&&(alsp_process_listings_ajax_responce(e,!0,!0,!0),t&&alsp_delete_iloader_from_element(t))}};$("body").on("click",".alsp-map-search-wrapper input",function(){$(this).focus()}),$("body").on("click",".alsp-map-search-toggle, .alsp-map-sidebar-toggle",function(t){t.preventDefault();var e=$(this).data("id");$("#alsp-map-search-form-"+e).toggleClass("alsp-sidebar-open"),$("#alsp-maps-canvas-"+e).toggleClass("alsp-sidebar-open"),$("#alsp-map-search-panel-wrapper-"+e).on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(t){alsp_callMapResize(e)})}),$("body").on("click",".alsp-orderby-links a",function(t){t.preventDefault();var e,i=$(this).attr("href"),s=$(this).data("controller-hash");if(e=alsp_get_controller_args_array(s)){var o,n=$.extend({},e),a={action:"alsp_controller_request",order_by:$(this).data("orderby"),order:$(this).data("order"),paged:1,hash:s};for(var r in a)n[r]=a[r];if($("#alsp-maps-canvas-"+s).length)(o=alsp_get_map_markers_attrs_array(s))&&(void 0!==o.map_attrs.ajax_loading&&0!=o.map_attrs.ajax_loading||void 0!==o.map_attrs.drawing_state&&0!=o.map_attrs.drawing_state||void 0!==o.map_attrs.map_markers_is_limit&&1!=o.map_attrs.map_markers_is_limit?(n.with_map=0,n.map_listings=0):(alsp_ajax_loader_target_show($("#alsp-maps-canvas-"+s)),n.with_map=1,n.map_markers_is_limit=1,$("#alsp-map-listings-panel-"+s).length&&(n.map_listings=1,alsp_ajax_loader_target_show($("#alsp-map-search-panel-wrapper-"+s)))));window.history.pushState("","",i),alsp_ajax_loader_target_show($("#alsp-controller-"+s)),$.post(alsp_js_objects.ajaxurl,n,function(t){alsp_process_listings_ajax_responce(t,!0,!0,!0)},"json")}}),$("body").on("click",".alsp-pagination li a",function(t){if($(this).data("controller-hash")){t.preventDefault();var e,i=$(this).attr("href"),s=$(this).data("controller-hash"),o=$(this).data("page");if(e=alsp_get_controller_args_array(s)){var n=$.extend({},e),a="";$("#alsp-controller-"+s+" .alsp-listings-block-content article").each(function(t){a=$(this).attr("id").replace("post-","")+","+a});var r,l={action:"alsp_controller_request",paged:o,existing_listings:a,hash:s};for(var c in l)n[c]=l[c];if($("#alsp-maps-canvas-"+s).length)(r=alsp_get_map_markers_attrs_array(s))&&(void 0!==r.map_attrs.ajax_loading&&0!=r.map_attrs.ajax_loading||void 0!==r.map_attrs.drawing_state&&0!=r.map_attrs.drawing_state||void 0!==r.map_attrs.map_markers_is_limit&&1!=r.map_attrs.map_markers_is_limit?(n.with_map=0,n.map_listings=0):(alsp_ajax_loader_target_show($("#alsp-maps-canvas-"+s)),n.with_map=1,n.map_markers_is_limit=1,$("#alsp-map-listings-panel-"+s).length&&(n.map_listings=1,alsp_ajax_loader_target_show($("#alsp-map-search-panel-wrapper-"+s)))));var d=$("#alsp-controller-"+s);if(window.history.pushState("","",i),void 0!==window["alsp_sticky_scroll_toppadding_"+s])var u=window["alsp_sticky_scroll_toppadding_"+s];else u=0;alsp_ajax_loader_target_show($("#alsp-controller-"+s),d,u),$.post(alsp_js_objects.ajaxurl,n,function(t){alsp_process_listings_ajax_responce(t,!0,!1,!0)},"json")}}})}$("body").on("click",".alsp-list-view-btn",function(){var t=$(this),e=t.data("shortcode-hash"),i=$("#alsp-controller-"+e).find(".alsp-listings-block");i.hasClass("alsp-listings-grid")&&(i.find(".alsp-listings-block-content").fadeTo("fast",0,function(){t.removeClass("btn-default").addClass("btn-primary"),t.parents(".alsp-views-links").find(".alsp-grid-view-btn").removeClass("btn-primary").addClass("btn-default"),i.removeClass("alsp-listings-grid alsp-listings-grid-1 alsp-listings-grid-2 alsp-listings-grid-3 alsp-listings-grid-4"),i.addClass("alsp-listings-list-view"),i.find("article.alsp-listing").each(function(){$(this).css("height","auto")}),$.cookie("alsp_listings_view_"+e,"list",{expires:365,path:"/"})}),setTimeout(location.reload.bind(location),300))}),$("body").on("click",".alsp-grid-view-btn",function(){var t=$(this),e=t.data("shortcode-hash"),i=$("#alsp-controller-"+e).find(".alsp-listings-block");i.hasClass("alsp-listings-grid")||(i.find(".alsp-listings-block-content").fadeTo("fast",0,function(){t.removeClass("btn-default").addClass("btn-primary"),t.parents(".alsp-views-links").find(".alsp-list-view-btn").removeClass("btn-primary").addClass("btn-default"),i.removeClass("alsp-listings-list-view"),i.addClass("alsp-listings-grid").addClass("alsp-listings-grid-"+t.data("grid-columns")),alsp_equalColumnsHeight(),$.cookie("alsp_listings_view_"+e,"grid",{expires:365,path:"/"})}),setTimeout(location.reload.bind(location),300))}),$(".alsp-remove-from-favourites-list").click(function(){var t=$(this).attr("listingid");if(null!=$.cookie("favourites"))var e=$.cookie("favourites").split("*");else e=new Array;for(var i=0;i<e.length;i++)e[i]==t&&delete e[i];return $(".alsp-listing#post-"+t).remove(),$.cookie("favourites",e.join("*"),{expires:365,path:"/"}),!1}),$(document).on("submit","#alsp_contact_form",function(t){t.preventDefault();var e=$(this);e.css("opacity","0.5"),e.find(".alsp-send-message-button").val(alsp_js_objects.send_button_sending).attr("disabled","disabled"),e.find("#alsp_contact_warning").hide();var i={action:"alsp_contact_form",listing_id:$("#alsp_listing_id").val(),contact_name:$("#alsp_contact_name").val(),contact_email:$("#alsp_contact_email").val(),contact_message:$("#alsp_contact_message").val(),security:$("#alsp_contact_nonce").val(),"g-recaptcha-response":$("#g-recaptcha-response").length?$("#g-recaptcha-response").val():""};$.ajax({url:alsp_js_objects.ajaxurl,type:"POST",dataType:"json",data:i,global:!1,success:function(t){if(0!=t){var i;if(""==t.error)$("#alsp_contact_name").val(""),$("#alsp_contact_email").val(""),$("#alsp_contact_message").val(""),e.find("#alsp_contact_warning").html(t.success).show();else"object"==typeof t.error?(i="<ul>",$.each(t.error,function(t,e){i=i+"<li>"+e+"</li>"}),i+="</ul>"):i=t.error,e.find("#alsp_contact_warning").html(i).show();e.css("opacity","1"),e.find(".alsp-send-message-button").val(alsp_js_objects.send_button_text).removeAttr("disabled")}}})}),window.alsp_masonry_layout=function(){$(".pacz-loop-main-wrapper").each(function(){var t=$(this),e=t.find(".pacz-theme-loop"),i="."+e.attr("data-style")+"-"+e.attr("data-uniqid");t.find(".alsp-show-more-button"),t.find(".pacz-pagination");e.hasClass("isotop-enabled")&&e.imagesLoaded(function(){e.isotope({itemSelector:i,animationEngine:"best-available",masonry:{columnWidth:1}})})})},window.isotop_load_fix2=function(){$.exists(".alsp-listings-block-content")&&$(".alsp-listings-block-content article").each(function(t){$(this).delay(100*t).animate({opacity:1},100)}).promise().done(function(){setTimeout(function(){$(".pacz-theme-loop").isotope("reLayout")},500)})},window.isotop_distroy=function(){$(window).width()<600&&$(".pacz-theme-loop").isotope("destroy")},window.alsp_grid_field_drop_menu=function(){$(".tooltip_fields .alsp-field").each(function(){var t=$(this).attr("data-id");$(this).jBox("Tooltip",{attach:"#alsp-"+t,closeOnMouseleave:!0,animation:"zoomIn",delayOpen:0,target:"#alsp-"+t,content:$("#"+t),position:{x:"center",y:"top"},outside:"y"})}),$(".tooltip_fields .add_to_favourites").each(function(){var t=$(this).attr("listingid"),e=$(this).attr("title");$(this).jBox("Tooltip",{attach:"#"+t,target:"#"+t,closeOnMouseleave:!0,animation:"zoomIn",delayOpen:0,content:e,position:{x:"center",y:"top"},outside:"y"})})}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){function e(e){var a=e||window.event,r=l.call(arguments,1),c=0,u=0,p=0,h=0,m=0,g=0;if((e=t.event.fix(a)).type="mousewheel","detail"in a&&(p=-1*a.detail),"wheelDelta"in a&&(p=a.wheelDelta),"wheelDeltaY"in a&&(p=a.wheelDeltaY),"wheelDeltaX"in a&&(u=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(u=-1*p,p=0),c=0===p?u:p,"deltaY"in a&&(c=p=-1*a.deltaY),"deltaX"in a&&(u=a.deltaX,0===p&&(c=-1*u)),0!==p||0!==u){if(1===a.deltaMode){var f=t.data(this,"mousewheel-line-height");c*=f,p*=f,u*=f}else if(2===a.deltaMode){var _=t.data(this,"mousewheel-page-height");c*=_,p*=_,u*=_}if(h=Math.max(Math.abs(p),Math.abs(u)),(!n||n>h)&&(n=h,s(a,h)&&(n/=40)),s(a,h)&&(c/=40,u/=40,p/=40),c=Math[c>=1?"floor":"ceil"](c/n),u=Math[u>=1?"floor":"ceil"](u/n),p=Math[p>=1?"floor":"ceil"](p/n),d.settings.normalizeOffset&&this.getBoundingClientRect){var v=this.getBoundingClientRect();m=e.clientX-v.left,g=e.clientY-v.top}return e.deltaX=u,e.deltaY=p,e.deltaFactor=n,e.offsetX=m,e.offsetY=g,e.deltaMode=0,r.unshift(e,c,u,p),o&&clearTimeout(o),o=setTimeout(i,200),(t.event.dispatch||t.event.handle).apply(this,r)}}function i(){n=null}function s(t,e){return d.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var o,n,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var c=a.length;c;)t.event.fixHooks[a[--c]]=t.event.mouseHooks;var d=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=r.length;i;)this.addEventListener(r[--i],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",d.getLineHeight(this)),t.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=r.length;i;)this.removeEventListener(r[--i],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var i=t(e),s=i["offsetParent"in t.fn?"offsetParent":"parent"]();return s.length||(s=t("body")),parseInt(s.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),function(t){"use strict";window.alsp_sort_autocomplete_items=function(t,e){return void 0===t.is_listing||!t.is_listing||void 0!==e.is_listing&&e.is_listing?void 0!==t.is_listing&&t.is_listing?void 0:t.term_in_name&&!e.term_in_name?-1:!t.term_in_name&&e.term_in_name?1:t.is_term&&!e.is_term?-1:!t.is_term&&e.is_term?1:""==t.parents&&""!=e.parents?-1:""!=t.parents&&""==e.parents?1:t.name>e.name?1:e.name>t.name?-1:0:-1},void 0!==t.ui.selectmenu&&void 0!==t.ui.autocomplete&&(t(document).on("click",".alsp-search-suggestions a",function(){var e=t(this).parents(".alsp-search-input-field-wrap").find(".alsp-main-search-field"),i=t(this).text();e.val(i).trigger("focus").trigger("change"),e.hasClass("ui-autocomplete-input")&&e.autocomplete("search",i)}),t(document).on("click",".alsp-dropdowns-menu a",function(){"_blank"==t(this).attr("target")?window.open(t(this).attr("href"),"_blank"):window.location=t(this).attr("href")}),t.ui.autocomplete.prototype._resizeMenu=function(){this.menu.element.outerWidth(this.element.outerWidth())},t(document).on("change paste keyup",".alsp-main-search-field",function(){var e=t(this);e.val()?e.parent().find(".alsp-dropdowns-menu-button").addClass("alsp-search-input-reset"):e.parent().find(".alsp-dropdowns-menu-button").removeClass("alsp-search-input-reset")}),t(document).on("click",".alsp-search-input-reset",function(e){var i=t(this).parent().find(".alsp-main-search-field");i.val(""),i.hasClass("ui-autocomplete-input")&&i.autocomplete("search",""),t(this).removeClass("alsp-search-input-reset")}),window.categories_combobox=t.widget("custom.categories_combobox",{input_icon_class:"glyphicon-search",cache:new Object,_create:function(){this.wrapper=t("<div>").addClass("alsp-dropdowns-menu-categories-autocomplete").insertAfter(this.element),this.element.hide(),this._createAutocomplete(),this._createShowAllButton()},_appendWrapper:function(){if(this.wrapper.parents(".alsp-maps-canvas-wrapper.alsp-sticky-scroll, .alsp-search-form.alsp-sticky-scroll").length)var t=this.wrapper;else t=null;return t},_autocompleteWithOptions:function(e){e.autocomplete({delay:300,minLength:0,appendTo:this._appendWrapper(),source:t.proxy(this,"_source"),open:function(e,i){navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&t(".ui-autocomplete").off("menufocus hover mouseover mouseenter")}})},_autocompleteRenderItem:function(e){e.autocomplete("widget").addClass("alsp-dropdowns-menu"),e.autocomplete("instance")._renderItem=function(e,i){var s=i.label,o="";void 0!==i.count&&(o='<span class="alsp-dropdowns-menu-search-counter">'+i.count+"</span>");var n="alsp-dropdowns-menu-search";void 0!==i.is_term&&i.is_term&&(n+=" alsp-dropdowns-menu-search-term"),void 0!==i.is_listing&&i.is_listing&&(n+=" alsp-dropdowns-menu-search-listing");var a=t("<li>"),r=t("<div>",{html:s+o,class:n});if(i.icon&&"img"==i.icontype){var l="alsp-ui-icon ";t("<span>",{style:"background-image: url('"+i.icon+"'); background-size: 18px; background-repeat:no-repeat;",class:l}).appendTo(r)}else if(i.icon&&"font"==i.icontype){if(""!=i.fonticolor)var c=i.fonticolor;else c="";l="alsp-ui-icon font-icon "+i.icon;t("<span>",{style:"color:"+c+";",class:l}).appendTo(r)}else if(i.icon&&"svg"==i.icontype){l="alsp-ui-icon svg-icon";var d='<img src="'+i.icon+'" alt="'+i.label+'" />';t("<span>",{html:d,class:l}).appendTo(r)}else if(i.icon){l="alsp-ui-icon ";t("<span>",{style:"background-image: url('"+i.icon+"'); background-size: 40px; background-repeat:no-repeat;",class:l}).appendTo(r)}if(i.sublabel){var u=i.sublabel;t("<span>").html(u).addClass("alsp-dropdowns-menu-search-sublabel").appendTo(r)}else r.addClass("alsp-dropdowns-menu-search-root");return a.append(r).appendTo(e)}},_openMobileKeyboard:function(){return!this.element.data("autocomplete-name")&&screen.height<=768},_createAutocomplete:function(){var e=this.element.find('[data-selected="selected"]');if(this.element.data("autocomplete-name")&&this.element.data("autocomplete-value"))var i=this.element.data("autocomplete-value");else i=e.data("name")?e.data("name"):"";this.input=t("<input>",{name:this.element.data("autocomplete-name")?this.element.data("autocomplete-name"):"",readonly:!!this._openMobileKeyboard()&&"true"}).appendTo(this.wrapper).val(i).attr("placeholder",this.element.data("placeholder")).addClass("form-control alsp-main-search-field"),this._autocompleteWithOptions(this.input),this._autocompleteRenderItem(this.input);var s=this.input,o=this.element.data("id");this._on(s,{autocompleteselect:function(e,i){if(this._trigger("select",e,{item:i.item}),i.item.is_term){var s=i.item.name;t("#selected_tax\\["+o+"\\]").val(i.item.value).trigger("change"),t("#selected_tax_text\\["+o+"\\]").val(i.item.full_value).trigger("change")}else{s=i.item.value;t("#selected_tax\\["+o+"\\]").val(""),t("#selected_tax_text\\["+o+"\\]").val("")}s=t("<textarea />").html(s).text(),this.input.val(s),this.input.trigger("change"),e.preventDefault()},autocompletefocus:function(t,e){t.preventDefault()},click:function(t,e){this._openMobileKeyboard()?(s.trigger("focusout"),s.autocomplete("search","")):(s.trigger("focus"),s.autocomplete("search",s.val()))},autocompletesearch:function(e,i){""==s.val()&&(t("#selected_tax\\["+o+"\\]").val(""),t("#selected_tax_text\\["+o+"\\]").val(""))}}),t(document).on("submit","form",function(){s.autocomplete("close")})},_createShowAllButton:function(){var e=this.input,i=this,s=!1;this.wrapper.addClass("has-feedback"),t("<span>",{class:"alsp-dropdowns-menu-button glyphicon alsp-form-control-feedback "+this.input_icon_class}).appendTo(this.wrapper).on("mousedown",function(){s=e.autocomplete("widget").is(":visible")}).on("click",function(t){e.trigger("focus"),s||i._openMobileKeyboard()&&e.autocomplete("search","")}),e.val()&&this.wrapper.find(".alsp-dropdowns-menu-button").addClass("alsp-search-input-reset")},_source:function(e,i){var s=t.trim(e.term).toLowerCase(),o=new RegExp(t.ui.autocomplete.escapeRegex(s),"i"),n=[];if(this.element.children("option").map(function(){var e=t(this).text(),i=t(this).val(),a=t(this).data("name"),r=t(this).data("icon"),l=t(this).data("fonticolor"),c=t(this).data("icontype"),d=t(this).data("count"),u=t(this).data("sublabel"),p=o.test(a),h=o.test(u);this.value&&(!s||p||h)&&n.push({label:e,value:i,name:a,full_value:a+", "+u,count:d,icon:r,fonticolor:l,icontype:c,sublabel:u,option:this,is_term:!0,is_listing:!1,term_in_name:p})}),this.element.data("ajax-search")&&s)if(this.wrapper.find(".alsp-dropdowns-menu-button").addClass("alsp-search-input-loader"),s in this.cache){var a=this.cache[s];this.wrapper.find(".alsp-dropdowns-menu-button").removeClass("alsp-search-input-loader"),n=a.slice(0),i(n)}else{if(this.input.parents("form").find("[name=directories]").length)var r=this.input.parents("form").find("[name=directories]").val();else r=0;t.ajax({url:alsp_js_objects.ajaxurl,type:"POST",dataType:"json",data:{action:"alsp_keywords_search",term:s,directories:r},combobox:this,success:function(t){if(0!=t&&t.listings){var e=[];t.listings.map(function(t){var i={label:t.title,value:t.name,name:t.name,full_value:t.name,icon:t.icon,sublabel:t.sublabel,option:t,is_term:!1,is_listing:!0,term_in_name:!0};n.push(i),e.push(i)}),n.sort(alsp_sort_autocomplete_items),this.combobox.cache[s]=n}i(n)},complete:function(){this.combobox.wrapper.find(".alsp-dropdowns-menu-button").removeClass("alsp-search-input-loader")}})}else s&&n.sort(alsp_sort_autocomplete_items),i(n)},_destroy:function(){this.wrapper.remove(),this.element.show()}}),window.keywords_autocomplete=t.widget("custom.keywords_autocomplete",categories_combobox,{cache:new Object,_create:function(){this.wrapper=this.element.parent(),this.wrapper.addClass("alsp-dropdowns-menu-keywords-autocomplete"),this._createAutocomplete()},_createAutocomplete:function(){this._autocompleteWithOptions(this.element),this._autocompleteRenderItem(this.element);var t=this.element;this._on(t,{autocompleteselect:function(e,i){this._trigger("select",e,{item:i.item}),t.val(i.item.value),t.trigger("change"),e.preventDefault()},autocompletefocus:function(t,e){t.preventDefault()},click:function(e,i){t.trigger("focus"),t.autocomplete("search",t.val())}})},_source:function(e,i){var s=t.trim(e.term).toLowerCase(),o=(new RegExp(t.ui.autocomplete.escapeRegex(s),"i"),[]);if(s)if(this.wrapper.find(".alsp-dropdowns-menu-button").addClass("alsp-search-input-loader"),s in this.cache){var n=this.cache[s];this.wrapper.find(".alsp-dropdowns-menu-button").removeClass("alsp-search-input-loader"),o=n.slice(0),i(o)}else{if(this.element.parents("form").find("[name=directories]").length)var a=this.element.parents("form").find("[name=directories]").val();else a=0;t.ajax({url:alsp_js_objects.ajaxurl,type:"POST",dataType:"json",data:{action:"alsp_keywords_search",term:s,directories:a},combobox:this,success:function(t){0!=t&&t.listings&&(t.listings.map(function(t){var e={label:t.title,value:t.name,name:t.name,full_value:t.name,icon:t.icon,sublabel:t.sublabel,option:t,is_term:!1,is_listing:!0,term_in_name:!0};o.push(e)}),o.sort(alsp_sort_autocomplete_items),this.combobox.cache[s]=o),i(o)},complete:function(){this.combobox.wrapper.find(".alsp-dropdowns-menu-button").removeClass("alsp-search-input-loader")}})}}}),window.locations_combobox=t.widget("custom.locations_combobox",categories_combobox,{input_icon_class:"glyphicon-map-marker",placeholder:"",_create:function(){this.wrapper=t("<div>").addClass("alsp-dropdowns-menu-locations-autocomplete").insertAfter(this.element),this.uID=this.element.data("id"),this.placeholder=this.element.data("placeholder"),this.element.hide(),this._createAutocomplete(),this._createShowAllButton(),this._addMyLocationButton()},_createAutocomplete:function(){this._super(),this._on(this.input,{autocompleteselect:function(e,i){var s=this.input.parents("form"),o=s.data("id");t("#radius_"+o).val()>0&&s.trigger("submit"),this.input.trigger("change")}})},_addMyLocationButton:function(){this.element.data("autocomplete-name")&&this.wrapper.find(".alsp-form-control-feedback").addClass("alsp-get-location")},_autocompleteRenderItem:function(e){e.autocomplete("widget").addClass("alsp-dropdowns-menu"),e.autocomplete("instance")._renderItem=function(e,i){var s=i.label,o="";void 0!==i.count&&(o='<span class="alsp-dropdowns-menu-search-counter">'+i.count+"</span>");var n="alsp-dropdowns-menu-search";void 0!==i.is_term&&i.is_term&&(n+=" alsp-dropdowns-menu-search-term"),void 0!==i.is_listing&&i.is_listing&&(n+=" alsp-dropdowns-menu-search-listing");var a=t("<li>"),r=t("<div>",{html:s+o,class:n});if(i.icon){t("<span>",{style:"background-image: url('"+i.icon+"'); background-repeat:no-repeat;",class:"alsp-ui-icon-location"}).appendTo(r)}if(i.sublabel){var l=i.sublabel;t("<span>").html(l).addClass("alsp-dropdowns-menu-search-sublabel").appendTo(r)}else r.addClass("alsp-dropdowns-menu-search-root");return a.append(r).appendTo(e)}},_source:function(e,i){var s=t.trim(e.term),o=[],n=new RegExp(t.ui.autocomplete.escapeRegex(s),"i");this.element.children("option").map(function(){var e=t(this).text(),i=t(this).val(),a=t(this).data("name"),r=t(this).data("icon"),l=t(this).data("count"),c=t(this).data("sublabel"),d=n.test(a),u=n.test(c);this.value&&(!s||d||u)&&o.push({label:e,value:i,name:a,full_value:a+", "+c,icon:r,count:l,sublabel:c,option:this,is_term:!0,term_in_name:d})}),window.alsp_collectLocationsPreditions=function(e,i,s){t.map(e,function(t,e){i.push({label:t.label,value:t.value,name:t.name,icon:"",sublabel:t.sublabel,is_term:!1,term_in_name:!0})}),i.sort(alsp_sort_autocomplete_items),s(i)},this.element.data("autocomplete-name")&&s&&alsp_maps_objects.address_autocomplete?alsp_autocompleteService(s,alsp_maps_objects.address_autocomplete_code,o,i,alsp_collectLocationsPreditions):(s&&o.sort(alsp_sort_autocomplete_items),i(o))}}),window.address_autocomplete=t.widget("custom.address_autocomplete",categories_combobox,{input_icon_class:"glyphicon-map-marker",_create:function(){this.wrapper=this.element.parent(),this.wrapper.addClass("alsp-dropdowns-menu-locations-autocomplete"),this._createAutocomplete(),this._addMyLocationButton()},_addMyLocationButton:function(){this.element.next(".alsp-form-control-feedback").addClass("alsp-get-location")},_createAutocomplete:function(){this._autocompleteWithOptions(this.element),this._autocompleteRenderItem(this.element);var e=this.element;this._on(e,{autocompleteselect:function(i,s){this._trigger("select",i,{item:s.item}),e.val(s.item.value),e.trigger("change");var o=e.parents("form"),n=o.data("id");return t("#radius_"+n).val()>0&&o.trigger("submit"),!1},autocompletefocus:function(t,e){t.preventDefault()},click:function(t,i){e.trigger("focus"),e.autocomplete("search",e.val())}})},_autocompleteRenderItem:function(t){this._super(t),this.element.autocomplete("widget").addClass("alsp-dropdowns-menu-only-address")},_source:function(e,i){var s=t.trim(e.term),o=[];window.alsp_collectAddressPreditions=function(e,i,s){t.map(e,function(t,e){i.push({label:t.label,value:t.value,name:t.name,icon:"",sublabel:t.sublabel,is_term:!1})}),i.sort(function(t,e){return t.name>e.name?1:e.name>t.name?-1:0}),s(i)},s&&alsp_maps_objects.address_autocomplete?alsp_autocompleteService(s,alsp_maps_objects.address_autocomplete_code,o,i,alsp_collectAddressPreditions):i(o)}})),t(document).on("change",".alsp-tax-dropdowns-wrap select",function(){var e=t(this).attr("id").split("_"),i=t(this).val(),s=e[1],o=e[2],n=t(this).parents(".alsp-tax-dropdowns-wrap").attr("class").split(" ");!function(e,i,s,o,n,a,r){var l=(s=parseInt(s))+1,c=s-1,d=t("#alsp-tax-dropdowns-wrap-"+a+" select").length;e?t("#selected_tax\\["+a+"\\]").val(e).trigger("change"):s>1?t("#selected_tax\\["+a+"\\]").val(t("#chainlist_"+c+"_"+a).val()).trigger("change"):t("#selected_tax\\["+a+"\\]").val(0).trigger("change");for(var u=t("#exact_terms\\["+a+"\\]").val(),p=l;p<=d;p++)t("#wrap_chainlist_"+p+"_"+a).remove();if(e){var h=alsp_js_objects["tax_dropdowns_"+a][a];if(null!=h.labels[s])var m=h.labels[s];else var m="";if(null!=h.titles[s])var g=h.titles[s];else var g="";t("#chainlist_"+s+"_"+a).addClass("alsp-ajax-loading").attr("disabled","disabled"),t.post(alsp_js_objects.ajaxurl,{action:"alsp_tax_dropdowns_hook",parentid:e,next_level:l,tax:i,count:o,hide_empty:n,label:m,title:g,exact_terms:u,uID:a},function(e){0!=e&&t("#alsp-tax-dropdowns-wrap-"+a).append(e),t("#chainlist_"+s+"_"+a).removeClass("alsp-ajax-loading").removeAttr("disabled"),r()})}}(i,n[0],s,n[1],n[2],o,function(){})})}(jQuery),jQuery.cookie=function(t,e,i){if(void 0===e){var s=null;if(document.cookie&&""!=document.cookie)for(var o=document.cookie.split(";"),n=0;n<o.length;n++){var a=jQuery.trim(o[n]);if(a.substring(0,t.length+1)==t+"="){s=decodeURIComponent(a.substring(t.length+1));break}}return s}i=i||{},null===e&&(e="",i.expires=-1);var r,l="";i.expires&&("number"==typeof i.expires||i.expires.toUTCString)&&("number"==typeof i.expires?(r=new Date).setTime(r.getTime()+24*i.expires*60*60*1e3):r=i.expires,l="; expires="+r.toUTCString());var c=i.path?"; path="+i.path:"",d=i.domain?"; domain="+i.domain:"",u=i.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),l,c,d,u].join("")},function(t){var e={},s={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}};t.fn.bxSlider=function(o){if(0==this.length)return this;if(this.length>1)return this.each(function(){t(this).bxSlider(o)}),this;var n={},a=this;e.el=this;var r=t(window).width(),l=t(window).height(),c=function(){n.settings=t.extend({},s,o),n.settings.slideWidth=parseInt(n.settings.slideWidth),n.children=a.children(n.settings.slideSelector),n.children.length<n.settings.minSlides&&(n.settings.minSlides=n.children.length),n.children.length<n.settings.maxSlides&&(n.settings.maxSlides=n.children.length),n.settings.randomStart&&(n.settings.startSlide=Math.floor(Math.random()*n.children.length)),n.active={index:n.settings.startSlide},n.carousel=n.settings.minSlides>1||n.settings.maxSlides>1,n.carousel&&(n.settings.preloadImages="all"),n.minThreshold=n.settings.minSlides*n.settings.slideWidth+(n.settings.minSlides-1)*n.settings.slideMargin,n.maxThreshold=n.settings.maxSlides*n.settings.slideWidth+(n.settings.maxSlides-1)*n.settings.slideMargin,n.working=!1,n.controls={},n.interval=null,n.animProp="vertical"==n.settings.mode?"top":"left",n.usingCSS=n.settings.useCSS&&"fade"!=n.settings.mode&&function(){var t=document.createElement("div"),e=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in e)if(void 0!==t.style[e[i]])return n.cssPrefix=e[i].replace("Perspective","").toLowerCase(),n.animProp="-"+n.cssPrefix+"-transform",!0;return!1}(),"vertical"==n.settings.mode&&(n.settings.maxSlides=n.settings.minSlides),a.data("origStyle",a.attr("style")),a.children(n.settings.slideSelector).each(function(){t(this).data("origStyle",t(this).attr("style"))}),d()},d=function(){a.wrap('<div class="bx-wrapper"><div class="bx-viewport"></div></div>'),n.viewport=a.parent(),n.loader=t('<div class="bx-loading" />'),n.viewport.prepend(n.loader),a.css({width:"horizontal"==n.settings.mode?100*n.children.length+215+"%":"auto",position:"relative"}),n.usingCSS&&n.settings.easing?a.css("-"+n.cssPrefix+"-transition-timing-function",n.settings.easing):n.settings.easing||(n.settings.easing="swing"),f(),n.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),n.viewport.parent().css({maxWidth:m()}),n.settings.pager||n.viewport.parent().css({margin:"0 auto 0px"}),n.children.css({float:"horizontal"==n.settings.mode?"left":"none",listStyle:"none",position:"relative"}),n.children.css("width",g()),"horizontal"==n.settings.mode&&n.settings.slideMargin>0&&n.children.css("marginRight",n.settings.slideMargin),"vertical"==n.settings.mode&&n.settings.slideMargin>0&&n.children.css("marginBottom",n.settings.slideMargin),"fade"==n.settings.mode&&(n.children.css({position:"absolute",zIndex:0,display:"none"}),n.children.eq(n.settings.startSlide).css({zIndex:n.settings.slideZIndex,display:"block"})),n.controls.el=t('<div class="bx-controls" />'),n.settings.captions&&E(),n.active.last=n.settings.startSlide==_()-1,n.settings.video&&a.fitVids();var e=n.children.eq(n.settings.startSlide);"all"==n.settings.preloadImages&&(e=n.children),n.settings.ticker?n.settings.pager=!1:(n.settings.pager&&y(),n.settings.controls&&k(),n.settings.auto&&n.settings.autoControls&&C(),(n.settings.controls||n.settings.autoControls||n.settings.pager)&&n.viewport.after(n.controls.el)),u(e,p)},u=function(e,i){var s=e.find("img, iframe").length;if(0!=s){var o=0;e.find("img, iframe").each(function(){t(this).one("load",function(){++o==s&&i()}).each(function(){this.complete&&t(this).load()})})}else i()},p=function(){if(n.settings.infiniteLoop&&"fade"!=n.settings.mode&&!n.settings.ticker){var e="vertical"==n.settings.mode?n.settings.minSlides:n.settings.maxSlides,i=n.children.slice(0,e).clone().addClass("bx-clone"),s=n.children.slice(-e).clone().addClass("bx-clone");a.append(i).prepend(s)}n.loader.remove(),b(),"vertical"==n.settings.mode&&(n.settings.adaptiveHeight=!0),n.viewport.height(h()),a.redrawSlider(),n.settings.onSliderLoad(n.active.index),n.initialized=!0,n.settings.responsive&&t(window).bind("resize",X),n.settings.auto&&n.settings.autoStart&&F(),n.settings.ticker&&O(),n.settings.pager&&z(n.settings.startSlide),n.settings.controls&&I(),n.settings.touchEnabled&&!n.settings.ticker&&L()},h=function(){var e=0,s=t();if("vertical"==n.settings.mode||n.settings.adaptiveHeight)if(n.carousel){var o=1==n.settings.moveSlides?n.active.index:n.active.index*v();for(s=n.children.eq(o),i=1;i<=n.settings.maxSlides-1;i++)s=o+i>=n.children.length?s.add(n.children.eq(i-1)):s.add(n.children.eq(o+i))}else s=n.children.eq(n.active.index);else s=n.children;return"vertical"==n.settings.mode?(s.each(function(){e+=t(this).outerHeight()}),n.settings.slideMargin>0&&(e+=n.settings.slideMargin*(n.settings.minSlides-1))):e=Math.max.apply(Math,s.map(function(){return t(this).outerHeight(!1)}).get()),e},m=function(){var t="100%";return n.settings.slideWidth>0&&(t="horizontal"==n.settings.mode?n.settings.maxSlides*n.settings.slideWidth+(n.settings.maxSlides-1)*n.settings.slideMargin:n.settings.slideWidth),t},g=function(){var t=n.settings.slideWidth,e=n.viewport.width();return 0==n.settings.slideWidth||n.settings.slideWidth>e&&!n.carousel||"vertical"==n.settings.mode?t=e:n.settings.maxSlides>1&&"horizontal"==n.settings.mode&&(e>n.maxThreshold||e<n.minThreshold&&(t=(e-n.settings.slideMargin*(n.settings.minSlides-1))/n.settings.minSlides)),t},f=function(){var t=1;if("horizontal"==n.settings.mode&&n.settings.slideWidth>0)if(n.viewport.width()<n.minThreshold)t=n.settings.minSlides;else if(n.viewport.width()>n.maxThreshold)t=n.settings.maxSlides;else{var e=n.children.first().width();t=Math.floor(n.viewport.width()/e)}else"vertical"==n.settings.mode&&(t=n.settings.minSlides);return t},_=function(){var t=0;if(n.settings.moveSlides>0)if(n.settings.infiniteLoop)t=n.children.length/v();else for(var e=0,i=0;e<n.children.length;)++t,e=i+f(),i+=n.settings.moveSlides<=f()?n.settings.moveSlides:f();else t=Math.ceil(n.children.length/f());return t},v=function(){return n.settings.moveSlides>0&&n.settings.moveSlides<=f()?n.settings.moveSlides:f()},b=function(){if(n.children.length>n.settings.maxSlides&&n.active.last&&!n.settings.infiniteLoop){if("horizontal"==n.settings.mode){var t=n.children.last(),e=t.position();w(-(e.left-(n.viewport.width()-t.width())),"reset",0)}else if("vertical"==n.settings.mode){var i=n.children.length-n.settings.minSlides;e=n.children.eq(i).position();w(-e.top,"reset",0)}}else{e=n.children.eq(n.active.index*v()).position();n.active.index==_()-1&&(n.active.last=!0),null!=e&&("horizontal"==n.settings.mode?w(-e.left,"reset",0):"vertical"==n.settings.mode&&w(-e.top,"reset",0))}},w=function(t,e,i,s){if(n.usingCSS){var o="vertical"==n.settings.mode?"translate3d(0, "+t+"px, 0)":"translate3d("+t+"px, 0, 0)";a.css("-"+n.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"==e?(a.css(n.animProp,o),a.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){a.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),D()})):"reset"==e?a.css(n.animProp,o):"ticker"==e&&(a.css("-"+n.cssPrefix+"-transition-timing-function","linear"),a.css(n.animProp,o),a.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){a.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),w(s.resetValue,"reset",0),M()}))}else{var r={};r[n.animProp]=t,"slide"==e?a.animate(r,i,n.settings.easing,function(){D()}):"reset"==e?a.css(n.animProp,t):"ticker"==e&&a.animate(r,speed,"linear",function(){w(s.resetValue,"reset",0),M()})}},x=function(){for(var e="",i=_(),s=0;i>s;s++){var o="";n.settings.buildPager&&t.isFunction(n.settings.buildPager)?(o=n.settings.buildPager(s),n.pagerEl.addClass("bx-custom-pager")):(o=s+1,n.pagerEl.addClass("bx-default-pager")),e+='<div class="bx-pager-item"><a href="" data-slide-index="'+s+'" class="bx-pager-link">'+o+"</a></div>"}n.pagerEl.html(e)},y=function(){n.settings.pagerCustom?n.pagerEl=t(n.settings.pagerCustom):(n.pagerEl=t('<div class="bx-pager" />'),n.settings.pagerSelector?t(n.settings.pagerSelector).html(n.pagerEl):n.controls.el.addClass("bx-has-pager").append(n.pagerEl),x()),n.pagerEl.on("click","a",B)},k=function(){n.controls.next=t('<a class="bx-next" href="">'+n.settings.nextText+"</a>"),n.controls.prev=t('<a class="bx-prev" href="">'+n.settings.prevText+"</a>"),n.controls.next.bind("click",j),n.controls.prev.bind("click",S),n.settings.nextSelector&&t(n.settings.nextSelector).append(n.controls.next),n.settings.prevSelector&&t(n.settings.prevSelector).append(n.controls.prev),n.settings.nextSelector||n.settings.prevSelector||(n.controls.directionEl=t('<div class="bx-controls-direction" />'),n.controls.directionEl.append(n.controls.prev).append(n.controls.next),n.controls.el.addClass("bx-has-controls-direction").append(n.controls.directionEl))},C=function(){n.controls.start=t('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+n.settings.startText+"</a></div>"),n.controls.stop=t('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+n.settings.stopText+"</a></div>"),n.controls.autoEl=t('<div class="bx-controls-auto" />'),n.controls.autoEl.on("click",".bx-start",T),n.controls.autoEl.on("click",".bx-stop",A),n.settings.autoControlsCombine?n.controls.autoEl.append(n.controls.start):n.controls.autoEl.append(n.controls.start).append(n.controls.stop),n.settings.autoControlsSelector?t(n.settings.autoControlsSelector).html(n.controls.autoEl):n.controls.el.addClass("bx-has-controls-auto").append(n.controls.autoEl),$(n.settings.autoStart?"stop":"start")},E=function(){n.children.each(function(){var e=t(this).find("img:first").attr("title");null!=e&&(""+e).length&&t(this).append('<div class="bx-caption"><span>'+e+"</span></div>")})},j=function(t){n.settings.auto&&a.stopAuto(),a.goToNextSlide(),t.preventDefault()},S=function(t){n.settings.auto&&a.stopAuto(),a.goToPrevSlide(),t.preventDefault()},T=function(t){a.startAuto(),t.preventDefault()},A=function(t){a.stopAuto(),t.preventDefault()},B=function(e){n.settings.auto&&a.stopAuto();var i=t(e.currentTarget),s=parseInt(i.attr("data-slide-index"));s!=n.active.index&&a.goToSlide(s),e.preventDefault()},z=function(e){var i=n.children.length;return"short"==n.settings.pagerType?(n.settings.maxSlides>1&&(i=Math.ceil(n.children.length/n.settings.maxSlides)),void n.pagerEl.html(e+1+n.settings.pagerShortSeparator+i)):(n.pagerEl.find("a").removeClass("active"),void n.pagerEl.each(function(i,s){t(s).find("a").eq(e).addClass("active")}))},D=function(){if(n.settings.infiniteLoop){var t="";0==n.active.index?t=n.children.eq(0).position():n.active.index==_()-1&&n.carousel?t=n.children.eq((_()-1)*v()).position():n.active.index==n.children.length-1&&(t=n.children.eq(n.children.length-1).position()),t&&("horizontal"==n.settings.mode?w(-t.left,"reset",0):"vertical"==n.settings.mode&&w(-t.top,"reset",0))}n.working=!1,n.settings.onSlideAfter(n.children.eq(n.active.index),n.oldIndex,n.active.index)},$=function(t){n.settings.autoControlsCombine?n.controls.autoEl.html(n.controls[t]):(n.controls.autoEl.find("a").removeClass("active"),n.controls.autoEl.find("a:not(.bx-"+t+")").addClass("active"))},I=function(){1==_()?(n.controls.prev.addClass("disabled"),n.controls.next.addClass("disabled")):!n.settings.infiniteLoop&&n.settings.hideControlOnEnd&&(0==n.active.index?(n.controls.prev.addClass("disabled"),n.controls.next.removeClass("disabled")):n.active.index==_()-1?(n.controls.next.addClass("disabled"),n.controls.prev.removeClass("disabled")):(n.controls.prev.removeClass("disabled"),n.controls.next.removeClass("disabled")))},F=function(){n.settings.autoDelay>0?setTimeout(a.startAuto,n.settings.autoDelay):a.startAuto(),n.settings.autoHover&&a.hover(function(){n.interval&&(a.stopAuto(!0),n.autoPaused=!0)},function(){n.autoPaused&&(a.startAuto(!0),n.autoPaused=null)})},O=function(){var e=0;if("next"==n.settings.autoDirection)a.append(n.children.clone().addClass("bx-clone"));else{a.prepend(n.children.clone().addClass("bx-clone"));var i=n.children.first().position();e="horizontal"==n.settings.mode?-i.left:-i.top}w(e,"reset",0),n.settings.pager=!1,n.settings.controls=!1,n.settings.autoControls=!1,n.settings.tickerHover&&!n.usingCSS&&n.viewport.hover(function(){a.stop()},function(){var e=0;n.children.each(function(){e+="horizontal"==n.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)});var i=n.settings.speed/e,s="horizontal"==n.settings.mode?"left":"top",o=i*(e-Math.abs(parseInt(a.css(s))));M(o)}),M()},M=function(t){speed=t||n.settings.speed;var e={left:0,top:0},i={left:0,top:0};"next"==n.settings.autoDirection?e=a.find(".bx-clone").first().position():i=n.children.first().position();var s="horizontal"==n.settings.mode?-e.left:-e.top,o="horizontal"==n.settings.mode?-i.left:-i.top;w(s,"ticker",speed,{resetValue:o})},L=function(){n.touch={start:{x:0,y:0},end:{x:0,y:0}},n.viewport.bind("touchstart",P)},P=function(t){if(n.working)t.preventDefault();else{n.touch.originalPos=a.position();var e=t.originalEvent;n.touch.start.x=e.changedTouches[0].pageX,n.touch.start.y=e.changedTouches[0].pageY,n.viewport.bind("touchmove",H),n.viewport.bind("touchend",R)}},H=function(t){var e=t.originalEvent,i=Math.abs(e.changedTouches[0].pageX-n.touch.start.x),s=Math.abs(e.changedTouches[0].pageY-n.touch.start.y);if(3*i>s&&n.settings.preventDefaultSwipeX?t.preventDefault():3*s>i&&n.settings.preventDefaultSwipeY&&t.preventDefault(),"fade"!=n.settings.mode&&n.settings.oneToOneTouch){var o=0;if("horizontal"==n.settings.mode){var a=e.changedTouches[0].pageX-n.touch.start.x;o=n.touch.originalPos.left+a}else{a=e.changedTouches[0].pageY-n.touch.start.y;o=n.touch.originalPos.top+a}w(o,"reset",0)}},R=function(t){n.viewport.unbind("touchmove",H);var e=t.originalEvent,i=0;if(n.touch.end.x=e.changedTouches[0].pageX,n.touch.end.y=e.changedTouches[0].pageY,"fade"==n.settings.mode){(s=Math.abs(n.touch.start.x-n.touch.end.x))>=n.settings.swipeThreshold&&(n.touch.start.x>n.touch.end.x?a.goToNextSlide():a.goToPrevSlide(),a.stopAuto())}else{var s=0;"horizontal"==n.settings.mode?(s=n.touch.end.x-n.touch.start.x,i=n.touch.originalPos.left):(s=n.touch.end.y-n.touch.start.y,i=n.touch.originalPos.top),!n.settings.infiniteLoop&&(0==n.active.index&&s>0||n.active.last&&0>s)?w(i,"reset",200):Math.abs(s)>=n.settings.swipeThreshold?(0>s?a.goToNextSlide():a.goToPrevSlide(),a.stopAuto()):w(i,"reset",200)}n.viewport.unbind("touchend",R)},X=function(){var e=t(window).width(),i=t(window).height();(r!=e||l!=i)&&(r=e,l=i,a.redrawSlider(),n.settings.onSliderResize.call(a,n.active.index))};return a.goToSlide=function(e,i){if(!n.working&&n.active.index!=e)if(n.working=!0,n.oldIndex=n.active.index,n.active.index=0>e?_()-1:e>=_()?0:e,n.settings.onSlideBefore(n.children.eq(n.active.index),n.oldIndex,n.active.index),"next"==i?n.settings.onSlideNext(n.children.eq(n.active.index),n.oldIndex,n.active.index):"prev"==i&&n.settings.onSlidePrev(n.children.eq(n.active.index),n.oldIndex,n.active.index),n.active.last=n.active.index>=_()-1,n.settings.pager&&z(n.active.index),n.settings.controls&&I(),"fade"==n.settings.mode)n.settings.adaptiveHeight&&n.viewport.height()!=h()&&n.viewport.animate({height:h()},n.settings.adaptiveHeightSpeed),n.children.filter(":visible").fadeOut(n.settings.speed).css({zIndex:0}),n.children.eq(n.active.index).css("zIndex",n.settings.slideZIndex+1).fadeIn(n.settings.speed,function(){t(this).css("zIndex",n.settings.slideZIndex),D()});else{n.settings.adaptiveHeight&&n.viewport.height()!=h()&&n.viewport.animate({height:h()},n.settings.adaptiveHeightSpeed);var s=0,o={left:0,top:0};if(!n.settings.infiniteLoop&&n.carousel&&n.active.last)if("horizontal"==n.settings.mode){o=(l=n.children.eq(n.children.length-1)).position(),s=n.viewport.width()-l.outerWidth()}else{var r=n.children.length-n.settings.minSlides;o=n.children.eq(r).position()}else if(n.carousel&&n.active.last&&"prev"==i){var l,c=1==n.settings.moveSlides?n.settings.maxSlides-v():(_()-1)*v()-(n.children.length-n.settings.maxSlides);o=(l=a.children(".bx-clone").eq(c)).position()}else if("next"==i&&0==n.active.index)o=a.find("> .bx-clone").eq(n.settings.maxSlides).position(),n.active.last=!1;else if(e>=0){var d=e*v();o=n.children.eq(d).position()}if(void 0!==o){var u="horizontal"==n.settings.mode?-(o.left-s):-o.top;w(u,"slide",n.settings.speed)}}},a.goToNextSlide=function(){if(n.settings.infiniteLoop||!n.active.last){var t=parseInt(n.active.index)+1;a.goToSlide(t,"next")}},a.goToPrevSlide=function(){if(n.settings.infiniteLoop||0!=n.active.index){var t=parseInt(n.active.index)-1;a.goToSlide(t,"prev")}},a.startAuto=function(t){n.interval||(n.interval=setInterval(function(){"next"==n.settings.autoDirection?a.goToNextSlide():a.goToPrevSlide()},n.settings.pause),n.settings.autoControls&&1!=t&&$("stop"))},a.stopAuto=function(t){n.interval&&(clearInterval(n.interval),n.interval=null,n.settings.autoControls&&1!=t&&$("start"))},a.getCurrentSlide=function(){return n.active.index},a.getCurrentSlideElement=function(){return n.children.eq(n.active.index)},a.getSlideCount=function(){return n.children.length},a.redrawSlider=function(){n.children.add(a.find(".bx-clone")).outerWidth(g()),n.viewport.css("height",h()),n.settings.ticker||b(),n.active.last&&(n.active.index=_()-1),n.active.index>=_()&&(n.active.last=!0),n.settings.pager&&!n.settings.pagerCustom&&(x(),z(n.active.index))},a.destroySlider=function(){n.initialized&&(n.initialized=!1,t(".bx-clone",this).remove(),n.children.each(function(){null!=t(this).data("origStyle")?t(this).attr("style",t(this).data("origStyle")):t(this).removeAttr("style")}),null!=t(this).data("origStyle")?this.attr("style",t(this).data("origStyle")):t(this).removeAttr("style"),t(this).unwrap().unwrap(),n.controls.el&&n.controls.el.remove(),n.controls.next&&n.controls.next.remove(),n.controls.prev&&n.controls.prev.remove(),n.pagerEl&&n.settings.controls&&n.pagerEl.remove(),t(".bx-caption",this).remove(),n.controls.autoEl&&n.controls.autoEl.remove(),clearInterval(n.interval),n.settings.responsive&&t(window).unbind("resize",X))},a.reloadSlider=function(t){null!=t&&(o=t),a.destroySlider(),c()},c(),this}}(jQuery),function(t){var e=8,i=9,s=13,o=27,n=38,a=40,r=null,l="tokenize",c=function(e,i){if(!i.data(l)){var s=new t.tokenize(t.extend({},t.fn.tokenize.defaults,e));i.data(l,s),s.init(i)}return i.data(l)};t.tokenize=function(e){null==e&&(e=t.fn.tokenize.defaults),this.options=e},t.extend(t.tokenize.prototype,{init:function(e){var i=this;this.select=e.attr("multiple","multiple").css({margin:0,padding:0,border:0}).hide(),this.container=t("<div />").attr("class",this.select.attr("class")).addClass("Tokenize"),1==this.options.maxElements&&this.container.addClass("OnlyOne"),this.dropdown=t("<ul />").addClass("Dropdown"),this.tokensContainer=t("<ul />").addClass("TokensContainer"),this.options.autosize&&this.tokensContainer.addClass("Autosize"),this.searchToken=t("<li />").addClass("TokenSearch").appendTo(this.tokensContainer),this.searchInput=t("<input />").appendTo(this.searchToken),this.options.searchMaxLength>0&&this.searchInput.attr("maxlength",this.options.searchMaxLength),this.select.prop("disabled")&&this.disable(),this.options.sortable&&(void 0!==t.ui?this.tokensContainer.sortable({items:"li.Token",cursor:"move",placeholder:"Token MovingShadow",forcePlaceholderSize:!0,update:function(){i.updateOrder()},start:function(){i.searchToken.hide()},stop:function(){i.searchToken.show()}}).disableSelection():(this.options.sortable=!1,console.log("jQuery UI is not loaded, sortable option has been disabled"))),this.container.append(this.tokensContainer).append(this.dropdown).insertAfter(this.select),this.tokensContainer.on("click",function(t){t.stopImmediatePropagation(),i.searchInput.get(0).focus(),i.updatePlaceholder(),i.dropdown.is(":hidden")&&""!=i.searchInput.val()&&i.search()}),this.searchInput.on("blur",function(){i.tokensContainer.removeClass("Focused")}),this.searchInput.on("focus click",function(){i.tokensContainer.addClass("Focused"),i.options.displayDropdownOnFocus&&"select"==i.options.datas&&i.search()}),this.searchInput.on("keydown",function(t){i.resizeSearchInput(),i.keydown(t)}),this.searchInput.on("keyup",function(t){i.keyup(t)}),this.searchInput.on("keypress",function(t){i.keypress(t)}),this.searchInput.on("paste",function(){setTimeout(function(){i.resizeSearchInput()},10),setTimeout(function(){var e=i.searchInput.val().split(",");e.length>1&&t.each(e,function(t,e){i.tokenAdd(e.trim(),"")})},20)}),t(document).on("click",function(){i.dropdownHide(),1==i.options.maxElements&&i.searchInput.val()&&i.tokenAdd(i.searchInput.val(),"")}),this.resizeSearchInput(),this.remap(!0),this.updatePlaceholder()},updateOrder:function(){if(this.options.sortable){var e,i,s=this;t.each(this.tokensContainer.sortable("toArray",{attribute:"data-value"}),function(o,n){i=t('option[value="'+n+'"]',s.select),null==e?i.prependTo(s.select):e.after(i),e=i}),this.options.onReorder(this)}},updatePlaceholder:function(){0!=this.options.placeholder&&(null==this.placeholder&&(this.placeholder=t("<li />").addClass("Placeholder").html(this.options.placeholder),this.placeholder.insertBefore(t("li:first-child",this.tokensContainer))),0==this.searchInput.val().length&&0==t("li.Token",this.tokensContainer).length?this.placeholder.show():this.placeholder.hide())},dropdownShow:function(){this.dropdown.show()},dropdownPrev:function(){t("li.Hover",this.dropdown).length>0?t("li.Hover",this.dropdown).is("li:first-child")?(t("li.Hover",this.dropdown).removeClass("Hover"),t("li:last-child",this.dropdown).addClass("Hover")):t("li.Hover",this.dropdown).removeClass("Hover").prev().addClass("Hover"):t("li:first",this.dropdown).addClass("Hover")},dropdownNext:function(){t("li.Hover",this.dropdown).length>0?t("li.Hover",this.dropdown).is("li:last-child")?(t("li.Hover",this.dropdown).removeClass("Hover"),t("li:first-child",this.dropdown).addClass("Hover")):t("li.Hover",this.dropdown).removeClass("Hover").next().addClass("Hover"):t("li:first",this.dropdown).addClass("Hover")},dropdownAddItem:function(e,i,s){if(null==s&&(s=i),!t('li[data-value="'+e+'"]',this.tokensContainer).length){var o=this,n=t("<li />").attr("data-value",e).attr("data-text",i).html(s).on("click",function(e){e.stopImmediatePropagation(),o.tokenAdd(t(this).attr("data-value"),t(this).attr("data-text"))}).on("mouseover",function(){t(this).addClass("Hover")}).on("mouseout",function(){t("li",o.dropdown).removeClass("Hover")});this.dropdown.append(n),this.options.onDropdownAddItem(e,i,s,this)}return this},dropdownHide:function(){this.dropdownReset(),this.dropdown.hide()},dropdownReset:function(){this.dropdown.html("")},resizeSearchInput:function(){this.searchInput.attr("size",Number(this.searchInput.val().length)+5),this.updatePlaceholder()},resetSearchInput:function(){this.searchInput.val(""),this.resizeSearchInput()},resetPendingTokens:function(){t("li.PendingDelete",this.tokensContainer).removeClass("PendingDelete")},keypress:function(t){String.fromCharCode(t.which)==this.options.delimiter&&(t.preventDefault(),this.tokenAdd(this.searchInput.val(),""))},keydown:function(r){switch(r.keyCode){case e:0==this.searchInput.val().length&&(r.preventDefault(),t("li.Token.PendingDelete",this.tokensContainer).length?this.tokenRemove(t("li.Token.PendingDelete").attr("data-value")):t("li.Token:last",this.tokensContainer).addClass("PendingDelete"),this.dropdownHide());break;case i:case s:if(t("li.Hover",this.dropdown).length){var l=t("li.Hover",this.dropdown);r.preventDefault(),this.tokenAdd(l.attr("data-value"),l.attr("data-text"))}else this.searchInput.val()&&(r.preventDefault(),this.tokenAdd(this.searchInput.val(),""));this.resetPendingTokens();break;case o:this.resetSearchInput(),this.dropdownHide(),this.resetPendingTokens();break;case n:r.preventDefault(),this.dropdownPrev();break;case a:r.preventDefault(),this.dropdownNext();break;default:this.resetPendingTokens()}},keyup:function(t){switch(this.updatePlaceholder(),t.keyCode){case i:case s:case o:case n:case a:break;case e:this.searchInput.val()?this.search():this.dropdownHide();break;default:this.searchInput.val()&&this.search()}},search:function(){var e=this,i=1;if(this.options.maxElements>0&&t("li.Token",this.tokensContainer).length>=this.options.maxElements)return!1;if("select"==this.options.datas){var s=!1,o=new RegExp(this.searchInput.val().replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");this.dropdownReset(),t("option",this.select).not(":selected, :disabled").each(function(){return i<=e.options.nbDropdownElements&&void(o.test(t(this).html())&&(e.dropdownAddItem(t(this).attr("value"),t(this).html()),s=!0,i++))}),s?(t("li:first",this.dropdown).addClass("Hover"),this.dropdownShow()):this.dropdownHide()}else this.debounce(function(){t.ajax({url:e.options.datas,data:e.options.searchParam+"="+e.searchInput.val(),dataType:e.options.dataType,success:function(s){return s&&(e.dropdownReset(),t.each(s,function(t,s){if(!(i<=e.options.nbDropdownElements))return!1;var o=void 0;s[e.options.htmlField]&&(o=s[e.options.htmlField]),e.dropdownAddItem(s[e.options.valueField],s[e.options.textField],o),i++}),t("li",e.dropdown).length)?(t("li:first",e.dropdown).addClass("Hover"),e.dropdownShow(),!0):void e.dropdownHide()},error:function(t,e){console.log("Error : "+e)}})},this.options.debounce)},debounce:function(t,e){var i=this,s=arguments;r&&clearTimeout(r),r=setTimeout(function(){t.apply(i,s),r=null},e||this.options.debounce)},tokenAdd:function(e,i,s){if(null==(e=this.escape(e))||""==e)return this;if((null==i||""==i)&&(i=e),null==s&&(s=!1),this.options.maxElements>0&&t("li.Token",this.tokensContainer).length>=this.options.maxElements)return this.resetSearchInput(),this;var o=this,n=t("<a />").addClass("Close").html("&#215;").on("click",function(t){t.stopImmediatePropagation(),o.tokenRemove(e)});if(t('option[value="'+e+'"]',this.select).length)t('option[value="'+e+'"]',this.select).attr("selected",!0).prop("selected",!0);else{if(!(this.options.newElements||!this.options.newElements&&t('li[data-value="'+e+'"]',this.dropdown).length>0))return this.resetSearchInput(),this;var a=t("<option />").attr("selected",!0).attr("value",e).attr("data-type","custom").prop("selected",!0).html(i);this.select.append(a)}return t('li.Token[data-value="'+e+'"]',this.tokensContainer).length>0?this:(t("<li />").addClass("Token").attr("data-value",e).append("<span>"+i+"</span>").prepend(n).insertBefore(this.searchToken),s||this.options.onAddToken(e,i,this),this.resetSearchInput(),this.dropdownHide(),this.updateOrder(),this)},tokenRemove:function(e){var i=t('option[value="'+e+'"]',this.select);return"custom"==i.attr("data-type")?i.remove():i.removeAttr("selected").prop("selected",!1),t('li.Token[data-value="'+e+'"]',this.tokensContainer).remove(),this.options.onRemoveToken(e,this),this.resizeSearchInput(),this.dropdownHide(),this.updateOrder(),this},clear:function(){var e=this;return t("li.Token",this.tokensContainer).each(function(){e.tokenRemove(t(this).attr("data-value"))}),this.options.onClear(this),this.dropdownHide(),this},disable:function(){return this.select.prop("disabled",!0),this.searchInput.prop("disabled",!0),this.container.addClass("Disabled"),this.options.sortable&&this.tokensContainer.sortable("disable"),this},enable:function(){return this.select.prop("disabled",!1),this.searchInput.prop("disabled",!1),this.container.removeClass("Disabled"),this.options.sortable&&this.tokensContainer.sortable("enable"),this},remap:function(e){var i=this,s=t("option:selected",this.select);return null==e&&(e=!1),this.clear(),s.each(function(){i.tokenAdd(t(this).val(),t(this).html(),e)}),this},toArray:function(){var e=[];return t("option:selected",this.select).each(function(){e.push(t(this).val())}),e},escape:function(t){return String(t).replace(/["]/g,function(){return""})}}),t.fn.tokenize=function(e){null==e&&(e={});var i=this.filter("select");return i.length>1?(i.each(function(){c(e,t(this))}),i):c(e,t(this))},t.fn.tokenize.defaults={datas:"select",placeholder:!1,searchParam:"search",searchMaxLength:0,debounce:0,delimiter:",",newElements:!0,autosize:!1,nbDropdownElements:10,displayDropdownOnFocus:!1,maxElements:0,sortable:!1,dataType:"json",valueField:"value",textField:"text",htmlField:"html",onAddToken:function(){},onRemoveToken:function(){},onClear:function(){},onReorder:function(){},onDropdownAddItem:function(){}}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";var e=!1,i=!1,s=0,o=2e3,n=0,a=t,r=document,l=window,c=a(l),d=[],u=l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||!1,p=l.cancelAnimationFrame||l.webkitCancelAnimationFrame||l.mozCancelAnimationFrame||!1;if(u)l.cancelAnimationFrame||(p=function(t){});else{var h=0;u=function(t,e){var i=(new Date).getTime(),s=Math.max(0,16-(i-h)),o=l.setTimeout(function(){t(i+s)},s);return h=i+s,o},p=function(t){l.clearTimeout(t)}}var m=l.MutationObserver||l.WebKitMutationObserver||!1,g=Date.now||function(){return(new Date).getTime()},f={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:40,mousescrollstep:27,touchbehavior:!1,emulatetouch:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var t=r.currentScript||function(){var t=r.getElementsByTagName("script");return!!t.length&&t[t.length-1]}(),e=t?t.src.split("?")[0]:"";return e.split("/").length>0?e.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0,disablemutationobserver:!1,enableobserver:!0,scrollbarid:!1},_=!1,v=function(){if(_)return _;var t=r.createElement("DIV"),e=t.style,i=navigator.userAgent,s=navigator.platform,o={};return o.haspointerlock="pointerLockElement"in r||"webkitPointerLockElement"in r||"mozPointerLockElement"in r,o.isopera="opera"in l,o.isopera12=o.isopera&&"getUserMedia"in navigator,o.isoperamini="[object OperaMini]"===Object.prototype.toString.call(l.operamini),o.isie="all"in r&&"attachEvent"in t&&!o.isopera,o.isieold=o.isie&&!("msInterpolationMode"in e),o.isie7=o.isie&&!o.isieold&&(!("documentMode"in r)||7===r.documentMode),o.isie8=o.isie&&"documentMode"in r&&8===r.documentMode,o.isie9=o.isie&&"performance"in l&&9===r.documentMode,o.isie10=o.isie&&"performance"in l&&10===r.documentMode,o.isie11="msRequestFullscreen"in t&&r.documentMode>=11,o.ismsedge="msCredentials"in l,o.ismozilla="MozAppearance"in e,o.iswebkit=!o.ismsedge&&"WebkitAppearance"in e,o.ischrome=o.iswebkit&&"chrome"in l,o.ischrome38=o.ischrome&&"touchAction"in e,o.ischrome22=!o.ischrome38&&o.ischrome&&o.haspointerlock,o.ischrome26=!o.ischrome38&&o.ischrome&&"transition"in e,o.cantouch="ontouchstart"in r.documentElement||"ontouchstart"in l,o.hasw3ctouch=!!l.PointerEvent&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),o.hasmstouch=!o.hasw3ctouch&&(l.MSPointerEvent||!1),o.ismac=/^mac$/i.test(s),o.isios=o.cantouch&&/iphone|ipad|ipod/i.test(s),o.isios4=o.isios&&!("seal"in Object),o.isios7=o.isios&&"webkitHidden"in r,o.isios8=o.isios&&"hidden"in r,o.isios10=o.isios&&l.Proxy,o.isandroid=/android/i.test(i),o.haseventlistener="addEventListener"in t,o.trstyle=!1,o.hastransform=!1,o.hastranslate3d=!1,o.transitionstyle=!1,o.hastransition=!1,o.transitionend=!1,o.trstyle="transform",o.hastransform="transform"in e||function(){for(var t=["msTransform","webkitTransform","MozTransform","OTransform"],i=0,s=t.length;i<s;i++)if(void 0!==e[t[i]]){o.trstyle=t[i];break}o.hastransform=!!o.trstyle}(),o.hastransform&&(e[o.trstyle]="translate3d(1px,2px,3px)",o.hastranslate3d=/translate3d/.test(e[o.trstyle])),o.transitionstyle="transition",o.prefixstyle="",o.transitionend="transitionend",o.hastransition="transition"in e||function(){o.transitionend=!1;for(var t=["webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"],i=["-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],s=["webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"],n=0,a=t.length;n<a;n++)if(t[n]in e){o.transitionstyle=t[n],o.prefixstyle=i[n],o.transitionend=s[n];break}o.ischrome26&&(o.prefixstyle=i[1]),o.hastransition=o.transitionstyle}(),o.cursorgrabvalue=function(){var t=["grab","-webkit-grab","-moz-grab"];(o.ischrome&&!o.ischrome38||o.isie)&&(t=[]);for(var i=0,s=t.length;i<s;i++){var n=t[i];if(e.cursor=n,e.cursor==n)return n}return"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"}(),o.hasmousecapture="setCapture"in t,o.hasMutationObserver=!1!==m,t=null,_=o,o},b=function(t,h){function _(){var t=C.doc.css(B.trstyle);return!(!t||"matrix"!=t.substr(0,6))&&t.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function b(t,e,i){var s=t.css(e),o=parseFloat(s);if(isNaN(o)){var n=3==(o=$[s]||0)?i?C.win.outerHeight()-C.win.innerHeight():C.win.outerWidth()-C.win.innerWidth():1;return C.isie8&&o&&(o+=1),n?o:0}return o}function x(t,e,i,s){C._bind(t,e,function(s){var o={original:s=s||l.event,target:s.target||s.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==s.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return s.preventDefault?s.preventDefault():s.returnValue=!1,!1},stopImmediatePropagation:function(){s.stopImmediatePropagation?s.stopImmediatePropagation():s.cancelBubble=!0}};return"mousewheel"==e?(s.wheelDeltaX&&(o.deltaX=-.025*s.wheelDeltaX),s.wheelDeltaY&&(o.deltaY=-.025*s.wheelDeltaY),!o.deltaY&&!o.deltaX&&(o.deltaY=-.025*s.wheelDelta)):o.deltaY=s.detail,i.call(t,o)},s)}function y(t,e,i,s){C.scrollrunning||(C.newscrolly=C.getScrollTop(),C.newscrollx=C.getScrollLeft(),P=g());var o=g()-P;if(P=g(),o>350?H=1:H+=(2-H)/10,e=e*H|0,t=t*H|0){if(s)if(t<0){if(C.getScrollLeft()>=C.page.maxw)return!0}else if(C.getScrollLeft()<=0)return!0;var n=t>0?1:-1;L!==n&&(C.scrollmom&&C.scrollmom.stop(),C.newscrollx=C.getScrollLeft(),L=n),C.lastdeltax-=t}if(e){if(function(){var t=C.getScrollTop();if(e<0){if(t>=C.page.maxh)return!0}else if(t<=0)return!0}()){if(j.nativeparentscrolling&&i&&!C.ispage&&!C.zoomactive)return!0;var a=C.view.h>>1;C.newscrolly<-a?(C.newscrolly=-a,e=-1):C.newscrolly>C.page.maxh+a?(C.newscrolly=C.page.maxh+a,e=1):e=0}var r=e>0?1:-1;M!==r&&(C.scrollmom&&C.scrollmom.stop(),C.newscrolly=C.getScrollTop(),M=r),C.lastdeltay-=e}(e||t)&&C.synched("relativexy",function(){var t=C.lastdeltay+C.newscrolly;C.lastdeltay=0;var e=C.lastdeltax+C.newscrollx;C.lastdeltax=0,C.rail.drag||C.doScrollPos(e,t)})}function k(t,e,i){var s,o;return!(i||!R)||(0===t.deltaMode?(s=-t.deltaX*(j.mousescrollstep/54)|0,o=-t.deltaY*(j.mousescrollstep/54)|0):1===t.deltaMode&&(s=-t.deltaX*j.mousescrollstep*50/80|0,o=-t.deltaY*j.mousescrollstep*50/80|0),e&&j.oneaxismousemode&&0===s&&o&&(s=o,o=0,i&&(s<0?C.getScrollLeft()>=C.page.maxw:C.getScrollLeft()<=0)&&(o=s,s=0)),C.isrtlmode&&(s=-s),y(s,o,i,!0)?void(i&&(R=!0)):(R=!1,t.stopImmediatePropagation(),t.preventDefault()))}var C=this;this.version="3.7.6",this.name="nicescroll",this.me=h;var E=a("body"),j=this.opt={doc:E,win:!1};if(a.extend(j,f),j.snapbackspeed=80,t)for(var S in j)void 0!==t[S]&&(j[S]=t[S]);if(j.disablemutationobserver&&(m=!1),this.doc=j.doc,this.iddoc=this.doc&&this.doc[0]&&this.doc[0].id||"",this.ispage=/^BODY|HTML/.test(j.win?j.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==j.win,this.win=j.win||(this.ispage?c:this.doc),this.docscroll=this.ispage&&!this.haswrapper?c:this.win,this.body=E,this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=j.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==j.rtlmode){var T=this.win[0]==l?this.body:this.win,A=T.css("writing-mode")||T.css("-webkit-writing-mode")||T.css("-ms-writing-mode")||T.css("-moz-writing-mode");"horizontal-tb"==A||"lr-tb"==A||""===A?(this.isrtlmode="rtl"==T.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==A||"tb"==A||"tb-rl"==A||"rl-tb"==A,this.isvertical="vertical-rl"==A||"tb"==A||"tb-rl"==A)}else this.isrtlmode=!0===j.rtlmode,this.isvertical=!1;if(this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1,!1!==j.scrollbarid)this.id=j.scrollbarid;else do{this.id="ascrail"+o++}while(r.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=j.overflowx,this.overflowy=j.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=v();var B=a.extend({},this.detected);this.canhwscroll=B.hastransform&&j.hwacceleration,this.ishwscroll=this.canhwscroll&&C.haswrapper,this.isrtlmode?this.isvertical?this.hasreversehr=!(B.iswebkit||B.isie||B.isie11):this.hasreversehr=!(B.iswebkit||B.isie&&!B.isie10&&!B.isie11):this.hasreversehr=!1,this.istouchcapable=!1,(B.cantouch||!B.hasw3ctouch&&!B.hasmstouch)&&(!B.cantouch||B.isios||B.isandroid||!B.iswebkit&&!B.ismozilla)||(this.istouchcapable=!0),j.enablemouselockapi||(B.hasmousecapture=!1,B.haspointerlock=!1),this.debounced=function(t,e,i){C&&(C.delaylist[t]||(C.delaylist[t]={h:u(function(){C.delaylist[t].fn.call(C),C.delaylist[t]=!1},i)},e.call(C)),C.delaylist[t].fn=e)},this.synched=function(t,e){C.synclist[t]?C.synclist[t]=e:(C.synclist[t]=e,u(function(){C&&(C.synclist[t]&&C.synclist[t].call(C),C.synclist[t]=null)}))},this.unsynched=function(t){C.synclist[t]&&(C.synclist[t]=!1)},this.css=function(t,e){for(var i in e)C.saved.css.push([t,i,t.css(i)]),t.css(i,e[i])},this.scrollTop=function(t){return void 0===t?C.getScrollTop():C.setScrollTop(t)},this.scrollLeft=function(t){return void 0===t?C.getScrollLeft():C.setScrollLeft(t)};var z=function(t,e,i,s,o,n,a){this.st=t,this.ed=e,this.spd=i,this.p1=s||0,this.p2=o||1,this.p3=n||0,this.p4=a||1,this.ts=g(),this.df=e-t};if(z.prototype={B2:function(t){return 3*(1-t)*(1-t)*t},B3:function(t){return 3*(1-t)*t*t},B4:function(t){return t*t*t},getPos:function(){return(g()-this.ts)/this.spd},getNow:function(){var t=(g()-this.ts)/this.spd,e=this.B2(t)+this.B3(t)+this.B4(t);return t>=1?this.ed:this.st+this.df*e|0},update:function(t,e){return this.st=this.getNow(),this.ed=t,this.spd=e,this.ts=g(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},B.hastranslate3d&&B.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(t){if(!t){var e=_();if(e)return 16==e.length?-e[13]:-e[5];if(C.timerscroll&&C.timerscroll.bz)return C.timerscroll.bz.getNow()}return C.doc.translate.y},this.getScrollLeft=function(t){if(!t){var e=_();if(e)return 16==e.length?-e[12]:-e[4];if(C.timerscroll&&C.timerscroll.bh)return C.timerscroll.bh.getNow()}return C.doc.translate.x},this.notifyScrollEvent=function(t){var e=r.createEvent("UIEvents");e.initUIEvent("scroll",!1,!1,l,1),e.niceevent=!0,t.dispatchEvent(e)};var D=this.isrtlmode?1:-1;B.hastranslate3d&&j.enabletranslate3d?(this.setScrollTop=function(t,e){C.doc.translate.y=t,C.doc.translate.ty=-1*t+"px",C.doc.css(B.trstyle,"translate3d("+C.doc.translate.tx+","+C.doc.translate.ty+",0)"),e||C.notifyScrollEvent(C.win[0])},this.setScrollLeft=function(t,e){C.doc.translate.x=t,C.doc.translate.tx=t*D+"px",C.doc.css(B.trstyle,"translate3d("+C.doc.translate.tx+","+C.doc.translate.ty+",0)"),e||C.notifyScrollEvent(C.win[0])}):(this.setScrollTop=function(t,e){C.doc.translate.y=t,C.doc.translate.ty=-1*t+"px",C.doc.css(B.trstyle,"translate("+C.doc.translate.tx+","+C.doc.translate.ty+")"),e||C.notifyScrollEvent(C.win[0])},this.setScrollLeft=function(t,e){C.doc.translate.x=t,C.doc.translate.tx=t*D+"px",C.doc.css(B.trstyle,"translate("+C.doc.translate.tx+","+C.doc.translate.ty+")"),e||C.notifyScrollEvent(C.win[0])})}else this.getScrollTop=function(){return C.docscroll.scrollTop()},this.setScrollTop=function(t){C.docscroll.scrollTop(t)},this.getScrollLeft=function(){return C.hasreversehr?C.detected.ismozilla?C.page.maxw-Math.abs(C.docscroll.scrollLeft()):C.page.maxw-C.docscroll.scrollLeft():C.docscroll.scrollLeft()},this.setScrollLeft=function(t){return setTimeout(function(){if(C)return C.hasreversehr&&(t=C.detected.ismozilla?-(C.page.maxw-t):C.page.maxw-t),C.docscroll.scrollLeft(t)},1)};this.getTarget=function(t){return!!t&&(t.target?t.target:!!t.srcElement&&t.srcElement)},this.hasParent=function(t,e){if(!t)return!1;for(var i=t.target||t.srcElement||t||!1;i&&i.id!=e;)i=i.parentNode||!1;return!1!==i};var $={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:l.pageYOffset||r.documentElement.scrollTop,left:l.pageXOffset||r.documentElement.scrollLeft}},this.getOffset=function(){if(C.isfixed){var t=C.win.offset(),e=C.getDocumentScrollOffset();return t.top-=e.top,t.left-=e.left,t}var i=C.win.offset();if(!C.viewport)return i;var s=C.viewport.offset();return{top:i.top-s.top,left:i.left-s.left}},this.updateScrollBar=function(t){var e,i;if(C.ishwscroll)C.rail.css({height:C.win.innerHeight()-(j.railpadding.top+j.railpadding.bottom)}),C.railh&&C.railh.css({width:C.win.innerWidth()-(j.railpadding.left+j.railpadding.right)});else{var s=C.getOffset();if((e={top:s.top,left:s.left-(j.railpadding.left+j.railpadding.right)}).top+=b(C.win,"border-top-width",!0),e.left+=C.rail.align?C.win.outerWidth()-b(C.win,"border-right-width")-C.rail.width:b(C.win,"border-left-width"),(i=j.railoffset)&&(i.top&&(e.top+=i.top),i.left&&(e.left+=i.left)),C.railslocked||C.rail.css({top:e.top,left:e.left,height:(t?t.h:C.win.innerHeight())-(j.railpadding.top+j.railpadding.bottom)}),C.zoom&&C.zoom.css({top:e.top+1,left:1==C.rail.align?e.left-20:e.left+C.rail.width+4}),C.railh&&!C.railslocked){e={top:s.top,left:s.left},(i=j.railhoffset)&&(i.top&&(e.top+=i.top),i.left&&(e.left+=i.left));var o=C.railh.align?e.top+b(C.win,"border-top-width",!0)+C.win.innerHeight()-C.railh.height:e.top+b(C.win,"border-top-width",!0),n=e.left+b(C.win,"border-left-width");C.railh.css({top:o-(j.railpadding.top+j.railpadding.bottom),left:n,width:C.railh.width})}}},this.doRailClick=function(t,e,i){var s,o,n,a;C.railslocked||(C.cancelEvent(t),"pageY"in t||(t.pageX=t.clientX+r.documentElement.scrollLeft,t.pageY=t.clientY+r.documentElement.scrollTop),e?(s=i?C.doScrollLeft:C.doScrollTop,n=i?(t.pageX-C.railh.offset().left-C.cursorwidth/2)*C.scrollratio.x:(t.pageY-C.rail.offset().top-C.cursorheight/2)*C.scrollratio.y,C.unsynched("relativexy"),s(0|n)):(s=i?C.doScrollLeftBy:C.doScrollBy,n=i?C.scroll.x:C.scroll.y,a=i?t.pageX-C.railh.offset().left:t.pageY-C.rail.offset().top,o=i?C.view.w:C.view.h,s(n>=a?o:-o)))},C.newscrolly=C.newscrollx=0,C.hasanimationframe="requestAnimationFrame"in l,C.hascancelanimationframe="cancelAnimationFrame"in l,C.hasborderbox=!1,this.init=function(){if(C.saved.css=[],B.isoperamini)return!0;if(B.isandroid&&!("hidden"in r))return!0;j.emulatetouch=j.emulatetouch||j.touchbehavior,C.hasborderbox=l.getComputedStyle&&"border-box"===l.getComputedStyle(r.body)["box-sizing"];var t={"overflow-y":"hidden"};if((B.isie11||B.isie10)&&(t["-ms-overflow-style"]="none"),C.ishwscroll&&(this.doc.css(B.transitionstyle,B.prefixstyle+"transform 0ms ease-out"),B.transitionend&&C.bind(C.doc,B.transitionend,C.onScrollTransitionEnd,!1)),C.zindex="auto",C.ispage||"auto"!=j.zindex?C.zindex=j.zindex:C.zindex=function(){var t=C.win;if("zIndex"in t)return t.zIndex();for(;t.length>0;){if(9==t[0].nodeType)return!1;var e=t.css("zIndex");if(!isNaN(e)&&0!==e)return parseInt(e);t=t.parent()}return!1}()||"auto",!C.ispage&&"auto"!=C.zindex&&C.zindex>n&&(n=C.zindex),C.isie&&0===C.zindex&&"auto"==j.zindex&&(C.zindex="auto"),!C.ispage||!B.isieold){var o=C.docscroll;C.ispage&&(o=C.haswrapper?C.win:C.doc),C.css(o,t),C.ispage&&(B.isie11||B.isie)&&C.css(a("html"),t),!B.isios||C.ispage||C.haswrapper||C.css(E,{"-webkit-overflow-scrolling":"touch"});var d=a(r.createElement("div"));d.css({position:"relative",top:0,float:"right",width:j.cursorwidth,height:0,"background-color":j.cursorcolor,border:j.cursorborder,"background-clip":"padding-box","-webkit-border-radius":j.cursorborderradius,"-moz-border-radius":j.cursorborderradius,"border-radius":j.cursorborderradius}),d.addClass("nicescroll-cursors"),C.cursor=d;var u=a(r.createElement("div"));u.attr("id",C.id),u.addClass("nicescroll-rails nicescroll-rails-vr");var p,h,g=["left","right","top","bottom"];for(var f in g)h=g[f],(p=j.railpadding[h]||0)&&u.css("padding-"+h,p+"px");u.append(d),u.width=Math.max(parseFloat(j.cursorwidth),d.outerWidth()),u.css({width:u.width+"px",zIndex:C.zindex,background:j.background,cursor:"default"}),u.visibility=!0,u.scrollable=!0,u.align="left"==j.railalign?0:1,C.rail=u,C.rail.drag=!1;var _,v=!1;if(!j.boxzoom||C.ispage||B.isieold||(v=r.createElement("div"),C.bind(v,"click",C.doZoom),C.bind(v,"mouseenter",function(){C.zoom.css("opacity",j.cursoropacitymax)}),C.bind(v,"mouseleave",function(){C.zoom.css("opacity",j.cursoropacitymin)}),C.zoom=a(v),C.zoom.css({cursor:"pointer",zIndex:C.zindex,backgroundImage:"url("+j.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0 0"}),j.dblclickzoom&&C.bind(C.win,"dblclick",C.doZoom),B.cantouch&&j.gesturezoom&&(C.ongesturezoom=function(t){return t.scale>1.5&&C.doZoomIn(t),t.scale<.8&&C.doZoomOut(t),C.cancelEvent(t)},C.bind(C.win,"gestureend",C.ongesturezoom))),C.railh=!1,j.horizrailenabled&&(C.css(o,{overflowX:"hidden"}),(d=a(r.createElement("div"))).css({position:"absolute",top:0,height:j.cursorwidth,width:0,backgroundColor:j.cursorcolor,border:j.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":j.cursorborderradius,"-moz-border-radius":j.cursorborderradius,"border-radius":j.cursorborderradius}),B.isieold&&d.css("overflow","hidden"),d.addClass("nicescroll-cursors"),C.cursorh=d,(_=a(r.createElement("div"))).attr("id",C.id+"-hr"),_.addClass("nicescroll-rails nicescroll-rails-hr"),_.height=Math.max(parseFloat(j.cursorwidth),d.outerHeight()),_.css({height:_.height+"px",zIndex:C.zindex,background:j.background}),_.append(d),_.visibility=!0,_.scrollable=!0,_.align="top"==j.railvalign?0:1,C.railh=_,C.railh.drag=!1),C.ispage)u.css({position:"fixed",top:0,height:"100%"}),u.css(u.align?{right:0}:{left:0}),C.body.append(u),C.railh&&(_.css({position:"fixed",left:0,width:"100%"}),_.css(_.align?{bottom:0}:{top:0}),C.body.append(_));else{if(C.ishwscroll){"static"==C.win.css("position")&&C.css(C.win,{position:"relative"});var b="HTML"==C.win[0].nodeName?C.body:C.win;a(b).scrollTop(0).scrollLeft(0),C.zoom&&(C.zoom.css({position:"absolute",top:1,right:0,"margin-right":u.width+4}),b.append(C.zoom)),u.css({position:"absolute",top:0}),u.css(u.align?{right:0}:{left:0}),b.append(u),_&&(_.css({position:"absolute",left:0,bottom:0}),_.css(_.align?{bottom:0}:{top:0}),b.append(_))}else{C.isfixed="fixed"==C.win.css("position");var x=C.isfixed?"fixed":"absolute";C.isfixed||(C.viewport=C.getViewport(C.win[0])),C.viewport&&(C.body=C.viewport,/fixed|absolute/.test(C.viewport.css("position"))||C.css(C.viewport,{position:"relative"})),u.css({position:x}),C.zoom&&C.zoom.css({position:x}),C.updateScrollBar(),C.body.append(u),C.zoom&&C.body.append(C.zoom),C.railh&&(_.css({position:x}),C.body.append(_))}B.isios&&C.css(C.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),j.disableoutline&&(B.isie&&C.win.attr("hideFocus","true"),B.iswebkit&&C.win.css("outline","none"))}if(!1===j.autohidemode?(C.autohidedom=!1,C.rail.css({opacity:j.cursoropacitymax}),C.railh&&C.railh.css({opacity:j.cursoropacitymax})):!0===j.autohidemode||"leave"===j.autohidemode?(C.autohidedom=a().add(C.rail),B.isie8&&(C.autohidedom=C.autohidedom.add(C.cursor)),C.railh&&(C.autohidedom=C.autohidedom.add(C.railh)),C.railh&&B.isie8&&(C.autohidedom=C.autohidedom.add(C.cursorh))):"scroll"==j.autohidemode?(C.autohidedom=a().add(C.rail),C.railh&&(C.autohidedom=C.autohidedom.add(C.railh))):"cursor"==j.autohidemode?(C.autohidedom=a().add(C.cursor),C.railh&&(C.autohidedom=C.autohidedom.add(C.cursorh))):"hidden"==j.autohidemode&&(C.autohidedom=!1,C.hide(),C.railslocked=!1),B.cantouch||C.istouchcapable||j.emulatetouch||B.hasmstouch){C.scrollmom=new w(C),C.ontouchstart=function(t){if(C.locked)return!1;if(t.pointerType&&("mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))return!1;if(C.hasmoving=!1,C.scrollmom.timer&&(C.triggerScrollEnd(),C.scrollmom.stop()),!C.railslocked){var e=C.getTarget(t);if(e&&/INPUT/i.test(e.nodeName)&&/range/i.test(e.type))return C.stopPropagation(t);var i="mousedown"===t.type;if(!("clientX"in t)&&"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),C.forcescreen){var s=t;(t={original:t.original?t.original:t}).clientX=s.screenX,t.clientY=s.screenY}if(C.rail.drag={x:t.clientX,y:t.clientY,sx:C.scroll.x,sy:C.scroll.y,st:C.getScrollTop(),sl:C.getScrollLeft(),pt:2,dl:!1,tg:e},C.ispage||!j.directionlockdeadzone)C.rail.drag.dl="f";else{var o={w:c.width(),h:c.height()},n=C.getContentSize(),r=n.h-o.h,l=n.w-o.w;C.rail.scrollable&&!C.railh.scrollable?C.rail.drag.ck=r>0&&"v":!C.rail.scrollable&&C.railh.scrollable?C.rail.drag.ck=l>0&&"h":C.rail.drag.ck=!1}if(j.emulatetouch&&C.isiframe&&B.isie){var d=C.win.position();C.rail.drag.x+=d.left,C.rail.drag.y+=d.top}if(C.hasmoving=!1,C.lastmouseup=!1,C.scrollmom.reset(t.clientX,t.clientY),e&&i){if(!/INPUT|SELECT|BUTTON|TEXTAREA/i.test(e.nodeName))return B.hasmousecapture&&e.setCapture(),j.emulatetouch?(e.onclick&&!e._onclick&&(e._onclick=e.onclick,e.onclick=function(t){if(C.hasmoving)return!1;e._onclick.call(this,t)}),C.cancelEvent(t)):C.stopPropagation(t);/SUBMIT|CANCEL|BUTTON/i.test(a(e).attr("type"))&&(C.preventclick={tg:e,click:!1})}}},C.ontouchend=function(t){if(!C.rail.drag)return!0;if(2==C.rail.drag.pt){if(t.pointerType&&("mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))return!1;C.rail.drag=!1;var e="mouseup"===t.type;if(C.hasmoving&&(C.scrollmom.doMomentum(),C.lastmouseup=!0,C.hideCursor(),B.hasmousecapture&&r.releaseCapture(),e))return C.cancelEvent(t)}else if(1==C.rail.drag.pt)return C.onmouseup(t)};var y=j.emulatetouch&&C.isiframe&&!B.hasmousecapture,k=.3*j.directionlockdeadzone|0;C.ontouchmove=function(t,e){if(!C.rail.drag)return!0;if(t.targetTouches&&j.preventmultitouchscrolling&&t.targetTouches.length>1)return!0;if(t.pointerType&&("mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))return!0;if(2==C.rail.drag.pt){var i,s;if("changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),s=i=0,y&&!e){var o=C.win.position();s=-o.left,i=-o.top}var n=t.clientY+i,a=n-C.rail.drag.y,l=t.clientX+s,c=l-C.rail.drag.x,d=C.rail.drag.st-a;if(C.ishwscroll&&j.bouncescroll)d<0?d=Math.round(d/2):d>C.page.maxh&&(d=C.page.maxh+Math.round((d-C.page.maxh)/2));else if(d<0?(d=0,n=0):d>C.page.maxh&&(d=C.page.maxh,n=0),0===n&&!C.hasmoving)return C.ispage||(C.rail.drag=!1),!0;var u=C.getScrollLeft();if(C.railh&&C.railh.scrollable&&(u=C.isrtlmode?c-C.rail.drag.sl:C.rail.drag.sl-c,C.ishwscroll&&j.bouncescroll?u<0?u=Math.round(u/2):u>C.page.maxw&&(u=C.page.maxw+Math.round((u-C.page.maxw)/2)):(u<0&&(u=0,l=0),u>C.page.maxw&&(u=C.page.maxw,l=0))),!C.hasmoving){if(C.rail.drag.y===t.clientY&&C.rail.drag.x===t.clientX)return C.cancelEvent(t);var p=Math.abs(a),h=Math.abs(c),m=j.directionlockdeadzone;if(C.rail.drag.ck?"v"==C.rail.drag.ck?h>m&&p<=k?C.rail.drag=!1:p>m&&(C.rail.drag.dl="v"):"h"==C.rail.drag.ck&&(p>m&&h<=k?C.rail.drag=!1:h>m&&(C.rail.drag.dl="h")):p>m&&h>m?C.rail.drag.dl="f":p>m?C.rail.drag.dl=h>k?"f":"v":h>m&&(C.rail.drag.dl=p>k?"f":"h"),!C.rail.drag.dl)return C.cancelEvent(t);C.triggerScrollStart(t.clientX,t.clientY,0,0,0),C.hasmoving=!0}return C.preventclick&&!C.preventclick.click&&(C.preventclick.click=C.preventclick.tg.onclick||!1,C.preventclick.tg.onclick=C.onpreventclick),C.rail.drag.dl&&("v"==C.rail.drag.dl?u=C.rail.drag.sl:"h"==C.rail.drag.dl&&(d=C.rail.drag.st)),C.synched("touchmove",function(){C.rail.drag&&2==C.rail.drag.pt&&(C.prepareTransition&&C.resetTransition(),C.rail.scrollable&&C.setScrollTop(d),C.scrollmom.update(l,n),C.railh&&C.railh.scrollable?(C.setScrollLeft(u),C.showCursor(d,u)):C.showCursor(d),B.isie10&&r.selection.clear())}),C.cancelEvent(t)}return 1==C.rail.drag.pt?C.onmousemove(t):void 0},C.ontouchstartCursor=function(t,e){if(!C.rail.drag||3==C.rail.drag.pt){if(C.locked)return C.cancelEvent(t);C.cancelScroll(),C.rail.drag={x:t.touches[0].clientX,y:t.touches[0].clientY,sx:C.scroll.x,sy:C.scroll.y,pt:3,hr:!!e};var i=C.getTarget(t);return!C.ispage&&B.hasmousecapture&&i.setCapture(),C.isiframe&&!B.hasmousecapture&&(C.saved.csspointerevents=C.doc.css("pointer-events"),C.css(C.doc,{"pointer-events":"none"})),C.cancelEvent(t)}},C.ontouchendCursor=function(t){if(C.rail.drag){if(B.hasmousecapture&&r.releaseCapture(),C.isiframe&&!B.hasmousecapture&&C.doc.css("pointer-events",C.saved.csspointerevents),3!=C.rail.drag.pt)return;return C.rail.drag=!1,C.cancelEvent(t)}},C.ontouchmoveCursor=function(t){if(C.rail.drag){if(3!=C.rail.drag.pt)return;if(C.cursorfreezed=!0,C.rail.drag.hr){C.scroll.x=C.rail.drag.sx+(t.touches[0].clientX-C.rail.drag.x),C.scroll.x<0&&(C.scroll.x=0);var e=C.scrollvaluemaxw;C.scroll.x>e&&(C.scroll.x=e)}else{C.scroll.y=C.rail.drag.sy+(t.touches[0].clientY-C.rail.drag.y),C.scroll.y<0&&(C.scroll.y=0);var i=C.scrollvaluemax;C.scroll.y>i&&(C.scroll.y=i)}return C.synched("touchmove",function(){C.rail.drag&&3==C.rail.drag.pt&&(C.showCursor(),C.rail.drag.hr?C.doScrollLeft(Math.round(C.scroll.x*C.scrollratio.x),j.cursordragspeed):C.doScrollTop(Math.round(C.scroll.y*C.scrollratio.y),j.cursordragspeed))}),C.cancelEvent(t)}}}if(C.onmousedown=function(t,e){if(!C.rail.drag||1==C.rail.drag.pt){if(C.railslocked)return C.cancelEvent(t);C.cancelScroll(),C.rail.drag={x:t.clientX,y:t.clientY,sx:C.scroll.x,sy:C.scroll.y,pt:1,hr:e||!1};var i=C.getTarget(t);return B.hasmousecapture&&i.setCapture(),C.isiframe&&!B.hasmousecapture&&(C.saved.csspointerevents=C.doc.css("pointer-events"),C.css(C.doc,{"pointer-events":"none"})),C.hasmoving=!1,C.cancelEvent(t)}},C.onmouseup=function(t){if(C.rail.drag)return 1!=C.rail.drag.pt||(B.hasmousecapture&&r.releaseCapture(),C.isiframe&&!B.hasmousecapture&&C.doc.css("pointer-events",C.saved.csspointerevents),C.rail.drag=!1,C.cursorfreezed=!1,C.hasmoving&&C.triggerScrollEnd(),C.cancelEvent(t))},C.onmousemove=function(t){if(C.rail.drag){if(1!==C.rail.drag.pt)return;if(B.ischrome&&0===t.which)return C.onmouseup(t);if(C.cursorfreezed=!0,C.hasmoving||C.triggerScrollStart(t.clientX,t.clientY,0,0,0),C.hasmoving=!0,C.rail.drag.hr){C.scroll.x=C.rail.drag.sx+(t.clientX-C.rail.drag.x),C.scroll.x<0&&(C.scroll.x=0);var e=C.scrollvaluemaxw;C.scroll.x>e&&(C.scroll.x=e)}else{C.scroll.y=C.rail.drag.sy+(t.clientY-C.rail.drag.y),C.scroll.y<0&&(C.scroll.y=0);var i=C.scrollvaluemax;C.scroll.y>i&&(C.scroll.y=i)}return C.synched("mousemove",function(){C.cursorfreezed&&(C.showCursor(),C.rail.drag.hr?C.scrollLeft(Math.round(C.scroll.x*C.scrollratio.x)):C.scrollTop(Math.round(C.scroll.y*C.scrollratio.y)))}),C.cancelEvent(t)}C.checkarea=0},B.cantouch||j.emulatetouch)C.onpreventclick=function(t){if(C.preventclick)return C.preventclick.tg.onclick=C.preventclick.click,C.preventclick=!1,C.cancelEvent(t)},C.onclick=!B.isios&&function(t){return!C.lastmouseup||(C.lastmouseup=!1,C.cancelEvent(t))},j.grabcursorenabled&&B.cursorgrabvalue&&(C.css(C.ispage?C.doc:C.win,{cursor:B.cursorgrabvalue}),C.css(C.rail,{cursor:B.cursorgrabvalue}));else{var S=function(t){if(C.selectiondrag){if(t){var e=C.win.outerHeight(),i=t.pageY-C.selectiondrag.top;i>0&&i<e&&(i=0),i>=e&&(i-=e),C.selectiondrag.df=i}if(0!==C.selectiondrag.df){var s=-2*C.selectiondrag.df/6|0;C.doScrollBy(s),C.debounced("doselectionscroll",function(){S()},50)}}};C.hasTextSelected="getSelection"in r?function(){return r.getSelection().rangeCount>0}:"selection"in r?function(){return"None"!=r.selection.type}:function(){return!1},C.onselectionstart=function(t){C.ispage||(C.selectiondrag=C.win.offset())},C.onselectionend=function(t){C.selectiondrag=!1},C.onselectiondrag=function(t){C.selectiondrag&&C.hasTextSelected()&&C.debounced("selectionscroll",function(){S(t)},250)}}if(B.hasw3ctouch?(C.css(C.ispage?a("html"):C.win,{"touch-action":"none"}),C.css(C.rail,{"touch-action":"none"}),C.css(C.cursor,{"touch-action":"none"}),C.bind(C.win,"pointerdown",C.ontouchstart),C.bind(r,"pointerup",C.ontouchend),C.delegate(r,"pointermove",C.ontouchmove)):B.hasmstouch?(C.css(C.ispage?a("html"):C.win,{"-ms-touch-action":"none"}),C.css(C.rail,{"-ms-touch-action":"none"}),C.css(C.cursor,{"-ms-touch-action":"none"}),C.bind(C.win,"MSPointerDown",C.ontouchstart),C.bind(r,"MSPointerUp",C.ontouchend),C.delegate(r,"MSPointerMove",C.ontouchmove),C.bind(C.cursor,"MSGestureHold",function(t){t.preventDefault()}),C.bind(C.cursor,"contextmenu",function(t){t.preventDefault()})):B.cantouch&&(C.bind(C.win,"touchstart",C.ontouchstart,!1,!0),C.bind(r,"touchend",C.ontouchend,!1,!0),C.bind(r,"touchcancel",C.ontouchend,!1,!0),C.delegate(r,"touchmove",C.ontouchmove,!1,!0)),j.emulatetouch&&(C.bind(C.win,"mousedown",C.ontouchstart,!1,!0),C.bind(r,"mouseup",C.ontouchend,!1,!0),C.bind(r,"mousemove",C.ontouchmove,!1,!0)),(j.cursordragontouch||!B.cantouch&&!j.emulatetouch)&&(C.rail.css({cursor:"default"}),C.railh&&C.railh.css({cursor:"default"}),C.jqbind(C.rail,"mouseenter",function(){if(!C.ispage&&!C.win.is(":visible"))return!1;C.canshowonmouseevent&&C.showCursor(),C.rail.active=!0}),C.jqbind(C.rail,"mouseleave",function(){C.rail.active=!1,C.rail.drag||C.hideCursor()}),j.sensitiverail&&(C.bind(C.rail,"click",function(t){C.doRailClick(t,!1,!1)}),C.bind(C.rail,"dblclick",function(t){C.doRailClick(t,!0,!1)}),C.bind(C.cursor,"click",function(t){C.cancelEvent(t)}),C.bind(C.cursor,"dblclick",function(t){C.cancelEvent(t)})),C.railh&&(C.jqbind(C.railh,"mouseenter",function(){if(!C.ispage&&!C.win.is(":visible"))return!1;C.canshowonmouseevent&&C.showCursor(),C.rail.active=!0}),C.jqbind(C.railh,"mouseleave",function(){C.rail.active=!1,C.rail.drag||C.hideCursor()}),j.sensitiverail&&(C.bind(C.railh,"click",function(t){C.doRailClick(t,!1,!0)}),C.bind(C.railh,"dblclick",function(t){C.doRailClick(t,!0,!0)}),C.bind(C.cursorh,"click",function(t){C.cancelEvent(t)}),C.bind(C.cursorh,"dblclick",function(t){C.cancelEvent(t)})))),j.cursordragontouch&&(this.istouchcapable||B.cantouch)&&(C.bind(C.cursor,"touchstart",C.ontouchstartCursor),C.bind(C.cursor,"touchmove",C.ontouchmoveCursor),C.bind(C.cursor,"touchend",C.ontouchendCursor),C.cursorh&&C.bind(C.cursorh,"touchstart",function(t){C.ontouchstartCursor(t,!0)}),C.cursorh&&C.bind(C.cursorh,"touchmove",C.ontouchmoveCursor),C.cursorh&&C.bind(C.cursorh,"touchend",C.ontouchendCursor)),j.emulatetouch||B.isandroid||B.isios?(C.bind(B.hasmousecapture?C.win:r,"mouseup",C.ontouchend),C.onclick&&C.bind(r,"click",C.onclick),j.cursordragontouch?(C.bind(C.cursor,"mousedown",C.onmousedown),C.bind(C.cursor,"mouseup",C.onmouseup),C.cursorh&&C.bind(C.cursorh,"mousedown",function(t){C.onmousedown(t,!0)}),C.cursorh&&C.bind(C.cursorh,"mouseup",C.onmouseup)):(C.bind(C.rail,"mousedown",function(t){t.preventDefault()}),C.railh&&C.bind(C.railh,"mousedown",function(t){t.preventDefault()}))):(C.bind(B.hasmousecapture?C.win:r,"mouseup",C.onmouseup),C.bind(r,"mousemove",C.onmousemove),C.onclick&&C.bind(r,"click",C.onclick),C.bind(C.cursor,"mousedown",C.onmousedown),C.bind(C.cursor,"mouseup",C.onmouseup),C.railh&&(C.bind(C.cursorh,"mousedown",function(t){C.onmousedown(t,!0)}),C.bind(C.cursorh,"mouseup",C.onmouseup)),!C.ispage&&j.enablescrollonselection&&(C.bind(C.win[0],"mousedown",C.onselectionstart),C.bind(r,"mouseup",C.onselectionend),C.bind(C.cursor,"mouseup",C.onselectionend),C.cursorh&&C.bind(C.cursorh,"mouseup",C.onselectionend),C.bind(r,"mousemove",C.onselectiondrag)),C.zoom&&(C.jqbind(C.zoom,"mouseenter",function(){C.canshowonmouseevent&&C.showCursor(),C.rail.active=!0}),C.jqbind(C.zoom,"mouseleave",function(){C.rail.active=!1,C.rail.drag||C.hideCursor()}))),j.enablemousewheel&&(C.isiframe||C.mousewheel(B.isie&&C.ispage?r:C.win,C.onmousewheel),C.mousewheel(C.rail,C.onmousewheel),C.railh&&C.mousewheel(C.railh,C.onmousewheelhr)),C.ispage||B.cantouch||/HTML|^BODY/.test(C.win[0].nodeName)||(C.win.attr("tabindex")||C.win.attr({tabindex:++s}),C.bind(C.win,"focus",function(t){e=C.getTarget(t).id||C.getTarget(t)||!1,C.hasfocus=!0,C.canshowonmouseevent&&C.noticeCursor()}),C.bind(C.win,"blur",function(t){e=!1,C.hasfocus=!1}),C.bind(C.win,"mouseenter",function(t){i=C.getTarget(t).id||C.getTarget(t)||!1,C.hasmousefocus=!0,C.canshowonmouseevent&&C.noticeCursor()}),C.bind(C.win,"mouseleave",function(t){i=!1,C.hasmousefocus=!1,C.rail.drag||C.hideCursor()})),C.onkeypress=function(t){if(C.railslocked&&0===C.page.maxh)return!0;t=t||l.event;var s=C.getTarget(t);if(s&&/INPUT|TEXTAREA|SELECT|OPTION/.test(s.nodeName)&&(!s.getAttribute("type")&&!s.type||!/submit|button|cancel/i.tp))return!0;if(a(s).attr("contenteditable"))return!0;if(C.hasfocus||C.hasmousefocus&&!e||C.ispage&&!e&&!i){var o=t.keyCode;if(C.railslocked&&27!=o)return C.cancelEvent(t);var n=t.ctrlKey||!1,r=t.shiftKey||!1,c=!1;switch(o){case 38:case 63233:C.doScrollBy(72),c=!0;break;case 40:case 63235:C.doScrollBy(-72),c=!0;break;case 37:case 63232:C.railh&&(n?C.doScrollLeft(0):C.doScrollLeftBy(72),c=!0);break;case 39:case 63234:C.railh&&(n?C.doScrollLeft(C.page.maxw):C.doScrollLeftBy(-72),c=!0);break;case 33:case 63276:C.doScrollBy(C.view.h),c=!0;break;case 34:case 63277:C.doScrollBy(-C.view.h),c=!0;break;case 36:case 63273:C.railh&&n?C.doScrollPos(0,0):C.doScrollTo(0),c=!0;break;case 35:case 63275:C.railh&&n?C.doScrollPos(C.page.maxw,C.page.maxh):C.doScrollTo(C.page.maxh),c=!0;break;case 32:j.spacebarenabled&&(r?C.doScrollBy(C.view.h):C.doScrollBy(-C.view.h),c=!0);break;case 27:C.zoomactive&&(C.doZoom(),c=!0)}if(c)return C.cancelEvent(t)}},j.enablekeyboard&&C.bind(r,B.isopera&&!B.isopera12?"keypress":"keydown",C.onkeypress),C.bind(r,"keydown",function(t){t.ctrlKey&&(C.wheelprevented=!0)}),C.bind(r,"keyup",function(t){t.ctrlKey||(C.wheelprevented=!1)}),C.bind(l,"blur",function(t){C.wheelprevented=!1}),C.bind(l,"resize",C.onscreenresize),C.bind(l,"orientationchange",C.onscreenresize),C.bind(l,"load",C.lazyResize),B.ischrome&&!C.ispage&&!C.haswrapper){var T=C.win.attr("style"),A=parseFloat(C.win.css("width"))+1;C.win.css("width",A),C.synched("chromefix",function(){C.win.attr("style",T)})}if(C.onAttributeChange=function(t){C.lazyResize(C.isieold?250:30)},j.enableobserver&&(C.isie11||!1===m||(C.observerbody=new m(function(t){if(t.forEach(function(t){if("attributes"==t.type)return E.hasClass("modal-open")&&E.hasClass("modal-dialog")&&!a.contains(a(".modal-dialog")[0],C.doc[0])?C.hide():C.show()}),C.me.clientWidth!=C.page.width||C.me.clientHeight!=C.page.height)return C.lazyResize(30)}),C.observerbody.observe(r.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),!C.ispage&&!C.haswrapper)){var z=C.win[0];!1!==m?(C.observer=new m(function(t){t.forEach(C.onAttributeChange)}),C.observer.observe(z,{childList:!0,characterData:!1,attributes:!0,subtree:!1}),C.observerremover=new m(function(t){t.forEach(function(t){if(t.removedNodes.length>0)for(var e in t.removedNodes)if(C&&t.removedNodes[e]===z)return C.remove()})}),C.observerremover.observe(z.parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(C.bind(z,B.isie&&!B.isie9?"propertychange":"DOMAttrModified",C.onAttributeChange),B.isie9&&z.attachEvent("onpropertychange",C.onAttributeChange),C.bind(z,"DOMNodeRemoved",function(t){t.target===z&&C.remove()}))}!C.ispage&&j.boxzoom&&C.bind(l,"resize",C.resizeZoom),C.istextarea&&(C.bind(C.win,"keydown",C.lazyResize),C.bind(C.win,"mouseup",C.lazyResize)),C.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var D=function(){var e;C.iframexd=!1;try{(e="contentDocument"in this?this.contentDocument:this.contentWindow._doc).domain}catch(t){C.iframexd=!0,e=!1}if(C.iframexd)return"console"in l&&console.log("NiceScroll error: policy restriced iframe"),!0;if(C.forcescreen=!0,C.isiframe&&(C.iframe={doc:a(e),html:C.doc.contents().find("html")[0],body:C.doc.contents().find("body")[0]},C.getContentSize=function(){return{w:Math.max(C.iframe.html.scrollWidth,C.iframe.body.scrollWidth),h:Math.max(C.iframe.html.scrollHeight,C.iframe.body.scrollHeight)}},C.docscroll=a(C.iframe.body)),!B.isios&&j.iframeautoresize&&!C.isiframe){C.win.scrollTop(0),C.doc.height("");var i=Math.max(e.getElementsByTagName("html")[0].scrollHeight,e.body.scrollHeight);C.doc.height(i)}C.lazyResize(30),C.css(a(C.iframe.body),t),B.isios&&C.haswrapper&&C.css(a(e.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?C.bind(this.contentWindow,"scroll",C.onscroll):C.bind(e,"scroll",C.onscroll),j.enablemousewheel&&C.mousewheel(e,C.onmousewheel),j.enablekeyboard&&C.bind(e,B.isopera?"keypress":"keydown",C.onkeypress),B.cantouch?(C.bind(e,"touchstart",C.ontouchstart),C.bind(e,"touchmove",C.ontouchmove)):j.emulatetouch&&(C.bind(e,"mousedown",C.ontouchstart),C.bind(e,"mousemove",function(t){return C.ontouchmove(t,!0)}),j.grabcursorenabled&&B.cursorgrabvalue&&C.css(a(e.body),{cursor:B.cursorgrabvalue})),C.bind(e,"mouseup",C.ontouchend),C.zoom&&(j.dblclickzoom&&C.bind(e,"dblclick",C.doZoom),C.ongesturezoom&&C.bind(e,"gestureend",C.ongesturezoom))};this.doc[0].readyState&&"complete"===this.doc[0].readyState&&setTimeout(function(){D.call(C.doc[0],!1)},500),C.bind(this.doc,"load",D)}},this.showCursor=function(t,e){if(C.cursortimeout&&(clearTimeout(C.cursortimeout),C.cursortimeout=0),C.rail){if(C.autohidedom&&(C.autohidedom.stop().css({opacity:j.cursoropacitymax}),C.cursoractive=!0),C.rail.drag&&1==C.rail.drag.pt||(void 0!==t&&!1!==t&&(C.scroll.y=t/C.scrollratio.y|0),void 0!==e&&(C.scroll.x=e/C.scrollratio.x|0)),C.cursor.css({height:C.cursorheight,top:C.scroll.y}),C.cursorh){var i=C.hasreversehr?C.scrollvaluemaxw-C.scroll.x:C.scroll.x;C.cursorh.css({width:C.cursorwidth,left:!C.rail.align&&C.rail.visibility?i+C.rail.width:i}),C.cursoractive=!0}C.zoom&&C.zoom.stop().css({opacity:j.cursoropacitymax})}},this.hideCursor=function(t){C.cursortimeout||C.rail&&C.autohidedom&&(C.hasmousefocus&&"leave"===j.autohidemode||(C.cursortimeout=setTimeout(function(){C.rail.active&&C.showonmouseevent||(C.autohidedom.stop().animate({opacity:j.cursoropacitymin}),C.zoom&&C.zoom.stop().animate({opacity:j.cursoropacitymin}),C.cursoractive=!1),C.cursortimeout=0},t||j.hidecursordelay)))},this.noticeCursor=function(t,e,i){C.showCursor(e,i),C.rail.active||C.hideCursor(t)},this.getContentSize=C.ispage?function(){return{w:Math.max(r.body.scrollWidth,r.documentElement.scrollWidth),h:Math.max(r.body.scrollHeight,r.documentElement.scrollHeight)}}:C.haswrapper?function(){return{w:C.doc[0].offsetWidth,h:C.doc[0].offsetHeight}}:function(){return{w:C.docscroll[0].scrollWidth,h:C.docscroll[0].scrollHeight}},this.onResize=function(t,e){if(!C||!C.win)return!1;var i=C.page.maxh,s=C.page.maxw,o=C.view.h,n=C.view.w;if(C.view={w:C.ispage?C.win.width():C.win[0].clientWidth,h:C.ispage?C.win.height():C.win[0].clientHeight},C.page=e||C.getContentSize(),C.page.maxh=Math.max(0,C.page.h-C.view.h),C.page.maxw=Math.max(0,C.page.w-C.view.w),C.page.maxh==i&&C.page.maxw==s&&C.view.w==n&&C.view.h==o){if(C.ispage)return C;var a=C.win.offset();if(C.lastposition){var r=C.lastposition;if(r.top==a.top&&r.left==a.left)return C}C.lastposition=a}return 0===C.page.maxh?(C.hideRail(),C.scrollvaluemax=0,C.scroll.y=0,C.scrollratio.y=0,C.cursorheight=0,C.setScrollTop(0),C.rail&&(C.rail.scrollable=!1)):(C.page.maxh-=j.railpadding.top+j.railpadding.bottom,C.rail.scrollable=!0),0===C.page.maxw?(C.hideRailHr(),C.scrollvaluemaxw=0,C.scroll.x=0,C.scrollratio.x=0,C.cursorwidth=0,C.setScrollLeft(0),C.railh&&(C.railh.scrollable=!1)):(C.page.maxw-=j.railpadding.left+j.railpadding.right,C.railh&&(C.railh.scrollable=j.horizrailenabled)),C.railslocked=C.locked||0===C.page.maxh&&0===C.page.maxw,C.railslocked?(C.ispage||C.updateScrollBar(C.view),!1):(C.hidden||(C.rail.visibility||C.showRail(),C.railh&&!C.railh.visibility&&C.showRailHr()),C.istextarea&&C.win.css("resize")&&"none"!=C.win.css("resize")&&(C.view.h-=20),C.cursorheight=Math.min(C.view.h,Math.round(C.view.h*(C.view.h/C.page.h))),C.cursorheight=j.cursorfixedheight?j.cursorfixedheight:Math.max(j.cursorminheight,C.cursorheight),C.cursorwidth=Math.min(C.view.w,Math.round(C.view.w*(C.view.w/C.page.w))),C.cursorwidth=j.cursorfixedheight?j.cursorfixedheight:Math.max(j.cursorminheight,C.cursorwidth),C.scrollvaluemax=C.view.h-C.cursorheight-(j.railpadding.top+j.railpadding.bottom),C.hasborderbox||(C.scrollvaluemax-=C.cursor[0].offsetHeight-C.cursor[0].clientHeight),C.railh&&(C.railh.width=C.page.maxh>0?C.view.w-C.rail.width:C.view.w,C.scrollvaluemaxw=C.railh.width-C.cursorwidth-(j.railpadding.left+j.railpadding.right)),C.ispage||C.updateScrollBar(C.view),C.scrollratio={x:C.page.maxw/C.scrollvaluemaxw,y:C.page.maxh/C.scrollvaluemax},C.getScrollTop()>C.page.maxh?C.doScrollTop(C.page.maxh):(C.scroll.y=C.getScrollTop()/C.scrollratio.y|0,C.scroll.x=C.getScrollLeft()/C.scrollratio.x|0,C.cursoractive&&C.noticeCursor()),C.scroll.y&&0===C.getScrollTop()&&C.doScrollTo(C.scroll.y*C.scrollratio.y|0),C)},this.resize=C.onResize;var I=0;this.onscreenresize=function(t){clearTimeout(I);var e=!C.ispage&&!C.haswrapper;e&&C.hideRails(),I=setTimeout(function(){C&&(e&&C.showRails(),C.resize()),I=0},120)},this.lazyResize=function(t){return clearTimeout(I),t=isNaN(t)?240:t,I=setTimeout(function(){C&&C.resize(),I=0},t),C},this.jqbind=function(t,e,i){C.events.push({e:t,n:e,f:i,q:!0}),a(t).on(e,i)},this.mousewheel=function(t,e,i){var s="jquery"in t?t[0]:t;if("onwheel"in r.createElement("div"))C._bind(s,"wheel",e,i||!1);else{var o=void 0!==r.onmousewheel?"mousewheel":"DOMMouseScroll";x(s,o,e,i||!1),"DOMMouseScroll"==o&&x(s,"MozMousePixelScroll",e,i||!1)}};var F=!1;if(B.haseventlistener){try{var O=Object.defineProperty({},"passive",{get:function(){F=!0}});l.addEventListener("test",null,O)}catch(t){}this.stopPropagation=function(t){return!!t&&((t=t.original?t.original:t).stopPropagation(),!1)},this.cancelEvent=function(t){return t.cancelable&&t.preventDefault(),t.stopImmediatePropagation(),t.preventManipulation&&t.preventManipulation(),!1}}else Event.prototype.preventDefault=function(){this.returnValue=!1},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},l.constructor.prototype.addEventListener=r.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(t,e,i){this.attachEvent("on"+t,e)},l.constructor.prototype.removeEventListener=r.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(t,e,i){this.detachEvent("on"+t,e)},this.cancelEvent=function(t){return(t=t||l.event)&&(t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1),!1},this.stopPropagation=function(t){return(t=t||l.event)&&(t.cancelBubble=!0),!1};this.delegate=function(t,e,i,s,o){var n=d[e]||!1;n||(n={a:[],l:[],f:function(t){for(var e=n.l,i=!1,s=e.length-1;s>=0;s--)if(!1===(i=e[s].call(t.target,t)))return!1;return i}},C.bind(t,e,n.f,s,o),d[e]=n),C.ispage?(n.a=[C.id].concat(n.a),n.l=[i].concat(n.l)):(n.a.push(C.id),n.l.push(i))},this.undelegate=function(t,e,i,s,o){var n=d[e]||!1;if(n&&n.l)for(var a=0,r=n.l.length;a<r;a++)n.a[a]===C.id&&(n.a.splice(a),n.l.splice(a),0===n.a.length&&(C._unbind(t,e,n.l.f),d[e]=null))},this.bind=function(t,e,i,s,o){var n="jquery"in t?t[0]:t;C._bind(n,e,i,s||!1,o||!1)},this._bind=function(t,e,i,s,o){C.events.push({e:t,n:e,f:i,b:s,q:!1}),F&&o?t.addEventListener(e,i,{passive:!1,capture:s}):t.addEventListener(e,i,s||!1)},this._unbind=function(t,e,i,s){d[e]?C.undelegate(t,e,i,s):t.removeEventListener(e,i,s)},this.unbindAll=function(){for(var t=0;t<C.events.length;t++){var e=C.events[t];e.q?e.e.unbind(e.n,e.f):C._unbind(e.e,e.n,e.f,e.b)}},this.showRails=function(){return C.showRail().showRailHr()},this.showRail=function(){return 0===C.page.maxh||!C.ispage&&"none"==C.win.css("display")||(C.rail.visibility=!0,C.rail.css("display","block")),C},this.showRailHr=function(){return C.railh&&(0===C.page.maxw||!C.ispage&&"none"==C.win.css("display")||(C.railh.visibility=!0,C.railh.css("display","block"))),C},this.hideRails=function(){return C.hideRail().hideRailHr()},this.hideRail=function(){return C.rail.visibility=!1,C.rail.css("display","none"),C},this.hideRailHr=function(){return C.railh&&(C.railh.visibility=!1,C.railh.css("display","none")),C},this.show=function(){return C.hidden=!1,C.railslocked=!1,C.showRails()},this.hide=function(){return C.hidden=!0,C.railslocked=!0,C.hideRails()},this.toggle=function(){return C.hidden?C.show():C.hide()},this.remove=function(){for(var t in C.stop(),C.cursortimeout&&clearTimeout(C.cursortimeout),C.delaylist)C.delaylist[t]&&p(C.delaylist[t].h);C.doZoomOut(),C.unbindAll(),B.isie9&&C.win[0].detachEvent("onpropertychange",C.onAttributeChange),!1!==C.observer&&C.observer.disconnect(),!1!==C.observerremover&&C.observerremover.disconnect(),!1!==C.observerbody&&C.observerbody.disconnect(),C.events=null,C.cursor&&C.cursor.remove(),C.cursorh&&C.cursorh.remove(),C.rail&&C.rail.remove(),C.railh&&C.railh.remove(),C.zoom&&C.zoom.remove();for(var e=0;e<C.saved.css.length;e++){var i=C.saved.css[e];i[0].css(i[1],void 0===i[2]?"":i[2])}C.saved=!1,C.me.data("__nicescroll","");var s=a.nicescroll;for(var o in s.each(function(t){if(this&&this.id===C.id){delete s[t];for(var e=++t;e<s.length;e++,t++)s[t]=s[e];--s.length&&delete s[s.length]}}),C)C[o]=null,delete C[o];C=null},this.scrollstart=function(t){return this.onscrollstart=t,C},this.scrollend=function(t){return this.onscrollend=t,C},this.scrollcancel=function(t){return this.onscrollcancel=t,C},this.zoomin=function(t){return this.onzoomin=t,C},this.zoomout=function(t){return this.onzoomout=t,C},this.isScrollable=function(t){var e=t.target?t.target:t;if("OPTION"==e.nodeName)return!0;for(;e&&1==e.nodeType&&e!==this.me[0]&&!/^BODY|HTML/.test(e.nodeName);){var i=a(e),s=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(s))return e.clientHeight!=e.scrollHeight;e=!!e.parentNode&&e.parentNode}return!1},this.getViewport=function(t){for(var e=!(!t||!t.parentNode)&&t.parentNode;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var i=a(e);if(/fixed|absolute/.test(i.css("position")))return i;var s=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(s)&&e.clientHeight!=e.scrollHeight)return i;if(i.getNiceScroll().length>0)return i;e=!!e.parentNode&&e.parentNode}return!1},this.triggerScrollStart=function(t,e,i,s,o){if(C.onscrollstart){var n={type:"scrollstart",current:{x:t,y:e},request:{x:i,y:s},end:{x:C.newscrollx,y:C.newscrolly},speed:o};C.onscrollstart.call(C,n)}},this.triggerScrollEnd=function(){if(C.onscrollend){var t=C.getScrollLeft(),e=C.getScrollTop(),i={type:"scrollend",current:{x:t,y:e},end:{x:t,y:e}};C.onscrollend.call(C,i)}};var M=0,L=0,P=0,H=1,R=!1;if(this.onmousewheel=function(t){if(C.wheelprevented||C.locked)return!1;if(C.railslocked)return C.debounced("checkunlock",C.resize,250),!1;if(C.rail.drag)return C.cancelEvent(t);if("auto"===j.oneaxismousemode&&0!==t.deltaX&&(j.oneaxismousemode=!1),j.oneaxismousemode&&0===t.deltaX&&!C.rail.scrollable)return!C.railh||!C.railh.scrollable||C.onmousewheelhr(t);var e=g(),i=!1;if(j.preservenativescrolling&&C.checkarea+600<e&&(C.nativescrollingarea=C.isScrollable(t),i=!0),C.checkarea=e,C.nativescrollingarea)return!0;var s=k(t,!1,i);return s&&(C.checkarea=0),s},this.onmousewheelhr=function(t){if(!C.wheelprevented){if(C.railslocked||!C.railh.scrollable)return!0;if(C.rail.drag)return C.cancelEvent(t);var e=g(),i=!1;return j.preservenativescrolling&&C.checkarea+600<e&&(C.nativescrollingarea=C.isScrollable(t),i=!0),C.checkarea=e,!!C.nativescrollingarea||(C.railslocked?C.cancelEvent(t):k(t,!0,i))}},this.stop=function(){return C.cancelScroll(),C.scrollmon&&C.scrollmon.stop(),C.cursorfreezed=!1,C.scroll.y=Math.round(C.getScrollTop()*(1/C.scrollratio.y)),C.noticeCursor(),C},this.getTransitionSpeed=function(t){return 80+t/72*j.scrollspeed|0},j.smoothscroll)if(C.ishwscroll&&B.hastransition&&j.usetransition&&j.smoothscroll){var X="";this.resetTransition=function(){X="",C.doc.css(B.prefixstyle+"transition-duration","0ms")},this.prepareTransition=function(t,e){var i=e?t:C.getTransitionSpeed(t),s=i+"ms";return X!==s&&(X=s,C.doc.css(B.prefixstyle+"transition-duration",s)),i},this.doScrollLeft=function(t,e){var i=C.scrollrunning?C.newscrolly:C.getScrollTop();C.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=C.scrollrunning?C.newscrollx:C.getScrollLeft();C.doScrollPos(i,t,e)},this.cursorupdate={running:!1,start:function(){var t=this;if(!t.running){t.running=!0;var e=function(){t.running&&u(e),C.showCursor(C.getScrollTop(),C.getScrollLeft()),C.notifyScrollEvent(C.win[0])};u(e)}},stop:function(){this.running=!1}},this.doScrollPos=function(t,e,i){var s=C.getScrollTop(),o=C.getScrollLeft();if(((C.newscrolly-s)*(e-s)<0||(C.newscrollx-o)*(t-o)<0)&&C.cancelScroll(),j.bouncescroll?(e<0?e=e/2|0:e>C.page.maxh&&(e=C.page.maxh+(e-C.page.maxh)/2|0),t<0?t=t/2|0:t>C.page.maxw&&(t=C.page.maxw+(t-C.page.maxw)/2|0)):(e<0?e=0:e>C.page.maxh&&(e=C.page.maxh),t<0?t=0:t>C.page.maxw&&(t=C.page.maxw)),C.scrollrunning&&t==C.newscrollx&&e==C.newscrolly)return!1;C.newscrolly=e,C.newscrollx=t;var n=C.getScrollTop(),a=C.getScrollLeft(),r={};r.x=t-a,r.y=e-n;var l=0|Math.sqrt(r.x*r.x+r.y*r.y),c=C.prepareTransition(l);C.scrollrunning||(C.scrollrunning=!0,C.triggerScrollStart(a,n,t,e,c),C.cursorupdate.start()),C.scrollendtrapped=!0,B.transitionend||(C.scrollendtrapped&&clearTimeout(C.scrollendtrapped),C.scrollendtrapped=setTimeout(C.onScrollTransitionEnd,c)),C.setScrollTop(C.newscrolly),C.setScrollLeft(C.newscrollx)},this.cancelScroll=function(){if(!C.scrollendtrapped)return!0;var t=C.getScrollTop(),e=C.getScrollLeft();return C.scrollrunning=!1,B.transitionend||clearTimeout(B.transitionend),C.scrollendtrapped=!1,C.resetTransition(),C.setScrollTop(t),C.railh&&C.setScrollLeft(e),C.timerscroll&&C.timerscroll.tm&&clearInterval(C.timerscroll.tm),C.timerscroll=!1,C.cursorfreezed=!1,C.cursorupdate.stop(),C.showCursor(t,e),C},this.onScrollTransitionEnd=function(){if(C.scrollendtrapped){var t=C.getScrollTop(),e=C.getScrollLeft();if(t<0?t=0:t>C.page.maxh&&(t=C.page.maxh),e<0?e=0:e>C.page.maxw&&(e=C.page.maxw),t!=C.newscrolly||e!=C.newscrollx)return C.doScrollPos(e,t,j.snapbackspeed);C.scrollrunning&&C.triggerScrollEnd(),C.scrollrunning=!1,C.scrollendtrapped=!1,C.resetTransition(),C.timerscroll=!1,C.setScrollTop(t),C.railh&&C.setScrollLeft(e),C.cursorupdate.stop(),C.noticeCursor(!1,t,e),C.cursorfreezed=!1}}}else this.doScrollLeft=function(t,e){var i=C.scrollrunning?C.newscrolly:C.getScrollTop();C.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=C.scrollrunning?C.newscrollx:C.getScrollLeft();C.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){var s=C.getScrollTop(),o=C.getScrollLeft();((C.newscrolly-s)*(e-s)<0||(C.newscrollx-o)*(t-o)<0)&&C.cancelScroll();var n=!1;if(C.bouncescroll&&C.rail.visibility||(e<0?(e=0,n=!0):e>C.page.maxh&&(e=C.page.maxh,n=!0)),C.bouncescroll&&C.railh.visibility||(t<0?(t=0,n=!0):t>C.page.maxw&&(t=C.page.maxw,n=!0)),C.scrollrunning&&C.newscrolly===e&&C.newscrollx===t)return!0;C.newscrolly=e,C.newscrollx=t,C.dst={},C.dst.x=t-o,C.dst.y=e-s,C.dst.px=o,C.dst.py=s;var a=0|Math.sqrt(C.dst.x*C.dst.x+C.dst.y*C.dst.y),r=C.getTransitionSpeed(a);C.bzscroll={};var l=n?1:.58;C.bzscroll.x=new z(o,C.newscrollx,r,0,0,l,1),C.bzscroll.y=new z(s,C.newscrolly,r,0,0,l,1),g();var c=function(){if(C.scrollrunning){var t=C.bzscroll.y.getPos();C.setScrollLeft(C.bzscroll.x.getNow()),C.setScrollTop(C.bzscroll.y.getNow()),t<=1?C.timer=u(c):(C.scrollrunning=!1,C.timer=0,C.triggerScrollEnd())}};C.scrollrunning||(C.triggerScrollStart(o,s,t,e,r),C.scrollrunning=!0,C.timer=u(c))},this.cancelScroll=function(){return C.timer&&p(C.timer),C.timer=0,C.bzscroll=!1,C.scrollrunning=!1,C};else this.doScrollLeft=function(t,e){var i=C.getScrollTop();C.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=C.getScrollLeft();C.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){var s=t>C.page.maxw?C.page.maxw:t;s<0&&(s=0);var o=e>C.page.maxh?C.page.maxh:e;o<0&&(o=0),C.synched("scroll",function(){C.setScrollTop(o),C.setScrollLeft(s)})},this.cancelScroll=function(){};this.doScrollBy=function(t,e){y(0,t)},this.doScrollLeftBy=function(t,e){y(t,0)},this.doScrollTo=function(t,e){var i=e?Math.round(t*C.scrollratio.y):t;i<0?i=0:i>C.page.maxh&&(i=C.page.maxh),C.cursorfreezed=!1,C.doScrollTop(t)},this.checkContentSize=function(){var t=C.getContentSize();t.h==C.page.h&&t.w==C.page.w||C.resize(!1,t)},C.onscroll=function(t){C.rail.drag||C.cursorfreezed||C.synched("scroll",function(){C.scroll.y=Math.round(C.getScrollTop()/C.scrollratio.y),C.railh&&(C.scroll.x=Math.round(C.getScrollLeft()/C.scrollratio.x)),C.noticeCursor()})},C.bind(C.docscroll,"scroll",C.onscroll),this.doZoomIn=function(t){if(!C.zoomactive){C.zoomactive=!0,C.zoomrestore={style:{}};var e=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],i=C.win[0].style;for(var s in e){var o=e[s];C.zoomrestore.style[o]=void 0!==i[o]?i[o]:""}C.zoomrestore.style.width=C.win.css("width"),C.zoomrestore.style.height=C.win.css("height"),C.zoomrestore.padding={w:C.win.outerWidth()-C.win.width(),h:C.win.outerHeight()-C.win.height()},B.isios4&&(C.zoomrestore.scrollTop=c.scrollTop(),c.scrollTop(0)),C.win.css({position:B.isios4?"absolute":"fixed",top:0,left:0,zIndex:n+100,margin:0});var a=C.win.css("backgroundColor");return(""===a||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(a))&&C.win.css("backgroundColor","#fff"),C.rail.css({zIndex:n+101}),C.zoom.css({zIndex:n+102}),C.zoom.css("backgroundPosition","0 -18px"),C.resizeZoom(),C.onzoomin&&C.onzoomin.call(C),C.cancelEvent(t)}},this.doZoomOut=function(t){if(C.zoomactive)return C.zoomactive=!1,C.win.css("margin",""),C.win.css(C.zoomrestore.style),B.isios4&&c.scrollTop(C.zoomrestore.scrollTop),C.rail.css({"z-index":C.zindex}),C.zoom.css({"z-index":C.zindex}),C.zoomrestore=!1,C.zoom.css("backgroundPosition","0 0"),C.onResize(),C.onzoomout&&C.onzoomout.call(C),C.cancelEvent(t)},this.doZoom=function(t){return C.zoomactive?C.doZoomOut(t):C.doZoomIn(t)},this.resizeZoom=function(){if(C.zoomactive){var t=C.getScrollTop();C.win.css({width:c.width()-C.zoomrestore.padding.w+"px",height:c.height()-C.zoomrestore.padding.h+"px"}),C.onResize(),C.setScrollTop(Math.min(C.page.maxh,t))}},this.init(),a.nicescroll.push(this)},w=function(t){var e=this;this.nc=t,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.reset=function(t,i){e.stop(),e.steptime=0,e.lasttime=g(),e.speedx=0,e.speedy=0,e.lastx=t,e.lasty=i,e.lastscrollx=-1,e.lastscrolly=-1},this.update=function(t,i){var s=g();e.steptime=s-e.lasttime,e.lasttime=s;var o=i-e.lasty,n=t-e.lastx,a=e.nc.getScrollTop()+o,r=e.nc.getScrollLeft()+n;e.snapx=r<0||r>e.nc.page.maxw,e.snapy=a<0||a>e.nc.page.maxh,e.speedx=n,e.speedy=o,e.lastx=t,e.lasty=i},this.stop=function(){e.nc.unsynched("domomentum2d"),e.timer&&clearTimeout(e.timer),e.timer=0,e.lastscrollx=-1,e.lastscrolly=-1},this.doSnapy=function(t,i){var s=!1;i<0?(i=0,s=!0):i>e.nc.page.maxh&&(i=e.nc.page.maxh,s=!0),t<0?(t=0,s=!0):t>e.nc.page.maxw&&(t=e.nc.page.maxw,s=!0),s?e.nc.doScrollPos(t,i,e.nc.opt.snapbackspeed):e.nc.triggerScrollEnd()},this.doMomentum=function(t){var i=g(),s=t?i+t:e.lasttime,o=e.nc.getScrollLeft(),n=e.nc.getScrollTop(),a=e.nc.page.maxh,r=e.nc.page.maxw;e.speedx=r>0?Math.min(60,e.speedx):0,e.speedy=a>0?Math.min(60,e.speedy):0;var l=s&&i-s<=60;(n<0||n>a||o<0||o>r)&&(l=!1);var c=!(!e.speedy||!l)&&e.speedy,d=!(!e.speedx||!l)&&e.speedx;if(c||d){var u=Math.max(16,e.steptime);if(u>50){var p=u/50;e.speedx*=p,e.speedy*=p,u=50}e.demulxy=0,e.lastscrollx=e.nc.getScrollLeft(),e.chkx=e.lastscrollx,e.lastscrolly=e.nc.getScrollTop(),e.chky=e.lastscrolly;var h=e.lastscrollx,m=e.lastscrolly,f=function(){var t=g()-i>600?.04:.02;e.speedx&&(h=Math.floor(e.lastscrollx-e.speedx*(1-e.demulxy)),e.lastscrollx=h,(h<0||h>r)&&(t=.1)),e.speedy&&(m=Math.floor(e.lastscrolly-e.speedy*(1-e.demulxy)),e.lastscrolly=m,(m<0||m>a)&&(t=.1)),e.demulxy=Math.min(1,e.demulxy+t),e.nc.synched("domomentum2d",function(){e.speedx&&(e.nc.getScrollLeft(),e.chkx=h,e.nc.setScrollLeft(h)),e.speedy&&(e.nc.getScrollTop(),e.chky=m,e.nc.setScrollTop(m)),e.timer||(e.nc.hideCursor(),e.doSnapy(h,m))}),e.demulxy<1?e.timer=setTimeout(f,u):(e.stop(),e.nc.hideCursor(),e.doSnapy(h,m))};f()}else e.doSnapy(e.nc.getScrollLeft(),e.nc.getScrollTop())}},x=t.fn.scrollTop;t.cssHooks.pageYOffset={get:function(t,e,i){var s=a.data(t,"__nicescroll")||!1;return s&&s.ishwscroll?s.getScrollTop():x.call(t)},set:function(t,e){var i=a.data(t,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollTop(parseInt(e)):x.call(t,e),this}},t.fn.scrollTop=function(t){if(void 0===t){var e=!!this[0]&&(a.data(this[0],"__nicescroll")||!1);return e&&e.ishwscroll?e.getScrollTop():x.call(this)}return this.each(function(){var e=a.data(this,"__nicescroll")||!1;e&&e.ishwscroll?e.setScrollTop(parseInt(t)):x.call(a(this),t)})};var y=t.fn.scrollLeft;a.cssHooks.pageXOffset={get:function(t,e,i){var s=a.data(t,"__nicescroll")||!1;return s&&s.ishwscroll?s.getScrollLeft():y.call(t)},set:function(t,e){var i=a.data(t,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollLeft(parseInt(e)):y.call(t,e),this}},t.fn.scrollLeft=function(t){if(void 0===t){var e=!!this[0]&&(a.data(this[0],"__nicescroll")||!1);return e&&e.ishwscroll?e.getScrollLeft():y.call(this)}return this.each(function(){var e=a.data(this,"__nicescroll")||!1;e&&e.ishwscroll?e.setScrollLeft(parseInt(t)):y.call(a(this),t)})};var k=function(t){var e=this;if(this.length=0,this.name="nicescrollarray",this.each=function(t){return a.each(e,t),e},this.push=function(t){e[e.length]=t,e.length++},this.eq=function(t){return e[t]},t)for(var i=0;i<t.length;i++){var s=a.data(t[i],"__nicescroll")||!1;s&&(this[this.length]=s,this.length++)}return this};!function(t,e,i){for(var s=0,o=e.length;s<o;s++)i(t,e[s])}(k.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(t,e){t[e]=function(){var t=arguments;return this.each(function(){this[e].apply(this,t)})}}),t.fn.getNiceScroll=function(t){return void 0===t?new k(this):this[t]&&a.data(this[t],"__nicescroll")||!1},(t.expr.pseudos||t.expr[":"]).nicescroll=function(t){return void 0!==a.data(t,"__nicescroll")},a.fn.niceScroll=function(t,e){void 0!==e||"object"!=typeof t||"jquery"in t||(e=t,t=!1);var i=new k;return this.each(function(){var s=a(this),o=a.extend({},e);if(t){var n=a(t);o.doc=n.length>1?a(t,s):n,o.win=s}!("doc"in o)||"win"in o||(o.win=s);var r=s.data("__nicescroll")||!1;r||(o.doc=o.doc||s,r=new b(o,s),s.data("__nicescroll",r)),i.push(r)}),1===i.length?i[0]:i},l.NiceScroll={getjQuery:function(){return t}},a.nicescroll||(a.nicescroll=new k,a.nicescroll.options=f)}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(i){return t.jBox=e(i)}):"object"==typeof module&&module.exports?module.exports=t.jBox=e(require("jquery")):t.jBox=e(t.jQuery)}(this,function(t){var e,i,s=function e(i,s){return this.options={id:null,width:"auto",height:"auto",minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,responsiveWidth:!0,responsiveHeight:!0,responsiveMinWidth:100,responsiveMinHeight:100,attach:null,trigger:"click",preventDefault:!1,content:null,getContent:null,title:null,getTitle:null,footer:null,isolateScroll:!0,ajax:{url:null,data:"",reload:!1,getURL:"data-url",getData:"data-ajax",setContent:!0,spinner:!0,spinnerDelay:300,spinnerReposition:!0},cancelAjaxOnClose:!0,target:null,position:{x:"center",y:"center"},outside:null,offset:0,attributes:{x:"left",y:"top"},fixed:!1,adjustPosition:!0,adjustTracker:!1,adjustDistance:5,reposition:!0,repositionOnOpen:!0,repositionOnContent:!0,holdPosition:!0,pointer:!1,pointTo:"target",fade:180,animation:null,theme:"Default",addClass:null,overlay:!1,zIndex:1e4,delayOpen:0,delayClose:0,closeOnEsc:!1,closeOnClick:!1,closeOnMouseleave:!1,closeButton:!1,appendTo:t("body"),createOnInit:!1,blockScroll:!1,draggable:!1,dragOver:!0,autoClose:!1,delayOnHover:!1,showCountdown:!1,preloadAudio:!0,audio:null,volume:100,onInit:null,onAttach:null,onPosition:null,onCreated:null,onOpen:null,onClose:null,onCloseComplete:null},this._pluginOptions={Tooltip:{getContent:"title",trigger:"mouseenter",position:{x:"center",y:"top"},outside:"y",pointer:!0},Mouse:{responsiveWidth:!1,responsiveHeight:!1,adjustPosition:"flip",target:"mouse",trigger:"mouseenter",position:{x:"right",y:"bottom"},outside:"xy",offset:5},Modal:{target:t(window),fixed:!0,blockScroll:!0,closeOnEsc:!0,closeOnClick:"overlay",closeButton:!0,overlay:!0,animation:"zoomIn"}},this.options=t.extend(!0,this.options,this._pluginOptions[i]?this._pluginOptions[i]:e._pluginOptions[i],s),"string"==t.type(i)&&(this.type=i),this._fireEvent=function(t,e){this.options["_"+t]&&this.options["_"+t].bind(this)(e),this.options[t]&&this.options[t].bind(this)(e)},null===this.options.id&&(this.options.id="jBox"+e._getUniqueID()),this.id=this.options.id,("center"==this.options.position.x&&"x"==this.options.outside||"center"==this.options.position.y&&"y"==this.options.outside)&&(this.options.outside=null),"target"==this.options.pointTo&&(!this.options.outside||"xy"==this.options.outside)&&(this.options.pointer=!1),"object"!=t.type(this.options.offset)?this.options.offset={x:this.options.offset,y:this.options.offset}:this.options.offset=t.extend({x:0,y:0},this.options.offset),"object"!=t.type(this.options.adjustDistance)?this.options.adjustDistance={top:this.options.adjustDistance,right:this.options.adjustDistance,bottom:this.options.adjustDistance,left:this.options.adjustDistance}:this.options.adjustDistance=t.extend({top:5,left:5,right:5,bottom:5},this.options.adjustDistance),this.outside=!(!this.options.outside||"xy"==this.options.outside)&&this.options.position[this.options.outside],this.align=this.outside?this.outside:"center"!=this.options.position.y&&"number"!=t.type(this.options.position.y)?this.options.position.x:"center"!=this.options.position.x&&"number"!=t.type(this.options.position.x)?this.options.position.y:this.options.attributes.x,e.zIndexMax=Math.max(e.zIndexMax||0,"auto"===this.options.zIndex?1e4:this.options.zIndex),"auto"===this.options.zIndex&&(this.adjustZIndexOnOpen=!0,e.zIndexMax+=2,this.options.zIndex=e.zIndexMax,this.trueModal=this.options.overlay),this._getOpp=function(t){return{left:"right",right:"left",top:"bottom",bottom:"top",x:"y",y:"x"}[t]},this._getXY=function(t){return{left:"x",right:"x",top:"y",bottom:"y",center:"x"}[t]},this._getTL=function(t){return{left:"left",right:"left",top:"top",bottom:"top",center:"left",x:"left",y:"top"}[t]},this._getInt=function(e,i){return"auto"==e?"auto":e&&"string"==t.type(e)&&"%"==e.slice(-1)?t(window)["height"==i?"innerHeight":"innerWidth"]()*parseInt(e.replace("%",""))/100:e},this._createSVG=function(e,i){var s=document.createElementNS("http://www.w3.org/2000/svg",e);return t.each(i,function(t,e){s.setAttribute(e[0],e[1]||"")}),s},this._isolateScroll=function(t){t&&t.length&&t.on("DOMMouseScroll.jBoxIsolateScroll mousewheel.jBoxIsolateScroll",function(e){var i=e.wheelDelta||e.originalEvent&&e.originalEvent.wheelDelta||-e.detail,s=0<=this.scrollTop+t.outerHeight()-this.scrollHeight,o=this.scrollTop<=0;(i<0&&s||0<i&&o)&&e.preventDefault()})},this._setTitleWidth=function(){if(!this.titleContainer||"auto"==this.content[0].style.width&&!this.content[0].style.maxWidth)return null;if("none"==this.wrapper.css("display")){this.wrapper.css("display","block");var t=this.content.outerWidth();this.wrapper.css("display","none")}else t=this.content.outerWidth();this.titleContainer.css({maxWidth:Math.max(t,parseInt(this.content[0].style.maxWidth))||null})},this._draggable=function(){if(!this.options.draggable)return!1;var i="title"==this.options.draggable?this.titleContainer:this.options.draggable instanceof t?this.options.draggable:"string"==t.type(this.options.draggable)?t(this.options.draggable):this.wrapper;return!(!(i&&i instanceof t&&i.length)||i.data("jBox-draggable"))&&(i.addClass("jBox-draggable").data("jBox-draggable",!0).on("mousedown",function(i){if(2!=i.button&&!t(i.target).hasClass("jBox-noDrag")&&!t(i.target).parents(".jBox-noDrag").length){this.options.dragOver&&!this.trueModal&&parseInt(this.wrapper.css("zIndex"),10)<=e.zIndexMaxDragover&&(e.zIndexMaxDragover+=1,this.wrapper.css("zIndex",e.zIndexMaxDragover));var s=this.wrapper.outerHeight(),o=this.wrapper.outerWidth(),n=this.wrapper.offset().top+s-i.pageY,a=this.wrapper.offset().left+o-i.pageX;t(document).on("mousemove.jBox-draggable-"+this.id,function(t){this.wrapper.offset({top:t.pageY+n-s,left:t.pageX+a-o})}.bind(this)),i.preventDefault()}}.bind(this)).on("mouseup",function(){if(t(document).off("mousemove.jBox-draggable-"+this.id),("Modal"==this.type||"Confirm"==this.type)&&this.options.holdPosition){var e=t("#"+this.id).offset(),i={x:e.left-t(document).scrollLeft(),y:e.top-t(document).scrollTop()};this.position({position:i,offset:{x:0,y:0}})}}.bind(this)),this.trueModal||(e.zIndexMaxDragover=e.zIndexMaxDragover?Math.max(e.zIndexMaxDragover,this.options.zIndex):this.options.zIndex),this)},this._create=function(){if(!this.wrapper){if(this.wrapper=t("<div/>",{id:this.id,class:"jBox-wrapper"+(this.type?" jBox-"+this.type:"")+(this.options.theme?" jBox-"+this.options.theme:"")+(this.options.addClass?" "+this.options.addClass:"")}).css({position:this.options.fixed?"fixed":"absolute",display:"none",opacity:0,zIndex:this.options.zIndex}).data("jBox",this),this.options.closeOnMouseleave&&this.wrapper.on("mouseleave",function(e){!this.source||e.relatedTarget!=this.source[0]&&-1===t.inArray(this.source[0],t(e.relatedTarget).parents("*"))&&this.close()}.bind(this)),"box"==this.options.closeOnClick&&this.wrapper.on("touchend click",function(){this.close({ignoreDelay:!0})}.bind(this)),this.container=t('<div class="jBox-container"/>').appendTo(this.wrapper),this.content=t('<div class="jBox-content"/>').appendTo(this.container),this.options.footer&&(this.footer=t('<div class="jBox-footer"/>').append(this.options.footer).appendTo(this.container)),this.options.isolateScroll&&this._isolateScroll(this.content),this.options.closeButton){var e=this._createSVG("svg",[["viewBox","0 0 24 24"]]);e.appendChild(this._createSVG("path",[["d","M22.2,4c0,0,0.5,0.6,0,1.1l-6.8,6.8l6.9,6.9c0.5,0.5,0,1.1,0,1.1L20,22.3c0,0-0.6,0.5-1.1,0L12,15.4l-6.9,6.9c-0.5,0.5-1.1,0-1.1,0L1.7,20c0,0-0.5-0.6,0-1.1L8.6,12L1.7,5.1C1.2,4.6,1.7,4,1.7,4L4,1.7c0,0,0.6-0.5,1.1,0L12,8.5l6.8-6.8c0.5-0.5,1.1,0,1.1,0L22.2,4z"]])),this.closeButton=t('<div class="jBox-closeButton jBox-noDrag"/>').on("touchend click",function(t){this.close({ignoreDelay:!0})}.bind(this)).append(e),"box"!=this.options.closeButton&&(!0!==this.options.closeButton||this.options.overlay||this.options.title||this.options.getTitle)||(this.wrapper.addClass("jBox-closeButton-box"),this.closeButton.appendTo(this.container))}if(this.wrapper.appendTo(this.options.appendTo),this.wrapper.find(".jBox-closeButton").length&&t.each(["top","right","bottom","left"],function(t,e){this.wrapper.find(".jBox-closeButton").css(e)&&"auto"!=this.wrapper.find(".jBox-closeButton").css(e)&&(this.options.adjustDistance[e]=Math.max(this.options.adjustDistance[e],this.options.adjustDistance[e]+-1*((parseInt(this.wrapper.find(".jBox-closeButton").css(e))||0)+(parseInt(this.container.css("border-"+e+"-width"))||0))))}.bind(this)),this.options.pointer){if(this.pointer={position:"target"!=this.options.pointTo?this.options.pointTo:this._getOpp(this.outside),xy:"target"!=this.options.pointTo?this._getXY(this.options.pointTo):this._getXY(this.outside),align:"center",offset:0},this.pointer.element=t('<div class="jBox-pointer jBox-pointer-'+this.pointer.position+'"/>').appendTo(this.wrapper),this.pointer.dimensions={x:this.pointer.element.outerWidth(),y:this.pointer.element.outerHeight()},"string"==t.type(this.options.pointer)){var i=this.options.pointer.split(":");i[0]&&(this.pointer.align=i[0]),i[1]&&(this.pointer.offset=parseInt(i[1]))}this.pointer.alignAttribute="x"==this.pointer.xy?"bottom"==this.pointer.align?"bottom":"top":"right"==this.pointer.align?"right":"left",this.wrapper.css("padding-"+this.pointer.position,this.pointer.dimensions[this.pointer.xy]),this.pointer.element.css(this.pointer.alignAttribute,"center"==this.pointer.align?"50%":0).css("margin-"+this.pointer.alignAttribute,this.pointer.offset),this.pointer.margin={},this.pointer.margin["margin-"+this.pointer.alignAttribute]=this.pointer.offset,"center"==this.pointer.align&&this.pointer.element.css("transform","translate("+("y"==this.pointer.xy?-.5*this.pointer.dimensions.x+"px":0)+", "+("x"==this.pointer.xy?-.5*this.pointer.dimensions.y+"px":0)+")"),this.pointer.element.css("x"==this.pointer.xy?"width":"height",parseInt(this.pointer.dimensions[this.pointer.xy])+parseInt(this.container.css("border-"+this.pointer.alignAttribute+"-width"))),this.wrapper.addClass("jBox-pointerPosition-"+this.pointer.position)}this.setContent(this.options.content,!0),this.setTitle(this.options.title,!0),this.options.draggable&&this._draggable(),this._fireEvent("onCreated")}},this.options.createOnInit&&this._create(),this.options.attach&&this.attach(),this._attachEvents=function(){this.options.closeOnEsc&&t(document).on("keyup.jBox-"+this.id,function(t){27==t.keyCode&&this.close({ignoreDelay:!0})}.bind(this)),!0!==this.options.closeOnClick&&"body"!=this.options.closeOnClick||t(document).on("touchend.jBox-"+this.id+" click.jBox-"+this.id,function(t){this.blockBodyClick||"body"==this.options.closeOnClick&&(t.target==this.wrapper[0]||this.wrapper.has(t.target).length)||this.close({ignoreDelay:!0})}.bind(this)),this.options.delayOnHover&&t("#"+this.id).on("mouseenter",function(t){this.isHovered=!0}.bind(this)),this.options.delayOnHover&&t("#"+this.id).on("mouseleave",function(t){this.isHovered=!1}.bind(this)),(this.options.adjustPosition||this.options.reposition)&&!this.fixed&&this.outside&&(this.options.adjustTracker&&t(window).on("scroll.jBox-"+this.id,function(t){this.position()}.bind(this)),(this.options.adjustPosition||this.options.reposition)&&t(window).on("resize.jBox-"+this.id,function(t){this.position()}.bind(this))),"mouse"==this.options.target&&t("body").on("mousemove.jBox-"+this.id,function(t){this.position({mouseTarget:{top:t.pageY,left:t.pageX}})}.bind(this))},this._detachEvents=function(){this.options.closeOnEsc&&t(document).off("keyup.jBox-"+this.id),(!0===this.options.closeOnClick||"body"==this.options.closeOnClick)&&t(document).off("touchend.jBox-"+this.id+" click.jBox-"+this.id),this.options.adjustTracker&&t(window).off("scroll.jBox-"+this.id),(this.options.adjustPosition||this.options.reposition)&&t(window).off("resize.jBox-"+this.id),"mouse"==this.options.target&&t("body").off("mousemove.jBox-"+this.id)},this._showOverlay=function(){this.overlay||(this.overlay=t('<div id="'+this.id+'-overlay"/>').addClass("jBox-overlay"+(this.type?" jBox-overlay-"+this.type:"")).css({display:"none",opacity:0,zIndex:this.options.zIndex-1}).appendTo(this.options.appendTo),("overlay"==this.options.closeButton||!0===this.options.closeButton)&&this.overlay.append(this.closeButton),"overlay"==this.options.closeOnClick&&this.overlay.on("touchend click",function(){this.close({ignoreDelay:!0})}.bind(this)),t("#"+this.id+"-overlay .jBox-closeButton").length&&(this.options.adjustDistance.top=Math.max(t("#"+this.id+"-overlay .jBox-closeButton").outerHeight(),this.options.adjustDistance.top))),!0===this.adjustZIndexOnOpen&&this.overlay.css("zIndex",parseInt(this.wrapper.css("zIndex"),10)-1),"block"!=this.overlay.css("display")&&(this.options.fade?this.overlay.stop()&&this.overlay.animate({opacity:1},{queue:!1,duration:this.options.fade,start:function(){this.overlay.css({display:"block"})}.bind(this)}):this.overlay.css({display:"block",opacity:1}))},this._hideOverlay=function(){this.overlay&&(this.options.fade?this.overlay.stop()&&this.overlay.animate({opacity:0},{queue:!1,duration:this.options.fade,complete:function(){this.overlay.css({display:"none"})}.bind(this)}):this.overlay.css({display:"none",opacity:0}))},this._exposeDimensions=function(){this.wrapper.css({top:-1e4,left:-1e4,right:"auto",bottom:"auto"});var t={x:this.wrapper.outerWidth(),y:this.wrapper.outerHeight()};return this.wrapper.css({top:"auto",left:"auto"}),t},this._generateAnimationCSS=function(){if("object"!=t.type(this.options.animation)&&(this.options.animation={pulse:{open:"pulse",close:"zoomOut"},zoomIn:{open:"zoomIn",close:"zoomIn"},zoomOut:{open:"zoomOut",close:"zoomOut"},move:{open:"move",close:"move"},slide:{open:"slide",close:"slide"},flip:{open:"flip",close:"flip"},tada:{open:"tada",close:"zoomOut"}}[this.options.animation]),!this.options.animation)return null;this.options.animation.open&&(this.options.animation.open=this.options.animation.open.split(":")),this.options.animation.close&&(this.options.animation.close=this.options.animation.close.split(":")),this.options.animation.openDirection=this.options.animation.open[1]?this.options.animation.open[1]:null,this.options.animation.closeDirection=this.options.animation.close[1]?this.options.animation.close[1]:null,this.options.animation.open&&(this.options.animation.open=this.options.animation.open[0]),this.options.animation.close&&(this.options.animation.close=this.options.animation.close[0]),this.options.animation.open&&(this.options.animation.open+="Open"),this.options.animation.close&&(this.options.animation.close+="Close");var e={pulse:{duration:350,css:[["0%","scale(1)"],["50%","scale(1.1)"],["100%","scale(1)"]]},zoomInOpen:{duration:this.options.fade||180,css:[["0%","scale(0.9)"],["100%","scale(1)"]]},zoomInClose:{duration:this.options.fade||180,css:[["0%","scale(1)"],["100%","scale(0.9)"]]},zoomOutOpen:{duration:this.options.fade||180,css:[["0%","scale(1.1)"],["100%","scale(1)"]]},zoomOutClose:{duration:this.options.fade||180,css:[["0%","scale(1)"],["100%","scale(1.1)"]]},moveOpen:{duration:this.options.fade||180,positions:{top:{"0%":-12},right:{"0%":12},bottom:{"0%":12},left:{"0%":-12}},css:[["0%","translate%XY(%Vpx)"],["100%","translate%XY(0px)"]]},moveClose:{duration:this.options.fade||180,timing:"ease-in",positions:{top:{"100%":-12},right:{"100%":12},bottom:{"100%":12},left:{"100%":-12}},css:[["0%","translate%XY(0px)"],["100%","translate%XY(%Vpx)"]]},slideOpen:{duration:400,positions:{top:{"0%":-400},right:{"0%":400},bottom:{"0%":400},left:{"0%":-400}},css:[["0%","translate%XY(%Vpx)"],["100%","translate%XY(0px)"]]},slideClose:{duration:400,timing:"ease-in",positions:{top:{"100%":-400},right:{"100%":400},bottom:{"100%":400},left:{"100%":-400}},css:[["0%","translate%XY(0px)"],["100%","translate%XY(%Vpx)"]]},flipOpen:{duration:600,css:[["0%","perspective(400px) rotateX(90deg)"],["40%","perspective(400px) rotateX(-15deg)"],["70%","perspective(400px) rotateX(15deg)"],["100%","perspective(400px) rotateX(0deg)"]]},flipClose:{duration:this.options.fade||300,css:[["0%","perspective(400px) rotateX(0deg)"],["100%","perspective(400px) rotateX(90deg)"]]},tada:{duration:800,css:[["0%","scale(1)"],["10%, 20%","scale(0.9) rotate(-3deg)"],["30%, 50%, 70%, 90%","scale(1.1) rotate(3deg)"],["40%, 60%, 80%","scale(1.1) rotate(-3deg)"],["100%","scale(1) rotate(0)"]]}};t.each(["pulse","tada"],function(t,i){e[i+"Open"]=e[i+"Close"]=e[i]});var i=function(i,s){return keyframe_css="@keyframes jBox-"+this.id+"-animation-"+this.options.animation[i]+"-"+i+(s?"-"+s:"")+" {",t.each(e[this.options.animation[i]].css,function(t,o){var n=s?o[1].replace("%XY",this._getXY(s).toUpperCase()):o[1];e[this.options.animation[i]].positions&&(n=n.replace("%V",e[this.options.animation[i]].positions[s][o[0]])),keyframe_css+=o[0]+" {transform:"+n+";}"}.bind(this)),keyframe_css+="}",keyframe_css+=".jBox-"+this.id+"-animation-"+this.options.animation[i]+"-"+i+(s?"-"+s:"")+" {",keyframe_css+="animation-duration: "+e[this.options.animation[i]].duration+"ms;",keyframe_css+="animation-name: jBox-"+this.id+"-animation-"+this.options.animation[i]+"-"+i+(s?"-"+s:"")+";",keyframe_css+=e[this.options.animation[i]].timing?"animation-timing-function: "+e[this.options.animation[i]].timing+";":"",keyframe_css+="}",keyframe_css}.bind(this);this._animationCSS="",t.each(["open","close"],function(s,o){if(!this.options.animation[o]||!e[this.options.animation[o]]||"close"==o&&!this.options.fade)return"";e[this.options.animation[o]].positions?t.each(["top","right","bottom","left"],function(t,e){this._animationCSS+=i(o,e)}.bind(this)):this._animationCSS+=i(o)}.bind(this))},this.options.animation&&this._generateAnimationCSS(),this._blockBodyClick=function(){this.blockBodyClick=!0,setTimeout(function(){this.blockBodyClick=!1}.bind(this),10)},this._animate=function(t){if(!t&&(t=this.isOpen?"open":"close"),!this.options.fade&&"close"==t)return null;var e=this.options.animation[t+"Direction"]||("center"!=this.align?this.align:this.options.attributes.x);this.flipped&&this._getXY(e)==this._getXY(this.align)&&(e=this._getOpp(e));var i="jBox-"+this.id+"-animation-"+this.options.animation[t]+"-"+t+" jBox-"+this.id+"-animation-"+this.options.animation[t]+"-"+t+"-"+e;this.wrapper.addClass(i);var s=1e3*parseFloat(this.wrapper.css("animation-duration"));"close"==t&&(s=Math.min(s,this.options.fade)),setTimeout(function(){this.wrapper.removeClass(i)}.bind(this),s)},this._abortAnimation=function(){var t=this.wrapper.attr("class").split(" ").filter(function(t){return 0!==t.lastIndexOf("jBox-"+this.id+"-animation",0)}.bind(this));this.wrapper.attr("class",t.join(" "))},(this.options.responsiveWidth||this.options.responsiveHeight)&&t(window).on("resize.responsivejBox-"+this.id,function(t){this.isOpen&&this.position()}.bind(this)),"string"===t.type(this.options.preloadAudio)&&(this.options.preloadAudio=[this.options.preloadAudio]),"string"===t.type(this.options.audio)&&(this.options.audio={open:this.options.audio}),"number"===t.type(this.options.volume)&&(this.options.volume={open:this.options.volume,close:this.options.volume}),!0===this.options.preloadAudio&&this.options.audio&&(this.options.preloadAudio=[],t.each(this.options.audio,function(t,e){this.options.preloadAudio.push(e+".mp3"),this.options.preloadAudio.push(e+".ogg")}.bind(this))),this.options.preloadAudio.length&&t.each(this.options.preloadAudio,function(t,e){var i=new Audio;i.src=e,i.preload="auto"}),this._fireEvent("onInit"),this};return s.prototype.attach=function(e,i){return!e&&(e=this.options.attach),"string"==t.type(e)&&(e=t(e)),!i&&(i=this.options.trigger),e&&e.length&&t.each(e,function(e,s){(s=t(s)).data("jBox-attached-"+this.id)||("title"==this.options.getContent&&null!=s.attr("title")&&s.data("jBox-getContent",s.attr("title")).removeAttr("title"),this.attachedElements||(this.attachedElements=[]),this.attachedElements.push(s[0]),s.on(i+".jBox-attach-"+this.id,function(t){if(this.timer&&clearTimeout(this.timer),"mouseenter"!=i||!this.isOpen||this.source[0]!=s[0]){if(this.isOpen&&this.source&&this.source[0]!=s[0])var e=!0;this.source=s,!this.options.target&&(this.target=s),"click"==i&&this.options.preventDefault&&t.preventDefault(),this["click"!=i||e?"open":"toggle"]()}}.bind(this)),"mouseenter"==this.options.trigger&&s.on("mouseleave",function(e){if(!this.wrapper)return null;this.options.closeOnMouseleave&&(e.relatedTarget==this.wrapper[0]||t(e.relatedTarget).parents("#"+this.id).length)||this.close()}.bind(this)),s.data("jBox-attached-"+this.id,i),this._fireEvent("onAttach",s))}.bind(this)),this},s.prototype.detach=function(e){return!e&&(e=this.attachedElements||[]),e&&e.length&&t.each(e,function(e,i){(i=t(i)).data("jBox-attached-"+this.id)&&(i.off(i.data("jBox-attached-"+this.id)+".jBox-attach-"+this.id),i.data("jBox-attached-"+this.id,null)),this.attachedElements=t.grep(this.attachedElements,function(t){return t!=i[0]})}.bind(this)),this},s.prototype.setTitle=function(e,i){if(null==e||null==e)return this;!this.wrapper&&this._create();var s=this.wrapper.outerHeight(),o=this.wrapper.outerWidth();return this.title||(this.titleContainer=t('<div class="jBox-title"/>'),this.title=t("<div/>").appendTo(this.titleContainer),this.wrapper.addClass("jBox-hasTitle"),("title"==this.options.closeButton||!0===this.options.closeButton&&!this.options.overlay)&&(this.wrapper.addClass("jBox-closeButton-title"),this.closeButton.appendTo(this.titleContainer)),this.titleContainer.insertBefore(this.content),this._setTitleWidth()),this.title.html(e),o!=this.wrapper.outerWidth()&&this._setTitleWidth(),this.options.draggable&&this._draggable(),!i&&this.options.repositionOnContent&&(s!=this.wrapper.outerHeight()||o!=this.wrapper.outerWidth())&&this.position(),this},s.prototype.setContent=function(e,i){if(null==e||null==e)return this;!this.wrapper&&this._create();var s=this.wrapper.outerHeight(),o=this.wrapper.outerWidth();switch(this.content.children("[data-jbox-content-appended]").appendTo("body").css({display:"none"}),t.type(e)){case"string":this.content.html(e);break;case"object":this.content.html(""),e.attr("data-jbox-content-appended",1).appendTo(this.content).css({display:"block"})}return o!=this.wrapper.outerWidth()&&this._setTitleWidth(),this.options.draggable&&this._draggable(),!i&&this.options.repositionOnContent&&(s!=this.wrapper.outerHeight()||o!=this.wrapper.outerWidth())&&this.position(),this},s.prototype.setDimensions=function(t,e,i){!this.wrapper&&this._create(),null==e&&(e="auto"),this.content.css(t,this._getInt(e)),"width"==t&&this._setTitleWidth(),(null==i||i)&&this.position()},s.prototype.setWidth=function(t,e){this.setDimensions("width",t,e)},s.prototype.setHeight=function(t,e){this.setDimensions("height",t,e)},s.prototype.position=function(e){if(!e&&(e={}),e=t.extend(!0,this.options,e),this.target=e.target||this.target||t(window),!(this.target instanceof t||"mouse"==this.target)&&(this.target=t(this.target)),!this.target.length)return this;this.content.css({width:this._getInt(e.width,"width"),height:this._getInt(e.height,"height"),minWidth:this._getInt(e.minWidth,"width"),minHeight:this._getInt(e.minHeight,"height"),maxWidth:this._getInt(e.maxWidth,"width"),maxHeight:this._getInt(e.maxHeight,"height")}),this._setTitleWidth();var i=this._exposeDimensions();"mouse"!=this.target&&!this.target.data("jBox-"+this.id+"-fixed")&&this.target.data("jBox-"+this.id+"-fixed",this.target[0]!=t(window)[0]&&("fixed"==this.target.css("position")||0<this.target.parents().filter(function(){return"fixed"==t(this).css("position")}).length)?"fixed":"static");var s={x:t(window).outerWidth(),y:t(window).outerHeight(),top:e.fixed&&this.target.data("jBox-"+this.id+"-fixed")?0:t(window).scrollTop(),left:e.fixed&&this.target.data("jBox-"+this.id+"-fixed")?0:t(window).scrollLeft()};s.bottom=s.top+s.y,s.right=s.left+s.x;try{var o=this.target.offset()}catch(s){o={top:0,left:0}}"mouse"!=this.target&&"fixed"==this.target.data("jBox-"+this.id+"-fixed")&&e.fixed&&(o.top=o.top-t(window).scrollTop(),o.left=o.left-t(window).scrollLeft());var n={x:"mouse"==this.target?12:this.target.outerWidth(),y:"mouse"==this.target?20:this.target.outerHeight(),top:"mouse"==this.target&&e.mouseTarget?e.mouseTarget.top:o?o.top:0,left:"mouse"==this.target&&e.mouseTarget?e.mouseTarget.left:o?o.left:0},a=e.outside&&!("center"==e.position.x&&"center"==e.position.y),r={x:s.x-e.adjustDistance.left-e.adjustDistance.right,y:s.y-e.adjustDistance.top-e.adjustDistance.bottom,left:a?n.left-t(window).scrollLeft()-e.adjustDistance.left:0,right:a?s.x-n.left+t(window).scrollLeft()-n.x-e.adjustDistance.right:0,top:a?n.top-t(window).scrollTop()-this.options.adjustDistance.top:0,bottom:a?s.y-n.top+t(window).scrollTop()-n.y-e.adjustDistance.bottom:0},l={x:"x"!=e.outside&&"xy"!=e.outside||"number"==t.type(e.position.x)?null:e.position.x,y:"y"!=e.outside&&"xy"!=e.outside||"number"==t.type(e.position.y)?null:e.position.y},c={x:!1,y:!1};if(l.x&&i.x>r[l.x]&&r[this._getOpp(l.x)]>r[l.x]&&(l.x=this._getOpp(l.x))&&(c.x=!0),l.y&&i.y>r[l.y]&&r[this._getOpp(l.y)]>r[l.y]&&(l.y=this._getOpp(l.y))&&(c.y=!0),e.responsiveWidth||e.responsiveHeight){var d=function(){if(e.responsiveWidth&&i.x>r[l.x||"x"]){var t=r[l.x||"x"]-(this.pointer&&a&&"x"==e.outside?this.pointer.dimensions.x:0)-parseInt(this.container.css("border-left-width"))-parseInt(this.container.css("border-right-width"));this.content.css({width:t>this.options.responsiveMinWidth?t:null,minWidth:t<parseInt(this.content.css("minWidth"))?0:null}),this._setTitleWidth()}i=this._exposeDimensions()}.bind(this);e.responsiveWidth&&d(),e.responsiveWidth&&!c.y&&l.y&&i.y>r[l.y]&&r[this._getOpp(l.y)]>r[l.y]&&(l.y=this._getOpp(l.y))&&(c.y=!0);var u=function(){if(e.responsiveHeight&&i.y>r[l.y||"y"]){var t=function(){if(!this.titleContainer&&!this.footer)return 0;if("none"==this.wrapper.css("display")){this.wrapper.css("display","block");var t=(this.titleContainer?this.titleContainer.outerHeight():0)+(this.footer?this.footer.outerHeight():0);this.wrapper.css("display","none")}else t=(this.titleContainer?this.titleContainer.outerHeight():0)+(this.footer?this.footer.outerHeight():0);return t||0}.bind(this),s=r[l.y||"y"]-(this.pointer&&a&&"y"==e.outside?this.pointer.dimensions.y:0)-t()-parseInt(this.container.css("border-top-width"))-parseInt(this.container.css("border-bottom-width"));this.content.css({height:s>this.options.responsiveMinHeight?s:null}),this._setTitleWidth()}i=this._exposeDimensions()}.bind(this);e.responsiveHeight&&u(),e.responsiveHeight&&!c.x&&l.x&&i.x>r[l.x]&&r[this._getOpp(l.x)]>r[l.x]&&(l.x=this._getOpp(l.x))&&(c.x=!0),e.adjustPosition&&"move"!=e.adjustPosition&&(c.x&&d(),c.y&&u())}var p={},h=function(s){if("number"!=t.type(e.position[s])){var o=e.attributes[s]="x"==s?"left":"top";if(p[o]=n[o],"center"==e.position[s])return p[o]+=Math.ceil((n[s]-i[s])/2),void("mouse"!=this.target&&this.target[0]&&this.target[0]==t(window)[0]&&(p[o]+=.5*(e.adjustDistance[o]-e.adjustDistance[this._getOpp(o)])));o!=e.position[s]&&(p[o]+=n[s]-i[s]),(e.outside==s||"xy"==e.outside)&&(p[o]+=i[s]*(o!=e.position[s]?1:-1))}else p[e.attributes[s]]=e.position[s]}.bind(this);if(h("x"),h("y"),this.pointer&&"target"==e.pointTo&&"number"!=t.type(e.position.x)&&"number"!=t.type(e.position.y)){var m=0;switch(this.pointer.align){case"center":"center"!=e.position[this._getOpp(e.outside)]&&(m+=i[this._getOpp(e.outside)]/2);break;default:switch(e.position[this._getOpp(e.outside)]){case"center":m+=(i[this._getOpp(e.outside)]/2-this.pointer.dimensions[this._getOpp(e.outside)]/2)*(this.pointer.align==this._getTL(this.pointer.align)?1:-1);break;default:m+=this.pointer.align!=e.position[this._getOpp(e.outside)]?this.dimensions[this._getOpp(e.outside)]*(-1!==t.inArray(this.pointer.align,["top","left"])?1:-1)+this.pointer.dimensions[this._getOpp(e.outside)]/2*(-1!==t.inArray(this.pointer.align,["top","left"])?-1:1):this.pointer.dimensions[this._getOpp(e.outside)]/2*(-1!==t.inArray(this.pointer.align,["top","left"])?1:-1)}}m*=e.position[this._getOpp(e.outside)]==this.pointer.alignAttribute?-1:1,m+=this.pointer.offset*(this.pointer.align==this._getOpp(this._getTL(this.pointer.align))?1:-1),p[this._getTL(this._getOpp(this.pointer.xy))]+=m}if(p[e.attributes.x]+=e.offset.x,p[e.attributes.y]+=e.offset.y,this.wrapper.css(p),e.adjustPosition){this.positionAdjusted&&(this.pointer&&this.wrapper.css("padding",0).css("padding-"+this._getOpp(this.outside),this.pointer.dimensions[this._getXY(this.outside)]).removeClass("jBox-pointerPosition-"+this._getOpp(this.pointer.position)).addClass("jBox-pointerPosition-"+this.pointer.position),this.pointer&&this.pointer.element.attr("class","jBox-pointer jBox-pointer-"+this._getOpp(this.outside)).css(this.pointer.margin),this.positionAdjusted=!1,this.flipped=!1);var g=s.top>p.top-(e.adjustDistance.top||0),f=s.right<p.left+i.x+(e.adjustDistance.right||0),_=s.bottom<p.top+i.y+(e.adjustDistance.bottom||0),v=s.left>p.left-(e.adjustDistance.left||0),b=v?"left":f?"right":null,w=g?"top":_?"bottom":null;if(b||w){if(("Modal"==this.type||"Confirm"==this.type)&&"number"==t.type(this.options.position.x)&&"number"==t.type(this.options.position.y)){var x=0,y=0;return this.options.holdPosition&&(v?x=s.left-(p.left-(e.adjustDistance.left||0)):f&&(x=s.right-(p.left+i.x+(e.adjustDistance.right||0))),g?y=s.top-(p.top-(e.adjustDistance.top||0)):_&&(y=s.bottom-(p.top+i.y+(e.adjustDistance.bottom||0))),this.options.position.x=Math.max(s.top,this.options.position.x+x),this.options.position.y=Math.max(s.left,this.options.position.y+y),h("x"),h("y"),this.wrapper.css(p)),this._fireEvent("onPosition"),this}var k=function(t){this.wrapper.css(this._getTL(t),p[this._getTL(t)]+(i[this._getXY(t)]+e.offset[this._getXY(t)]*("top"==t||"left"==t?-2:2)+n[this._getXY(t)])*("top"==t||"left"==t?1:-1)),this.pointer&&this.wrapper.removeClass("jBox-pointerPosition-"+this.pointer.position).addClass("jBox-pointerPosition-"+this._getOpp(this.pointer.position)).css("padding",0).css("padding-"+t,this.pointer.dimensions[this._getXY(t)]),this.pointer&&this.pointer.element.attr("class","jBox-pointer jBox-pointer-"+t),this.positionAdjusted=!0,this.flipped=!0}.bind(this);c.x&&k(this.options.position.x),c.y&&k(this.options.position.y);var C="x"==this._getXY(this.outside)?w:b;if(this.pointer&&"target"==e.pointTo&&"flip"!=e.adjustPosition&&this._getXY(C)==this._getOpp(this._getXY(this.outside))){if("center"==this.pointer.align)var E=i[this._getXY(C)]/2-this.pointer.dimensions[this._getOpp(this.pointer.xy)]/2-parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))*(C!=this._getTL(C)?-1:1);else E=C==this.pointer.alignAttribute?parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute)):i[this._getXY(C)]-parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))-this.pointer.dimensions[this._getXY(C)];var j=C==this._getTL(C)?s[this._getTL(C)]-p[this._getTL(C)]+e.adjustDistance[C]:-1*(s[this._getOpp(this._getTL(C))]-p[this._getTL(C)]-e.adjustDistance[C]-i[this._getXY(C)]);C==this._getOpp(this._getTL(C))&&p[this._getTL(C)]-j<s[this._getTL(C)]+e.adjustDistance[this._getTL(C)]&&(j-=s[this._getTL(C)]+e.adjustDistance[this._getTL(C)]-(this.pos[this._getTL(C)]-j)),(j=Math.min(j,E))<=E&&0<j&&(this.pointer.element.css("margin-"+this.pointer.alignAttribute,parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))-j*(C!=this.pointer.alignAttribute?-1:1)),this.wrapper.css(this._getTL(C),p[this._getTL(C)]+j*(C!=this._getTL(C)?-1:1)),this.positionAdjusted=!0)}}}return this._fireEvent("onPosition"),this},s.prototype.open=function(e){if(!e&&(e={}),this.isDestroyed)return!1;if(!this.wrapper&&this._create(),!this._styles&&(this._styles=t("<style/>").append(this._animationCSS).appendTo(t("head"))),this.timer&&clearTimeout(this.timer),this._blockBodyClick(),this.isDisabled)return this;var i=function(){!0===this.adjustZIndexOnOpen&&(s.zIndexMax=Math.max(parseInt(this.wrapper.css("zIndex"),10),this.options.zIndex,s.zIndexMax||0,s.zIndexMaxDragover||0)+2,this.wrapper.css("zIndex",s.zIndexMax),this.options.zIndex=s.zIndexMax),this.source&&this.options.getTitle&&this.source.attr(this.options.getTitle)&&this.setTitle(this.source.attr(this.options.getTitle),!0),this.source&&this.options.getContent&&(this.source.data("jBox-getContent")?this.setContent(this.source.data("jBox-getContent"),!0):this.source.attr(this.options.getContent)?this.setContent(this.source.attr(this.options.getContent),!0):"html"==this.options.getContent&&this.setContent(this.source.html(),!0)),this._fireEvent("onOpen"),(this.options.ajax&&(this.options.ajax.url||this.source&&this.source.attr(this.options.ajax.getURL))&&(!this.ajaxLoaded||this.options.ajax.reload)||e.ajax&&(e.ajax.url||e.ajax.data))&&("strict"==this.options.ajax.reload||!this.source||!this.source.data("jBox-ajax-data")||e.ajax&&(e.ajax.url||e.ajax.data)?this.ajax(e.ajax||null,!0):this.setContent(this.source.data("jBox-ajax-data"))),(!this.positionedOnOpen||this.options.repositionOnOpen)&&this.position(e)&&(this.positionedOnOpen=!0),this.isClosing&&this._abortAnimation(),this.isOpen||(this.isOpen=!0,this.options.autoClose&&(this.options.delayClose=this.options.autoClose)&&this.close(),this._attachEvents(),this.options.blockScroll&&t("body").addClass("jBox-blockScroll-"+this.id),this.options.overlay&&this._showOverlay(),this.options.animation&&!this.isClosing&&this._animate("open"),this.options.audio&&this.options.audio.open&&this.audio(this.options.audio.open,this.options.volume.open),this.options.fade?this.wrapper.stop().animate({opacity:1},{queue:!1,duration:this.options.fade,start:function(){this.isOpening=!0,this.wrapper.css({display:"block"})}.bind(this),always:function(){this.isOpening=!1,setTimeout(function(){this.positionOnFadeComplete&&this.position()&&(this.positionOnFadeComplete=!1)}.bind(this),10)}.bind(this)}):(this.wrapper.css({display:"block",opacity:1}),this.positionOnFadeComplete&&this.position()&&(this.positionOnFadeComplete=!1)))}.bind(this);return!this.options.delayOpen||this.isOpen||this.isClosing||e.ignoreDelay?i():this.timer=setTimeout(i,this.options.delayOpen),this},s.prototype.close=function(e){if(e||(e={}),this.isDestroyed||this.isClosing)return!1;if(this.timer&&clearTimeout(this.timer),this._blockBodyClick(),this.isDisabled)return this;var i=function(){this._fireEvent("onClose"),this.options.cancelAjaxOnClose&&this.abortAjax(),this.isOpen&&(this.isOpen=!1,this._detachEvents(),this.options.blockScroll&&t("body").removeClass("jBox-blockScroll-"+this.id),this.options.overlay&&this._hideOverlay(),this.options.animation&&!this.isOpening&&this._animate("close"),this.options.audio&&this.options.audio.close&&this.audio(this.options.audio.close,this.options.volume.close),this.options.fade?this.wrapper.stop().animate({opacity:0},{queue:!1,duration:this.options.fade,start:function(){this.isClosing=!0}.bind(this),complete:function(){this.wrapper.css({display:"none"}),this._fireEvent("onCloseComplete")}.bind(this),always:function(){this.isClosing=!1}.bind(this)}):(this.wrapper.css({display:"none",opacity:0}),this._fireEvent("onCloseComplete")))}.bind(this);if(e.ignoreDelay)i();else if((this.options.delayOnHover||this.options.showCountdown)&&10<this.options.delayClose){var s=this,o=this.options.delayClose,n=Date.now();if(this.options.showCountdown&&!this.inner){var a=t('<div class="jBox-countdown"></div>');this.inner=t('<div class="jBox-countdown_inner"></div>'),a.prepend(this.inner),t("#"+this.id).append(a)}this.countdown=function(){var t=Date.now();s.isHovered||(o-=t-n),n=t,0<o?(s.options.showCountdown&&s.inner.css("width",100*o/s.options.delayClose+"%"),window.requestAnimationFrame(s.countdown)):i()},window.requestAnimationFrame(this.countdown)}else this.timer=setTimeout(i,Math.max(this.options.delayClose,10));return this},s.prototype.toggle=function(t){return this[this.isOpen?"close":"open"](t),this},s.prototype.disable=function(){return this.isDisabled=!0,this},s.prototype.enable=function(){return this.isDisabled=!1,this},s.prototype.hide=function(){return this.disable(),this.wrapper&&this.wrapper.css({display:"none"}),this},s.prototype.show=function(){return this.enable(),this.wrapper&&this.wrapper.css({display:"block"}),this},s.prototype.ajax=function(e,i){e||(e={}),t.each([["getData","data"],["getURL","url"]],function(t,i){this.options.ajax[i[0]]&&!e[i[1]]&&this.source&&null!=this.source.attr(this.options.ajax[i[0]])&&(e[i[1]]=this.source.attr(this.options.ajax[i[0]])||"")}.bind(this));var s=t.extend(!0,{},this.options.ajax);this.abortAjax();var o=e.beforeSend||s.beforeSend||function(){},n=e.complete||s.complete||function(){},a=e.success||s.success||function(){},r=e.error||s.error||function(){},l=t.extend(!0,s,e);return l.beforeSend=function(e){this.wrapper.addClass("jBox-loading"),l.spinner&&(this.spinnerDelay=setTimeout(function(){this.wrapper.addClass("jBox-loading-spinner"),l.spinnerReposition&&(i?this.positionOnFadeComplete=!0:this.position()),this.spinner=t(!0!==l.spinner?l.spinner:'<div class="jBox-spinner"></div>').appendTo(this.container),this.titleContainer&&"absolute"==this.spinner.css("position")&&this.spinner.css({transform:"translateY("+.5*this.titleContainer.outerHeight()+"px)"})}.bind(this),""==this.content.html()?0:l.spinnerDelay||0)),o.bind(this)(e)}.bind(this),l.complete=function(t){this.spinnerDelay&&clearTimeout(this.spinnerDelay),this.wrapper.removeClass("jBox-loading jBox-loading-spinner jBox-loading-spinner-delay"),this.spinner&&this.spinner.length&&this.spinner.remove()&&l.spinnerReposition&&(i?this.positionOnFadeComplete=!0:this.position()),this.ajaxLoaded=!0,n.bind(this)(t)}.bind(this),l.success=function(t){l.setContent&&this.setContent(t,!0)&&(i?this.positionOnFadeComplete=!0:this.position()),l.setContent&&this.source&&this.source.data("jBox-ajax-data",t),a.bind(this)(t)}.bind(this),l.error=function(t){r.bind(this)(t)}.bind(this),this.ajaxRequest=t.ajax(l),this},s.prototype.abortAjax=function(){this.ajaxRequest&&this.ajaxRequest.abort()},s.prototype.audio=function(e,i){if(!e)return this;if(!s._audio&&(s._audio={}),!s._audio[e]){var o=t("<audio/>");t("<source/>",{src:e+".mp3"}).appendTo(o),t("<source/>",{src:e+".ogg"}).appendTo(o),s._audio[e]=o[0]}s._audio[e].volume=Math.min((null!=i?i:100)/100,1);try{s._audio[e].pause(),s._audio[e].currentTime=0}catch(e){}return s._audio[e].play(),this},s._animationSpeeds={tada:1e3,tadaSmall:1e3,flash:500,shake:400,pulseUp:250,pulseDown:250,popIn:250,popOut:250,fadeIn:200,fadeOut:200,slideUp:400,slideRight:400,slideLeft:400,slideDown:400},s.prototype.animate=function(t,e){!e&&(e={}),!this.animationTimeout&&(this.animationTimeout={}),!e.element&&(e.element=this.wrapper),!e.element.data("jBox-animating-id")&&e.element.data("jBox-animating-id",s._getUniqueElementID()),e.element.data("jBox-animating")&&(e.element.removeClass(e.element.data("jBox-animating")).data("jBox-animating",null),this.animationTimeout[e.element.data("jBox-animating-id")]&&clearTimeout(this.animationTimeout[e.element.data("jBox-animating-id")])),e.element.addClass("jBox-animated-"+t).data("jBox-animating","jBox-animated-"+t),this.animationTimeout[e.element.data("jBox-animating-id")]=setTimeout(function(){e.element.removeClass(e.element.data("jBox-animating")).data("jBox-animating",null),e.complete&&e.complete()},s._animationSpeeds[t])},s.prototype.destroy=function(){return this.detach(),this.isOpen&&this.close({ignoreDelay:!0}),this.wrapper&&this.wrapper.remove(),this.overlay&&this.overlay.remove(),this._styles&&this._styles.remove(),this.isDestroyed=!0,this},s._getUniqueID=(e=1,function(){return e++}),s._getUniqueElementID=(i=1,function(){return i++}),s._pluginOptions={},s.plugin=function(t,e){s._pluginOptions[t]=e},t.fn.jBox=function(e,i){return!e&&(e={}),!i&&(i={}),new s(e,t.extend(i,{attach:this}))},s}),jQuery(document).ready(function(){new jBox.plugin("Confirm",{confirmButton:"Submit",cancelButton:"Cancel",confirm:null,cancel:null,closeOnConfirm:!0,target:window,addClass:"jBox-Modal",fixed:!0,attach:"[data-confirm]",getContent:"data-confirm",content:"Do you really want to do this?",minWidth:360,maxWidth:500,blockScroll:!0,closeOnEsc:!0,closeOnClick:!1,closeButton:!1,overlay:!0,animation:"zoomIn",preventDefault:!0,_onAttach:function(t){if(!this.options.confirm){var e=t.attr("onclick")?t.attr("onclick"):t.attr("href")?t.attr("target")?'window.open("'+t.attr("href")+'", "'+t.attr("target")+'");':'window.location.href = "'+t.attr("href")+'";':"";t.prop("onclick",null).data("jBox-Confirm-submit",e)}},_onCreated:function(){this.footer=jQuery('<div class="jBox-Confirm-footer"/>'),jQuery('<div class="jBox-Confirm-button jBox-Confirm-button-cancel"/>').html(this.options.cancelButton).click(function(){this.options.cancel&&this.options.cancel(),this.close()}.bind(this)).appendTo(this.footer),this.submitButton=jQuery('<div class="jBox-Confirm-button jBox-Confirm-button-submit"/>').html(this.options.confirmButton).appendTo(this.footer),this.footer.appendTo(this.container)},_onOpen:function(){this.submitButton.off("click.jBox-Confirm"+this.id).on("click.jBox-Confirm"+this.id,function(){this.options.confirm?this.options.confirm():eval(this.source.data("jBox-Confirm-submit")),this.options.closeOnConfirm&&this.close()}.bind(this))}})}),jQuery(document).ready(function(){new jBox.plugin("Image",{src:"href",gallery:"data-jbox-image",imageLabel:"title",imageFade:360,imageSize:"contain",imageCounter:!1,imageCounterSeparator:"/",target:window,attach:"[data-jbox-image]",fixed:!0,blockScroll:!0,closeOnEsc:!0,closeOnClick:"button",closeButton:!0,overlay:!0,animation:"zoomIn",preventDefault:!0,width:"100%",height:"100%",downloadButton:!1,downloadButtonText:null,downloadButtonUrl:null,adjustDistance:{top:40,right:5,bottom:40,left:5},_onInit:function(){this.images=this.currentImage={},this.imageZIndex=1,this.attachedElements&&jQuery.each(this.attachedElements,function(t,e){if(!(e=jQuery(e)).data("jBox-image-gallery")){var i=e.attr(this.options.gallery)||"default";!this.images[i]&&(this.images[i]=[]),this.images[i].push({src:e.attr(this.options.src),label:e.attr(this.options.imageLabel)||"",downloadUrl:this.options.downloadButtonUrl&&e.attr(this.options.downloadButtonUrl)?e.attr(this.options.downloadButtonUrl):null}),"title"==this.options.imageLabel&&e.removeAttr("title"),e.data("jBox-image-gallery",i),e.data("jBox-image-id",this.images[i].length-1)}}.bind(this));var t=function(t,e,i,s,o){if(!jQuery("#jBox-image-"+t+"-"+e).length){var n=jQuery("<div/>",{id:"jBox-image-"+t+"-"+e,class:"jBox-image-container"+(o?" jBox-image-not-found":"")+(s||i?"":" jBox-image-"+t+"-current")}).css({backgroundImage:o?"":'url("'+this.images[t][e].src+'")',backgroundSize:this.options.imageSize,opacity:s?1:0,zIndex:i?0:this.imageZIndex++}).appendTo(this.content);jQuery("<div/>",{id:"jBox-image-label-"+t+"-"+e,class:"jBox-image-label"+(s?" active":"")}).html(this.images[t][e].label).click(function(){$(this).toggleClass("expanded")}).appendTo(this.imageLabel),!s&&!i&&n.animate({opacity:1},this.options.imageFade)}}.bind(this);this.downloadImage=function(t){var e=document.createElement("a");e.href=t,e.setAttribute("download",t.substring(t.lastIndexOf("/")+1)),document.body.appendChild(e),e.click()};var e=function(t,e){jQuery(".jBox-image-label.active").removeClass("active expanded"),jQuery("#jBox-image-label-"+t+"-"+e).addClass("active")};this.showImage=function(i){if("open"!=i){var s=this.currentImage.gallery;o=(o=this.currentImage.id+(1*("prev"==i)?-1:1))>this.images[s].length-1?0:o<0?this.images[s].length-1:o}else{s=this.source.data("jBox-image-gallery");var o=this.source.data("jBox-image-id");jQuery(".jBox-image-pointer-prev, .jBox-image-pointer-next").css({display:1<this.images[s].length?"block":"none"})}if(jQuery(".jBox-image-"+s+"-current").length&&jQuery(".jBox-image-"+s+"-current").removeClass("jBox-image-"+s+"-current").animate({opacity:0},"open"==i?0:this.options.imageFade),this.currentImage={gallery:s,id:o},jQuery("#jBox-image-"+s+"-"+o).length?(jQuery("#jBox-image-"+s+"-"+o).addClass("jBox-image-"+s+"-current").css({zIndex:this.imageZIndex++,opacity:0}).animate({opacity:1},"open"==i?0:this.options.imageFade),e(s,o)):(this.wrapper.addClass("jBox-image-loading"),jQuery('<img src="'+this.images[s][o].src+'"/>').each(function(){var i=new Image;i.onload=function(){t(s,o,!1),e(s,o),this.wrapper.removeClass("jBox-image-loading")}.bind(this),i.onerror=function(){t(s,o,!1,null,!0),e(s,o),this.wrapper.removeClass("jBox-image-loading")}.bind(this),i.src=this.images[s][o].src}.bind(this))),this.imageCounter&&(1<this.images[s].length?(this.wrapper.addClass("jBox-image-has-counter"),this.imageCounter.find(".jBox-image-counter-all").html(this.images[s].length),this.imageCounter.find(".jBox-image-counter-current").html(o+1)):this.wrapper.removeClass("jBox-image-has-counter")),this.images[s].length-1){var n=o+1;n=n>this.images[s].length-1?0:n<0?this.images[s].length-1:n,!jQuery("#jBox-image-"+s+"-"+n).length&&jQuery('<img src="'+this.images[s][n].src+'"/>').each(function(){var e=new Image;e.onload=function(){t(s,n,!0)}.bind(this),e.onerror=function(){t(s,n,!0,null,!0)}.bind(this),e.src=this.images[s][n].src}.bind(this))}}},_onCreated:function(){this.imageLabel=jQuery("<div/>",{class:"jBox-image-label-container"}).appendTo(this.wrapper),this.imageLabel.append(jQuery("<div/>",{class:"jBox-image-pointer-prev",click:function(){this.showImage("prev")}.bind(this)})).append(jQuery("<div/>",{class:"jBox-image-pointer-next",click:function(){this.showImage("next")}.bind(this)})),this.options.downloadButton&&(this.downloadButton=jQuery("<div/>",{class:"jBox-image-download-button-wrapper"}).appendTo(this.wrapper).append(this.options.downloadButtonText?jQuery("<div/>",{class:"jBox-image-download-button-text"}).html(this.options.downloadButtonText):null).append(jQuery("<div/>",{class:"jBox-image-download-button-icon"})).on("click touchdown",function(){if(this.images[this.currentImage.gallery][this.currentImage.id].downloadUrl)var t=this.images[this.currentImage.gallery][this.currentImage.id].downloadUrl;else t=this.wrapper.find(".jBox-image-default-current")[0].style.backgroundImage.slice(4,-1).replace(/["']/g,"");this.downloadImage(t)}.bind(this))),this.options.imageCounter&&(this.imageCounter=jQuery("<div/>",{class:"jBox-image-counter-container"}).appendTo(this.wrapper),this.imageCounter.append(jQuery("<span/>",{class:"jBox-image-counter-current"})).append(jQuery("<span/>").html(this.options.imageCounterSeparator)).append(jQuery("<span/>",{class:"jBox-image-counter-all"})))},_onOpen:function(){jQuery(document).on("keyup.jBox-Image-"+this.id,function(t){37==t.keyCode&&this.showImage("prev"),39==t.keyCode&&this.showImage("next")}.bind(this)),this.showImage("open")},_onClose:function(){jQuery(document).off("keyup.jBox-Image-"+this.id)},_onCloseComplete:function(){this.wrapper.find(".jBox-image-container").css("opacity",0)}})}),jQuery(document).ready(function(){new jBox.plugin("Notice",{color:null,stack:!0,stackSpacing:10,autoClose:6e3,attributes:{x:"right",y:"top"},position:{x:15,y:15},responsivePositions:{500:{x:5,y:5},768:{x:10,y:10}},target:window,fixed:!0,animation:"zoomIn",closeOnClick:"box",zIndex:12e3,_onInit:function(){this.defaultNoticePosition=jQuery.extend({},this.options.position),this._adjustNoticePositon=function(){var t=jQuery(window),e=t.width();t.height(),this.options.position=jQuery.extend({},this.defaultNoticePosition),jQuery.each(this.options.responsivePositions,function(t,i){if(e<=t)return this.options.position=i,!1}.bind(this)),this.options.adjustDistance={top:this.options.position.y,right:this.options.position.x,bottom:this.options.position.y,left:this.options.position.x}},this.options.content instanceof jQuery&&(this.options.content=this.options.content.clone().attr("id","")),jQuery(window).on("resize.responsivejBoxNotice-"+this.id,function(t){this.isOpen&&this._adjustNoticePositon()}.bind(this)),this.open()},_onCreated:function(){this.wrapper.addClass("jBox-Notice-color jBox-Notice-"+(this.options.color||"gray")),this.wrapper.data("jBox-Notice-position",this.options.attributes.x+"-"+this.options.attributes.y)},_onOpen:function(){this.options.stack||(this._adjustNoticePositon(),jQuery.each(jQuery(".jBox-Notice"),function(t,e){(e=jQuery(e)).attr("id")!=this.id&&e.data("jBox-Notice-position")==this.options.attributes.x+"-"+this.options.attributes.y&&(this.options.stack||e.data("jBox").close({ignoreDelay:!0}))}.bind(this)))},_onPosition:function(){var t={};for(var e in jQuery.each(jQuery(".jBox-Notice"),function(e,i){var s=(i=jQuery(i)).data("jBox-Notice-position");t[s]||(t[s]=[]),t[s].push(i)}),t){var i=e.split("-")[1];t[e].reverse();var s=0;for(var o in t[e])el=t[e][o],el.css("margin-"+i,s),s+=el.outerHeight()+this.options.stackSpacing}},_onCloseComplete:function(){this.destroy(),this.options._onPosition.bind(this).call()}})}),function(t){t.fn.autoComplete=function(e){var i=t.extend({},t.fn.autoComplete.defaults,e);return"string"==typeof e?(this.each(function(){var i=t(this);"destroy"==e&&(t(window).off("resize.autocomplete",i.updateSC),i.off("blur.autocomplete focus.autocomplete keydown.autocomplete keyup.autocomplete"),i.data("autocomplete")?i.attr("autocomplete",i.data("autocomplete")):i.removeAttr("autocomplete"),t(i.data("sc")).remove(),i.removeData("sc").removeData("autocomplete"))}),this):this.each(function(){function e(t){var e=s.val();if(s.cache[e]=t,t.length&&e.length>=i.minChars){for(var o="",n=0;n<t.length;n++)o+=i.renderItem(t[n],e);s.sc.html(o),s.updateSC(0)}else s.sc.hide()}var s=t(this);s.sc=t('<div class="autocomplete-suggestions '+i.menuClass+'"></div>'),s.data("sc",s.sc).data("autocomplete",s.attr("autocomplete")),s.attr("autocomplete","off"),s.cache={},s.last_val="",s.updateSC=function(e,i){if(s.sc.css({top:s.offset().top+s.outerHeight(),left:s.offset().left,width:s.outerWidth()}),!e&&(s.sc.show(),s.sc.maxHeight||(s.sc.maxHeight=parseInt(s.sc.css("max-height"))),s.sc.suggestionHeight||(s.sc.suggestionHeight=t(".autocomplete-suggestion",s.sc).first().outerHeight()),s.sc.suggestionHeight))if(i){var o=s.sc.scrollTop(),n=i.offset().top-s.sc.offset().top;n+s.sc.suggestionHeight-s.sc.maxHeight>0?s.sc.scrollTop(n+s.sc.suggestionHeight+o-s.sc.maxHeight):0>n&&s.sc.scrollTop(n+o)}else s.sc.scrollTop(0)},t(window).on("resize.autocomplete",s.updateSC),s.sc.appendTo("body"),s.sc.on("mouseleave",".autocomplete-suggestion",function(){t(".autocomplete-suggestion.selected").removeClass("selected")}),s.sc.on("mouseenter",".autocomplete-suggestion",function(){t(".autocomplete-suggestion.selected").removeClass("selected"),t(this).addClass("selected")}),s.sc.on("mousedown click",".autocomplete-suggestion",function(e){var o=t(this),n=o.data("val");return(n||o.hasClass("autocomplete-suggestion"))&&(s.val(n),i.onSelect(e,n,o),s.sc.hide()),!1}),s.on("blur.autocomplete",function(){try{over_sb=t(".autocomplete-suggestions:hover").length}catch(t){over_sb=0}over_sb?s.is(":focus")||setTimeout(function(){s.focus()},20):(s.last_val=s.val(),s.sc.hide(),setTimeout(function(){s.sc.hide()},350))}),i.minChars||s.on("focus.autocomplete",function(){s.last_val="\n",s.trigger("keyup.autocomplete")}),s.on("keydown.autocomplete",function(e){var o;if((40==e.which||38==e.which)&&s.sc.html())return(n=t(".autocomplete-suggestion.selected",s.sc)).length?(o=40==e.which?n.next(".autocomplete-suggestion"):n.prev(".autocomplete-suggestion")).length?(n.removeClass("selected"),s.val(o.addClass("selected").data("val"))):(n.removeClass("selected"),s.val(s.last_val),o=0):(o=40==e.which?t(".autocomplete-suggestion",s.sc).first():t(".autocomplete-suggestion",s.sc).last(),s.val(o.addClass("selected").data("val"))),s.updateSC(0,o),!1;if(27==e.which)s.val(s.last_val).sc.hide();else if(13==e.which||9==e.which){var n;(n=t(".autocomplete-suggestion.selected",s.sc)).length&&s.sc.is(":visible")&&(i.onSelect(e,n.data("val"),n),setTimeout(function(){s.sc.hide()},20))}}),s.on("keyup.autocomplete",function(o){if(!~t.inArray(o.which,[13,27,35,36,37,38,39,40])){var n=s.val();if(n.length>=i.minChars){if(n!=s.last_val){if(s.last_val=n,clearTimeout(s.timer),i.cache){if(n in s.cache)return void e(s.cache[n]);for(var a=1;a<n.length-i.minChars;a++){var r=n.slice(0,n.length-a);if(r in s.cache&&!s.cache[r].length)return void e([])}}s.timer=setTimeout(function(){i.source(n,e)},i.delay)}}else s.last_val=n,s.sc.hide()}})})},t.fn.autoComplete.defaults={source:0,minChars:3,delay:150,cache:1,menuClass:"",renderItem:function(t,e){e=e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");var i=new RegExp("("+e.split(" ").join("|")+")","gi");return'<div class="autocomplete-suggestion" data-val="'+t+'">'+t.replace(i,"<b>$1</b>")+"</div>"},onSelect:function(t,e,i){}}}(jQuery),function(t){t("[data-popup-open]").on("click",function(e){t(".theme-main-wrapper").addClass("popup-overlay");var i=jQuery(this).attr("data-popup-open");t('[data-popup="'+i+'"]').fadeIn(350),e.preventDefault()}),t("[data-popup-close]").on("click",function(e){t(".theme-main-wrapper").removeClass("popup-overlay");var i=jQuery(this).attr("data-popup-close");t('[data-popup="'+i+'"]').fadeOut(350),e.preventDefault()}),t("#number").toggle(function(){t(this).find("span.number-main").text(t(this).data("last"))},function(){t(this).find("span.number-main").html(t(this).data("pre"))})}(jQuery),jQuery(window).load(function(){alsp_equalColumnsHeightCat()});